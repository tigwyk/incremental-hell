{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/features/Scrap.vue?45ed","webpack:///./src/components/ScrapAction.vue?ffbf","webpack:///./src/components/features/TimeLine.vue?fcda","webpack:///./src/components/Upgrade.vue?ab70","webpack:///./src/VueApp.vue?e990","webpack:///./src/engine/GameState.ts","webpack:///./src/VueApp.vue?06a0","webpack:///./src/engine/features/wallet/CurrencyType.ts","webpack:///./src/engine/tools/saving/LocalStorage.ts","webpack:///./src/engine/developer-panel/DeveloperPanel.ts","webpack:///./src/engine/developer-panel/DeveloperPanelTab.ts","webpack:///./src/engine/developer-panel/fields/AbstractField.ts","webpack:///./src/engine/developer-panel/fields/FunctionField.ts","webpack:///./src/engine/developer-panel/fields/DisplayField.ts","webpack:///./src/engine/developer-panel/fields/ChoiceField.ts","webpack:///./src/engine/Game.ts","webpack:///./src/engine/features/Feature.ts","webpack:///./src/engine/features/settings/SettingId.ts","webpack:///./src/engine/developer-panel/fields/NumberField.ts","webpack:///./src/engine/developer-panel/fields/RangeField.ts","webpack:///./src/engine/features/wallet/Wallet.ts","webpack:///./src/engine/features/statistics/StatisticId.ts","webpack:///./src/engine/tools/requirements/Progress.ts","webpack:///./src/engine/tools/requirements/Requirement.ts","webpack:///./src/engine/tools/requirements/NoRequirement.ts","webpack:///./src/engine/features/settings/Setting.ts","webpack:///./src/engine/features/settings/SettingOption.ts","webpack:///./src/engine/features/settings/BooleanSetting.ts","webpack:///./src/engine/features/settings/Settings.ts","webpack:///./src/engine/features/achievements/AchievementId.ts","webpack:///./src/engine/features/statistics/AbstractStatistic.ts","webpack:///./src/engine/features/statistics/NumberStatistic.ts","webpack:///./src/engine/features/statistics/StatisticsSaveData.ts","webpack:///./src/engine/features/statistics/ArrayStatistic.ts","webpack:///./src/engine/features/statistics/Statistics.ts","webpack:///./src/engine/features/achievements/Achievement.ts","webpack:///./src/engine/features/achievements/AchievementSaveData.ts","webpack:///./src/engine/features/items/ItemId.ts","webpack:///./src/engine/tools/requirements/ManualRequirement.ts","webpack:///./src/engine/features/achievements/CustomAchievement.ts","webpack:///./src/engine/features/statistics/requirements/NumberStatisticRequirement.ts","webpack:///./src/engine/features/achievements/Achievements.ts","webpack:///./src/engine/features/inventory/InventorySlot.ts","webpack:///./src/engine/features/items/AbstractItem.ts","webpack:///./src/engine/features/items/ItemType.ts","webpack:///./src/engine/features/items/Consumable.ts","webpack:///./src/engine/features/items/instances/EmptyItem.ts","webpack:///./src/engine/features/upgrades/UpgradeType.ts","webpack:///./src/engine/features/inventory/Inventory.ts","webpack:///./src/engine/features/wallet/Currency.ts","webpack:///./src/engine/features/items/instances/MoneyPouch.ts","webpack:///./src/engine/features/items/instances/ItemWithData.ts","webpack:///./src/engine/features/items/instances/RawFish.ts","webpack:///./src/engine/features/items/instances/CookedFish.ts","webpack:///./src/engine/features/items/ItemList.ts","webpack:///./src/engine/features/saving/SaveData.ts","webpack:///./src/engine/features/scrap/ScrapSaveData.ts","webpack:///./src/engine/features/upgrades/UpgradeListSaveData.ts","webpack:///./src/engine/features/upgrades/UpgradeList.ts","webpack:///./src/engine/features/wallet/CurrencyBuilder.ts","webpack:///./src/engine/features/timeline/TimeLineState.ts","webpack:///./src/engine/features/upgrades/UpgradeSaveData.ts","webpack:///./src/engine/features/upgrades/Upgrade.ts","webpack:///./src/engine/features/upgrades/DiscreteUpgrade.ts","webpack:///./src/engine/features/upgrades/SingleLevelUpgrade.ts","webpack:///./src/engine/progressbars/ProgressBar.ts","webpack:///./src/engine/tools/requirements/MultiRequirement.ts","webpack:///./src/engine/features/scrap/ScrapAction.ts","webpack:///./src/engine/features/statistics/requirements/StatisticRequirement.ts","webpack:///./src/engine/features/scrap/Scrap.ts","webpack:///./src/engine/features/timeline/TimeLineSaveData.ts","webpack:///./src/engine/features/timeline/TimeLine.ts","webpack:///./src/App.ts","webpack:///./src/components/util/igt-notifications.vue?29e0","webpack:///./src/components/util/igt-notification.vue?b5a3","webpack:///src/components/util/igt-notification.vue","webpack:///./src/components/util/igt-notification.vue?1988","webpack:///./src/components/util/igt-notification.vue","webpack:///src/components/util/igt-notifications.vue","webpack:///./src/components/util/igt-notifications.vue?0e9b","webpack:///./src/components/util/igt-notifications.vue","webpack:///./src/components/features/Scrap.vue?54ce","webpack:///./src/components/Upgrade.vue?3eb0","webpack:///./src/components/Currency.vue?582b","webpack:///src/components/Currency.vue","webpack:///./src/components/Currency.vue?b343","webpack:///./src/components/Currency.vue","webpack:///src/components/Upgrade.vue","webpack:///./src/components/Upgrade.vue?930d","webpack:///./src/components/Upgrade.vue?1a80","webpack:///./src/components/ScrapAction.vue?f9c9","webpack:///src/components/ScrapAction.vue","webpack:///./src/components/ScrapAction.vue?376e","webpack:///./src/components/ScrapAction.vue?b0f3","webpack:///src/components/features/Scrap.vue","webpack:///./src/components/features/Scrap.vue?3b89","webpack:///./src/components/features/Scrap.vue?073c","webpack:///./src/components/features/TimeLine.vue?228f","webpack:///src/components/features/TimeLine.vue","webpack:///./src/components/features/TimeLine.vue?b815","webpack:///./src/components/features/TimeLine.vue","webpack:///src/VueApp.vue","webpack:///./src/VueApp.vue?7249","webpack:///./src/VueApp.vue?fe61","webpack:///./src/VueFilters.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","GameState","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","CurrencyType","localStorage","setItem","JSON","stringify","parse","getItem","removeItem","tabs","label","children","propertyName","cssClass","undefined","console","warn","componentName","func","setComponentName","options","features","_tickInterval","TICK_DURATION","SAVE_INTERVAL","_nextSave","gameSpeed","_lastUpdate","_onSave","SAVE_KEY","state","Launching","asEvent","setObject","start","setCssClass","pause","resume","stop","featureList","feature","fields","getDeveloperPanelFields","field","tab","saveKey","isEmpty","now","Date","getTime","timeDifference","Playing","delta","update","save","type","multiplier","getTotalCurrencyMultiplier","initialize","Stopped","Number","setInterval","debug","printStateWarning","clearInterval","Paused","res","store","dispatch","delete","saveData","featureSaveData","load","reason","values","SettingId","min","max","step","supportedCurrencies","_currencies","_multipliers","_onCurrencyGain","_supportedCurrencies","Wood","Grain","Souls","Bronze","Silver","Gold","supportsCurrencyType","currency","multiply","getCurrencyMultiplier","isValid","amount","toString","costs","cost","hasCurrency","Money","Scrap","Salt","Diamond","currencies","loseCurrency","hasCurrencies","loseMultipleCurrencies","isNaN","includes","money","Diamonds","StatisticId","actual","target","actualValue","targetValue","Math","id","displayName","defaultValue","requirement","canAccess","validValue","option","find","isCompleted","displayText","list","setting","getSetting","add","ShowSaveMessage","set","settingSave","map","alert","AchievementId","description","registerStatistic","TotalMoneyGained","TotalScrapGained","TotalScrapGainedThisPrestige","wallet","onCurrencyGain","subscribe","incrementNumberStatistic","getStatistic","hasStatistic","statistic","index","newValue","json","addStatistic","title","image","unlocked","progress","ItemId","isSet","forceCompletion","ACHIEVEMENT_CHECK_TIME","checkCounter","_onUnlock","registerAchievement","AtLeastOneSuperPower","TotalMoney100","statistics","TotalMoney1000","TotalMoney10000","checkForAchievementsCompleted","achievement","requirementsCompleted","isJustUnlocked","unlock","hasAchievement","getAchievement","addAchievement","item","maxStack","error","ItemType","Infinity","consume","UpgradeType","Empty","slots","_itemList","_onItemGain","slotCount","Array","fill","itemList","indexFrom","indexTo","itemFrom","itemTo","swapItems","mergeItems","Error","spaceLeft","loseItems","gainItems","temp","inventoryItem","canConsume","consumeMultiple","loseItemAtIndex","getTotalAmount","nonFullStackIndex","getIndexOfNonFullStack","indexToUse","getIndexOfItem","amountToRemove","amountLeft","_gainItem","emptyIndex","getIndexOfFirstEmptySlot","log","amountToAdd","total","itemAmounts","clonedInventory","cloneDeep","gainItem","amounts","hasItemAmount","getSpotsLeftForItem","isFull","count","slotData","e","slot","MoneyPouch","Consumable","consumeLabel","moneyToGain","_wallet","gainCurrency","customData","ItemWithData","Default","RawFish","CookedFish","_features","upgrades","upgrade","filter","getBonus","level","upgradeSave","getUpgrade","addUpgrade","TimeLineState","maxLevel","increasing","isMaxLevel","game","getCost","canAfford","canBuy","levelUp","costList","bonusList","bonus","goal","requirements","isStarted","complete","canRepeat","gainReward","repeat","every","hint","req","completed","automationUpgrade","valueUpgrade","scrap","isBought","scrapReward","ScrapAutomation","ScrapValue","createArray","ScrapAutomationSpeed","actions","speedMultiplier","action","canAccessScrap","canAccessGasoline","canAccessLightning","canAccessPlutonium","SCRAP_GOAL","GASOLINE_GOAL","OIL_GOAL","START_STATE","giveStartingCurrency","getAmount","canTimeTravel","loseAll","reset","FluxCapacitor","getDefaultGame","settings","achievements","inventory","timeLine","inProduction","attrs","scopedSlots","_u","fn","ref","notifications","_l","notification","class","backgroundColor","icon","textColor","_v","_s","text","component","staticStyle","_f","scrapAmount","_e","directives","rawName","expression","on","buy","abs","getUpgradeBonus","_t","currencyType","style","percentage","timeLineState","Lightning","Gasoline","_m","timeTravel","toFixed","replace","date","year","Intl","DateTimeFormat","format","month","day","hours","getHours","hoursString","minutes","getMinutes","minutesString","string","charAt","toUpperCase","config","productionTip","use","onload","App","render","h","VueApp","$mount"],"mappings":"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","file":"js/app.a23198be.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/incremental-hell/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scrap.vue?vue&type=style&index=0&id=00c2a5c7&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScrapAction.vue?vue&type=style&index=0&id=6241cfc8&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=style&index=0&id=4ee22b2e&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upgrade.vue?vue&type=style&index=0&id=5ba6ce92&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueApp.vue?vue&type=style&index=0&lang=css&\"","/**\r\n * Launching: The default, game is still starting up\r\n * Playing: Normal gameplay\r\n * Paused: Gameplay is suspended, to continue you need to resume\r\n * Stopped: Gameplay is stopped, to continue you need to start\r\n */\r\nexport enum GameState {\r\n    Launching = \"Launching\",\r\n    Playing = \"Playing\",\r\n    Paused = \"Paused\",\r\n    Stopped = \"Stopped\",\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('time-line'),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"row\"},[_c('scrap')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export enum CurrencyType {\r\n    Money = \"Money\",\r\n    Souls = \"Souls\",\r\n    Wood = \"Wood\",\r\n    Grain = \"Grain\",\r\n    Bronze = \"Bronze\",\r\n    Silver = \"Silver\",\r\n    Gold = \"Gold\",\r\n    Salt = \"Salt\",\r\n    Diamond = \"Diamonds\",\r\n    Scrap = \"Scrap\",\r\n}\r\n","export class LocalStorage {\r\n    public static store(key: string, data: Record<string, unknown>): void {\r\n        localStorage.setItem(key, JSON.stringify(data));\r\n    }\r\n\r\n    // TODO(@Isha) add error handling here\r\n    public static get(key: string): Record<string, unknown> {\r\n        return JSON.parse(localStorage.getItem(key) as string) as Record<string, unknown>;\r\n    }\r\n\r\n    public static delete(key: string): void {\r\n        localStorage.removeItem(key)\r\n    }\r\n}\r\n","import {DeveloperPanelTab} from \"@/engine/developer-panel/DeveloperPanelTab\";\r\n\r\nexport class DeveloperPanel {\r\n    tabs: DeveloperPanelTab[];\r\n\r\n    constructor(tabs: DeveloperPanelTab[]) {\r\n        this.tabs = tabs;\r\n    }\r\n}","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\nexport class DeveloperPanelTab {\r\n    label: string;\r\n    children: AbstractField[];\r\n\r\n\r\n    constructor(label: string, children: AbstractField[]) {\r\n        this.label = label;\r\n        this.children = children;\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n        return this.children.length == 0;\r\n    }\r\n}","export class AbstractField {\r\n    object: object | undefined;\r\n    componentName: string | undefined;\r\n\r\n    propertyName: string;\r\n    label: string | undefined;\r\n\r\n    cssClass: string;\r\n\r\n    constructor(propertyName: string, label?: string) {\r\n        this.propertyName = propertyName;\r\n        this.label = label;\r\n        this.cssClass = 'btn-green';\r\n    }\r\n\r\n    get displayLabel() {\r\n        return this.label ?? this.propertyName;\r\n    }\r\n\r\n    get value() {\r\n        if (this.object == undefined) {\r\n            console.warn(`Cannot get warning as object is undefined for AbstractField ${this.propertyName}`)\r\n            return '';\r\n        }\r\n        return (this.object as any)[this.propertyName];\r\n    }\r\n\r\n    set value(value: any) {\r\n        (this.object as any)[this.propertyName] = value;\r\n    }\r\n\r\n    setObject(object: object): this {\r\n        this.object = object;\r\n        return this;\r\n    }\r\n\r\n    setCssClass(cssClass: string): this {\r\n        this.cssClass = cssClass;\r\n        return this;\r\n    }\r\n\r\n    setComponentName(name: string): this {\r\n        this.componentName = name;\r\n        return this;\r\n    }\r\n}","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\n/**\r\n * Runs a custom function when the button is pressed\r\n */\r\nexport class FunctionField extends AbstractField {\r\n\r\n    func: Function ;\r\n\r\n    constructor(func: Function, label?: string) {\r\n        super('', label);\r\n        this.func = func;\r\n        this.setComponentName('igt-button-field');\r\n    }\r\n\r\n}","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\nexport class DisplayField extends AbstractField {\r\n\r\n    constructor(propertyName: string, label?: string) {\r\n        super(propertyName, label);\r\n        this.setComponentName('igt-display-field');\r\n    }\r\n\r\n}","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\nexport class ChoiceField extends AbstractField {\r\n    options: [string, number][];\r\n\r\n    constructor(propertyName: string, options: [string, number][], label?: string) {\r\n        super(propertyName, label);\r\n        this.options = options;\r\n        this.setComponentName('igt-choice-field');\r\n    }\r\n\r\n}","import {GameState} from \"./GameState\";\r\nimport {LocalStorage} from \"@/engine/tools/saving/LocalStorage\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Features} from \"@/engine/Features\";\r\nimport {Feature} from \"@/engine/features/Feature\";\r\nimport {DeveloperPanel} from \"@/engine/developer-panel/DeveloperPanel\";\r\nimport {DeveloperPanelTab} from \"@/engine/developer-panel/DeveloperPanelTab\";\r\nimport {FunctionField} from \"@/engine/developer-panel/fields/FunctionField\";\r\nimport {DisplayField} from \"@/engine/developer-panel/fields/DisplayField\";\r\nimport {ChoiceField} from \"@/engine/developer-panel/fields/ChoiceField\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {ISignal, ISimpleEvent, SignalDispatcher, SimpleEventDispatcher} from \"strongly-typed-events\";\r\n\r\nexport class Game {\r\n    private _tickInterval: number = -1;\r\n\r\n    /**\r\n     * Object with registered features. If you want them as a list use this.featureList\r\n     */\r\n    public readonly features: Features;\r\n\r\n    public state: GameState;\r\n\r\n\r\n    protected readonly TICK_DURATION: number = 0.1;\r\n    private readonly SAVE_INTERVAL = 30;\r\n    private _nextSave = this.SAVE_INTERVAL;\r\n\r\n    private gameSpeed = 1;\r\n    private _lastUpdate: number = 0;\r\n\r\n    /**\r\n     * Emitted whenever the game saves\r\n     */\r\n    private _onSave = new SignalDispatcher();\r\n\r\n    public get onSave(): ISignal {\r\n        return this._onSave.asEvent();\r\n    }\r\n\r\n    /**\r\n     * Make sure this key is unique to your game.\r\n     * Otherwise you might run into loading conflicts when multiple games are hosted on the same domain (such as <username.github.io/game)\r\n     */\r\n    protected readonly SAVE_KEY: string = \"incremental-hell\";\r\n\r\n    constructor(features: Features) {\r\n        this.features = features;\r\n\r\n        this.state = GameState.Launching;\r\n    }\r\n\r\n    public getDeveloperPanel(): DeveloperPanel {\r\n        // Start with play buttons for the game\r\n        const tabs: DeveloperPanelTab[] = [\r\n            new DeveloperPanelTab('Game', [\r\n                new DisplayField('state', 'State').setObject(this),\r\n                new ChoiceField('gameSpeed', [\r\n                    ['0.5x', 0.5],\r\n                    ['1x', 1],\r\n                    ['2x', 2],\r\n                    ['4x', 4],\r\n                ], 'Game speed').setObject(this),\r\n                new FunctionField(() => {\r\n                    this.start()\r\n                }, 'Start').setCssClass('btn-green'),\r\n                new FunctionField(() => {\r\n                    this.pause()\r\n                }, 'Pause').setCssClass('btn-blue'),\r\n                new FunctionField(() => {\r\n                    this.resume()\r\n                }, 'Resume').setCssClass('btn-green'),\r\n                new FunctionField(() => {\r\n                    this.stop()\r\n                }, 'Stop').setCssClass('btn-red'),\r\n            ]),\r\n\r\n        ];\r\n\r\n\r\n        for (const feature of this.featureList) {\r\n            const fields = feature.getDeveloperPanelFields();\r\n\r\n            // Inject the feature into the resource.\r\n            for (const field of fields) {\r\n                field.setObject(feature);\r\n            }\r\n\r\n            const tab = new DeveloperPanelTab(feature.saveKey, fields)\r\n            if (!tab.isEmpty()) {\r\n                tabs.push(tab)\r\n            }\r\n        }\r\n        return new DeveloperPanel(tabs);\r\n    }\r\n\r\n    /**\r\n     * Update all features\r\n     */\r\n    public update(): void {\r\n        const now = new Date().getTime() / 1000;\r\n        const timeDifference = now - this._lastUpdate;\r\n\r\n        if (this.state != GameState.Playing) {\r\n            return;\r\n        }\r\n\r\n        const delta = timeDifference * this.gameSpeed;\r\n        for (const feature of this.featureList) {\r\n            feature.update(delta)\r\n        }\r\n\r\n        this._lastUpdate = now;\r\n        this._nextSave -= delta;\r\n        if (this._nextSave <= 0) {\r\n            this.save();\r\n            this._nextSave = this.SAVE_INTERVAL;\r\n        }\r\n    }\r\n\r\n    public getTotalCurrencyMultiplier(type: CurrencyType): number {\r\n        let multiplier = 1;\r\n        for (const feature of this.featureList) {\r\n            multiplier *= feature.getTotalCurrencyMultiplier(type);\r\n        }\r\n        return multiplier;\r\n    }\r\n\r\n    /**\r\n     * Initialize all features\r\n     */\r\n    public initialize(): void {\r\n        for (const feature of this.featureList) {\r\n            feature.initialize(this.features);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Start the main update loop\r\n     */\r\n    public start(): void {\r\n        if (this.state !== GameState.Stopped && this.state !== GameState.Launching) {\r\n            this.printStateWarning(\"Cannot start the game twice.\");\r\n            return;\r\n        }\r\n\r\n        for (const feature of this.featureList) {\r\n            feature.start();\r\n        }\r\n\r\n        this._lastUpdate = new Date().getTime() / 1000;\r\n        this._tickInterval = Number(setInterval(() => this.update(), this.TICK_DURATION * 1000));\r\n\r\n        this.state = GameState.Playing;\r\n        console.debug(\"Game Started\");\r\n    }\r\n\r\n    public pause(): void {\r\n        if (this.state !== GameState.Playing) {\r\n            this.printStateWarning(\"Cannot pause the game if we're not playing.\");\r\n            return;\r\n        }\r\n        clearInterval(this._tickInterval);\r\n\r\n        this.state = GameState.Paused;\r\n        console.debug(\"Game Paused\");\r\n    }\r\n\r\n\r\n    public resume(): void {\r\n        if (this.state !== GameState.Paused) {\r\n            this.printStateWarning(\"Cannot resume the game if we're not paused.\");\r\n            return;\r\n        }\r\n\r\n        this._lastUpdate = new Date().getTime() / 1000;\r\n        // this._tickInterval = setInterval(() => this.update(), this.TICK_DURATION * 1000);\r\n\r\n        this.state = GameState.Playing;\r\n        console.debug(\"Game Resumed\");\r\n    }\r\n\r\n    /**\r\n     * Stop the main update loop\r\n     */\r\n    public stop(): void {\r\n        if (this.state === GameState.Stopped) {\r\n            this.printStateWarning(\"Cannot stop the game if we're already stopped.\");\r\n            return;\r\n        }\r\n        clearInterval(this._tickInterval);\r\n\r\n        for (const feature of this.featureList) {\r\n            feature.stop();\r\n        }\r\n\r\n        this.state = GameState.Stopped;\r\n        console.debug(\"Stopped\");\r\n    }\r\n\r\n    /**\r\n     * Recursively save all registered features\r\n     */\r\n    public save(): void {\r\n        const res: Record<string, unknown> = {};\r\n        for (const feature of this.featureList) {\r\n            res[feature.saveKey] = feature.save()\r\n        }\r\n        LocalStorage.store(this.SAVE_KEY, res)\r\n        this._onSave.dispatch();\r\n    }\r\n\r\n    /**\r\n     * Delete the locally stored save\r\n     */\r\n    public deleteSave(): void {\r\n        LocalStorage.delete(this.SAVE_KEY);\r\n    }\r\n\r\n    /**\r\n     * Recursively load all registered features\r\n     */\r\n    public load(): void {\r\n        const saveData = LocalStorage.get(this.SAVE_KEY)\r\n        if (saveData == null) {\r\n            return;\r\n        }\r\n        for (const feature of this.featureList) {\r\n            const featureSaveData: Record<string, unknown> = saveData[feature.saveKey] as Record<string, unknown>;\r\n            if (featureSaveData == null) {\r\n                continue;\r\n            }\r\n            feature.load(featureSaveData);\r\n        }\r\n    }\r\n\r\n    private printStateWarning(reason: string): void {\r\n        console.warn(`Current state = ${this.state}.`, reason);\r\n    }\r\n\r\n    private get featureList(): Feature[] {\r\n        return Object.values(this.features)\r\n    }\r\n}\r\n","import {Saveable} from \"@/engine/tools/saving/Saveable\";\r\nimport {SaveData} from \"@/engine/tools/saving/SaveData\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Features} from \"@/engine/Features\";\r\nimport {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\n/**\r\n * An abstract class that all features should extend for.\r\n */\r\nexport abstract class Feature implements Saveable {\r\n\r\n    /**\r\n     * Initialize all feature attributes.\r\n     * Note that you should not assume other features exist already here\r\n     * @param saveKey\r\n     */\r\n    protected constructor(saveKey: string) {\r\n        this.saveKey = saveKey;\r\n    }\r\n\r\n    /**\r\n     * Called in dev mode, decides which fields to show in the developer panel.\r\n     */\r\n    getDeveloperPanelFields(): AbstractField[] {\r\n        return []\r\n    }\r\n\r\n    /**\r\n     * Called after all features are created.\r\n     * Can be used to subscribe to other features events\r\n     */\r\n    initialize(features: Features): void {\r\n        // This method intentionally left blank\r\n    }\r\n\r\n    /**\r\n     * Runs when the game gets started. Can be run multiple times if the player can stop the game\r\n     */\r\n    start(): void {\r\n        // This method intentionally left blank\r\n    }\r\n\r\n    /**\r\n     * Runs when the game gets stopped. NOT when the game closes\r\n     */\r\n    stop(): void {\r\n        // This method intentionally left blank\r\n    }\r\n\r\n    /**\r\n     * Default false to avoid not implementing the proper restrictions\r\n     */\r\n    canAccess(): boolean {\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Override in features if specified\r\n     * IMPORTANT: Make sure to always return 1 as the default\r\n     */\r\n    getTotalCurrencyMultiplier(type: CurrencyType) {\r\n        return 1;\r\n    }\r\n\r\n    /**\r\n     * Gets called every Game.TICK_DURATION\r\n     * @param delta time since last update\r\n     */\r\n    update(delta: number): void {\r\n        // Override in subclass if needed\r\n    }\r\n\r\n    // Saving logic\r\n    saveKey: string;\r\n\r\n    abstract load(data: SaveData): void;\r\n\r\n    abstract save(): SaveData;\r\n\r\n\r\n}\r\n","export enum SettingId {\r\n  ShowSaveMessage = \"Show save message\",\r\n  ShowUnobtainedCards = \"Show unobtained cards\",\r\n}\r\n","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\nexport class NumberField extends AbstractField {\r\n\r\n\r\n    constructor(propertyName: string, label?: string) {\r\n        super(propertyName, label);\r\n        this.setComponentName('igt-number-field');\r\n    }\r\n\r\n}","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\nexport class RangeField extends AbstractField {\r\n\r\n    min: number;\r\n    max: number\r\n    step: number\r\n\r\n    constructor(propertyName: string, min: number = 0, max: number = 100, step = 1, label?: string) {\r\n        super(propertyName, label);\r\n        this.min = min;\r\n        this.max = max;\r\n        this.step = step;\r\n        this.setComponentName('igt-range-field');\r\n    }\r\n\r\n}","import {Currency} from \"./Currency\";\r\nimport {CurrencyType} from \"./CurrencyType\";\r\n\r\nimport {ISimpleEvent, SimpleEventDispatcher} from \"strongly-typed-events\";\r\nimport {Feature} from \"@/engine/features/Feature\";\r\nimport {WalletSaveData} from \"@/engine/features/wallet/WalletSaveData\";\r\nimport {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\nimport {NumberField} from \"@/engine/developer-panel/fields/NumberField\";\r\nimport {FunctionField} from \"@/engine/developer-panel/fields/FunctionField\";\r\nimport {RangeField} from \"@/engine/developer-panel/fields/RangeField\";\r\n\r\n\r\nexport class Wallet extends Feature {\r\n    private _currencies: Record<CurrencyType, number> = {} as Record<CurrencyType, number>\r\n    private _multipliers: Record<CurrencyType, number> = {} as Record<CurrencyType, number>\r\n\r\n    private _onCurrencyGain = new SimpleEventDispatcher<Currency>();\r\n\r\n    private readonly _supportedCurrencies: CurrencyType[];\r\n\r\n    constructor(supportedCurrencies: CurrencyType[]) {\r\n        super(\"wallet\");\r\n\r\n        this._supportedCurrencies = supportedCurrencies;\r\n\r\n        // Initialize currencies and multipliers\r\n        for (const type of this._supportedCurrencies) {\r\n            this._currencies[type as CurrencyType] = 0;\r\n            this._multipliers[type as CurrencyType] = 1;\r\n        }\r\n    }\r\n\r\n    public resetTemporaryCurrencies() {\r\n        this._currencies[CurrencyType.Wood] = 0;\r\n        this._currencies[CurrencyType.Grain] = 0;\r\n        this._currencies[CurrencyType.Souls] = 0;\r\n        this._currencies[CurrencyType.Bronze] = 0;\r\n        this._currencies[CurrencyType.Silver] = 0;\r\n        this._currencies[CurrencyType.Gold] = 0;\r\n    }\r\n\r\n    public getAmount(type: CurrencyType): number {\r\n        if (!this.supportsCurrencyType(type)) {\r\n            return 0;\r\n        }\r\n        return this._currencies[type];\r\n    }\r\n\r\n    /**\r\n     * Gain the specified currency and apply the global multiplier\r\n     */\r\n    public gainCurrency(currency: Currency): void {\r\n        currency.multiply(this.getCurrencyMultiplier(currency.type));\r\n\r\n        if (!currency.isValid() || !this.supportsCurrencyType(currency.type)) {\r\n            console.warn(`Could not add currency ${currency.toString()}`);\r\n            return;\r\n        }\r\n\r\n        this._onCurrencyGain.dispatch(currency);\r\n        this._currencies[currency.type] += currency.amount;\r\n    }\r\n\r\n    /**\r\n     * Return true if the currency is valid and the player has the specified amount.\r\n     */\r\n    public hasCurrency(currency: Currency): boolean {\r\n        if (!this.supportsCurrencyType(currency.type)) {\r\n            return false;\r\n        }\r\n        return this._currencies[currency.type] >= currency.amount;\r\n    }\r\n\r\n    /**\r\n     * Return true if all currencies are valid and the player has the specified amount.\r\n     */\r\n    hasCurrencies(costs: Currency[]) {\r\n        for (const cost of costs) {\r\n            if (!this.hasCurrency(cost)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Remove the currency amount from the specified currency.\r\n     * IMPORTANT: This method does not care if amounts go negative\r\n     * @param currency\r\n     */\r\n    public loseCurrency(currency: Currency): void {\r\n        if (!currency.isValid() || !this.supportsCurrencyType(currency.type)) {\r\n            console.warn(`Could not lose currency ${currency.toString()}`);\r\n            return;\r\n        }\r\n        this._currencies[currency.type] -= currency.amount;\r\n    }\r\n\r\n    public loseAll() {\r\n        this._currencies[CurrencyType.Money] = 0;\r\n        this._currencies[CurrencyType.Scrap] = 0;\r\n        this._currencies[CurrencyType.Salt] = 0;\r\n        this._currencies[CurrencyType.Diamond] = 0;\r\n    }\r\n\r\n    public loseMultipleCurrencies(currencies: Currency[]) {\r\n        for (const currency of currencies) {\r\n            this.loseCurrency(currency);\r\n        }\r\n    }\r\n\r\n    public payMultipleIfPossible(currencies: Currency[]): boolean {\r\n        if (this.hasCurrencies(currencies)) {\r\n            this.loseMultipleCurrencies(currencies);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Subtracts the specified currency and returns true if the wallet has enough.\r\n     * Otherwise return false and don't subtract anything\r\n     * @param currency\r\n     * @constructor\r\n     */\r\n    public payIfPossible(currency: Currency): boolean {\r\n        if (this.hasCurrency(currency)) {\r\n            this.loseCurrency(currency);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Return 1 if the multiplier is not set\r\n     */\r\n    public getCurrencyMultiplier(type: CurrencyType): number {\r\n        return this._multipliers[type] ?? 1;\r\n    }\r\n\r\n    public setCurrencyMultiplier(multiplier: number, type: CurrencyType): void {\r\n        if (multiplier <= 0 || isNaN(multiplier) || !this.supportsCurrencyType(type)) {\r\n            return;\r\n        }\r\n        this._multipliers[type] = multiplier;\r\n    }\r\n\r\n    public supportsCurrencyType(type: CurrencyType): boolean {\r\n        return this._supportedCurrencies.includes(type);\r\n    }\r\n\r\n    public canAccess(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public save(): WalletSaveData {\r\n        return {\r\n            money: this._currencies[CurrencyType.Money],\r\n        }\r\n    }\r\n\r\n    public load(data: WalletSaveData): void {\r\n        this._currencies[CurrencyType.Money] = data.money ?? this._currencies[CurrencyType.Money];\r\n    }\r\n\r\n    /**\r\n     * Emitted whenever a currency is gained\r\n     * @private\r\n     */\r\n    public get onCurrencyGain(): ISimpleEvent<Currency> {\r\n        return this._onCurrencyGain.asEvent();\r\n    }\r\n\r\n    public get money(): number {\r\n        return this._currencies.Money;\r\n    }\r\n\r\n    public set money(value: number) {\r\n        this._currencies.Money = value;\r\n    }\r\n\r\n    public get wood(): number {\r\n        return this._currencies.Wood;\r\n    }\r\n\r\n    public get grain(): number {\r\n        return this._currencies.Grain;\r\n    }\r\n\r\n    public get souls(): number {\r\n        return this._currencies.Souls;\r\n    }\r\n\r\n    public get bronze(): number {\r\n        return this._currencies.Bronze;\r\n    }\r\n\r\n    public get silver(): number {\r\n        return this._currencies.Silver;\r\n    }\r\n\r\n    public get gold(): number {\r\n        return this._currencies.Gold;\r\n    }\r\n\r\n    public get diamond(): number {\r\n        return this._currencies.Diamonds;\r\n    }\r\n\r\n    public get scrap(): number {\r\n        return this._currencies.Scrap;\r\n    }\r\n\r\n    getDeveloperPanelFields(): AbstractField[] {\r\n        return [\r\n            new NumberField('money', 'Money'),\r\n            new FunctionField(() => {\r\n                this.money = 10\r\n            }, 'Set money to 10').setCssClass('btn-blue'),\r\n            new RangeField('money', 0, 100, 2, 'Money Slider'),\r\n        ]\r\n    }\r\n}\r\n","export enum StatisticId {\r\n    TotalScrapGained = \"total-scrap-gained\",\r\n    TotalOilGained = \"total-oil-gained\",\r\n    TotalGasolineGained = \"total-gasoline-gained\",\r\n    TotalLightningGained = \"total-lighting-gained\",\r\n    TotalPlutoniumGained = \"total-plutonium-gained\",\r\n    TotalScrapGainedThisPrestige = \"total-scrap-gained-this-prestige\",\r\n    TotalOilGainedThisPrestige = \"total-oil-gained-this-prestige\",\r\n    TotalGasolineGainedThisPrestige = \"total-gasoline-gained-this-prestige\",\r\n    TotalLightningGainedThisPrestige = \"total-lighting-gained-this-prestige\",\r\n    TotalPlutoniumGainedThisPrestige = \"total-plutonium-gained-this-prestige\",\r\n    TotalMoneyGained = \"total-money-gained\",\r\n}","export class Progress {\r\n    actual: number;\r\n    target: number;\r\n\r\n    constructor(actual: number, target: number) {\r\n        this.actual = actual;\r\n        this.target = target;\r\n    }\r\n}\r\n","import {Progress} from \"./Progress\";\r\n\r\n/**\r\n * Abstract class that can be configured to whatever requirements you like.\r\n */\r\nexport abstract class Requirement {\r\n\r\n    // Getters as the user should view these as attributes\r\n\r\n    get isCompleted(): boolean {\r\n        return this.actualValue >= this.targetValue;\r\n    }\r\n\r\n    get progress(): Progress {\r\n        return new Progress(Math.min(this.actualValue, this.targetValue), this.targetValue);\r\n    }\r\n\r\n    abstract get hint(): string;\r\n\r\n    abstract get actualValue(): number;\r\n\r\n    abstract get targetValue(): number;\r\n}\r\n","import {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\n\r\n/**\r\n * A requirement that is always completed\r\n */\r\nexport class NoRequirement extends Requirement {\r\n\r\n    get isCompleted(): boolean {\r\n        return true;\r\n    }\r\n\r\n    get actualValue(): number {\r\n        return 0;\r\n    }\r\n\r\n    get hint(): string {\r\n        return \"\";\r\n    }\r\n\r\n    get targetValue(): number {\r\n        return 0;\r\n    }\r\n}\r\n","import {SettingId} from \"@/engine/features/settings/SettingId\";\r\nimport {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {NoRequirement} from \"@/engine/tools/requirements/NoRequirement\";\r\nimport {SettingOption} from \"@/engine/features/settings/SettingOption\";\r\n\r\n\r\nexport abstract class Setting<T> {\r\n    id: SettingId;\r\n    displayName: string;\r\n    options: SettingOption<T>[];\r\n    defaultValue: T;\r\n    value: T;\r\n\r\n    requirement: Requirement;\r\n\r\n    protected constructor(id: SettingId, displayName: string, options: SettingOption<T>[], defaultValue: T, requirement: Requirement = new NoRequirement()) {\r\n        this.id = id;\r\n        this.displayName = displayName;\r\n        this.options = options;\r\n        this.defaultValue = defaultValue;\r\n\r\n        this.value = defaultValue;\r\n\r\n        this.requirement = requirement;\r\n    }\r\n\r\n    set(value: T): void {\r\n        if (!this.canAccess) {\r\n            return;\r\n        }\r\n        if (this.validValue(value)) {\r\n            this.value = value;\r\n        } else {\r\n            console.warn(`${value} is not a valid value for setting ${this.id}. It could be that the option is not yet unlocked.`);\r\n        }\r\n    }\r\n\r\n    validValue(value: T): boolean {\r\n        const option = this.options.find((option) => option.value === value);\r\n        if (option == undefined || !option.canAccess) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isSelected(value: T): boolean {\r\n        return this.value === value;\r\n    }\r\n\r\n    get canAccess(): boolean {\r\n        return this.requirement.isCompleted\r\n    }\r\n\r\n}\r\n","import {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {NoRequirement} from \"@/engine/tools/requirements/NoRequirement\";\r\n\r\nexport class SettingOption<T> {\r\n    displayText: string;\r\n    value: T;\r\n\r\n    requirement: Requirement;\r\n\r\n\r\n    constructor(displayText: string, value: T, requirement: Requirement = new NoRequirement()) {\r\n        this.displayText = displayText;\r\n        this.value = value;\r\n        this.requirement = requirement;\r\n    }\r\n\r\n    get canAccess() {\r\n        return this.requirement.isCompleted;\r\n    }\r\n}\r\n","import {Setting} from \"@/engine/features/settings/Setting\";\r\nimport {SettingId} from \"@/engine/features/settings/SettingId\";\r\nimport {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {SettingOption} from \"@/engine/features/settings/SettingOption\";\r\n\r\n/**\r\n * A setting that can only be on or off.\r\n * The options can't have requirements but this can be solved by using the correct defaultValue and requirement.\r\n */\r\nexport class BooleanSetting extends Setting<boolean> {\r\n\r\n    constructor(id: SettingId, displayName: string, defaultValue: boolean, requirement?: Requirement) {\r\n        super(id, displayName, [\r\n            new SettingOption<boolean>(\"On\", true),\r\n            new SettingOption<boolean>(\"Off\", false)\r\n        ], defaultValue, requirement);\r\n    }\r\n\r\n    public toggle(): void {\r\n        this.value = !this.value;\r\n    }\r\n}\r\n","import {Feature} from \"@/engine/features/Feature\";\r\nimport {SettingsSaveData} from \"@/engine/features/settings/SettingsSaveData\";\r\nimport {Setting} from \"@/engine/features/settings/Setting\";\r\nimport {SettingId} from \"@/engine/features/settings/SettingId\";\r\nimport {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\nimport {FunctionField} from \"@/engine/developer-panel/fields/FunctionField\";\r\nimport {BooleanSetting} from \"@/engine/features/settings/BooleanSetting\";\r\n\r\nexport class Settings extends Feature {\r\n    list: Setting<any>[];\r\n\r\n    constructor() {\r\n        super(\"settings\");\r\n        this.list = [];\r\n    }\r\n\r\n    add(setting: Setting<any>) {\r\n        if (!this.getSetting(setting.id)) {\r\n            this.list.push(setting);\r\n        }\r\n    }\r\n\r\n    initialize() {\r\n        this.add(new BooleanSetting(SettingId.ShowSaveMessage, \"Show save message\", true))\r\n    }\r\n\r\n    setSetting<T>(id: SettingId, value: T) {\r\n        const setting = this.getSetting(id);\r\n        if (setting) {\r\n            setting.set(value);\r\n        } else {\r\n            console.warn(`Setting ${id} does not exist`);\r\n        }\r\n\r\n    }\r\n\r\n    getSetting<T>(id: SettingId): Setting<T> | null {\r\n        for (let i = 0; i < this.list.length; i++) {\r\n            if (this.list[i].id == id) {\r\n                return this.list[i];\r\n            }\r\n        }\r\n        console.warn(`Setting ${id} does not exist`);\r\n        return null;\r\n    }\r\n\r\n\r\n    load(data: SettingsSaveData): void {\r\n        for (const settingSave of data.list) {\r\n            this.getSetting(settingSave.id)?.set(settingSave.value);\r\n        }\r\n    }\r\n\r\n    save(): SettingsSaveData {\r\n\r\n        return {\r\n            list: this.list.map(setting => {\r\n                return {\r\n                    id: setting.id,\r\n                    value: setting.value\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    getDeveloperPanelFields(): AbstractField[] {\r\n        return [\r\n            new FunctionField(() => {\r\n                alert('test')\r\n            }, 'Test'),\r\n        ]\r\n    }\r\n\r\n}\r\n","export enum AchievementId {\r\n    PlayedGobletOfFire = \"played-goblet-of-fire\",\r\n    PlayedFrozen2 = \"played-frozen-2\",\r\n    EnemyPlayedForestFire = \"enemy-played-forest-fire\",\r\n    AtLeastOneSuperPower = \"at-least-one-superpower\",\r\n    AllSuperPowers = \"all-super-powers\",\r\n    TotalMoney100 = \"100-total-money\",\r\n    TotalMoney1000 = \"1000-total-money\",\r\n    TotalMoney10000 = \"10000-total-money\",\r\n    FirstLevelCompleted = \"first-level-completed\",\r\n    WizardLevelCompleted = \"farm-level-completed\",\r\n    FarmLevelCompleted = \"wizard-level-completed\",\r\n    DragonLevelCompleted = \"dragon-level-completed\",\r\n    SpiderLevelCompleted = \"spider-level-completed\",\r\n    TrollLevelCompleted = \"troll-level-completed\",\r\n    NecromancerLevelCompleted = \"necromancer-level-completed\",\r\n    Played100Resources = \"played-100-resources\",\r\n    Played100Monsters = \"played-100-monsters\",\r\n    Played100Actions = \"played-100-actions\",\r\n    Played100Curses = \"played-100-curses\",\r\n    Played100Tools = \"played-100-tools\",\r\n}","import {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\nimport {StatisticsValue} from \"@/engine/features/statistics/StatisticsValueType\";\r\n\r\nexport abstract class AbstractStatistic {\r\n    id: StatisticId;\r\n    description: string;\r\n    abstract value: StatisticsValue;\r\n\r\n    protected constructor(id: StatisticId, description: string) {\r\n        this.id = id;\r\n        this.description = description;\r\n    }\r\n\r\n}","import {AbstractStatistic} from \"@/engine/features/statistics/AbstractStatistic\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\n\r\nexport class NumberStatistic extends AbstractStatistic {\r\n    value: number;\r\n\r\n    constructor(id: StatisticId, description: string, value: number = 0) {\r\n        super(id, description);\r\n        this.value = value;\r\n    }\r\n\r\n}","import {StatisticsValue} from \"./StatisticsValueType\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\n\r\nexport class StatisticsSaveData {\r\n    list: Record<StatisticId, StatisticsValue>;\r\n\r\n    constructor() {\r\n        this.list = {} as Record<StatisticId, StatisticsValue>;\r\n    }\r\n\r\n    addStatistic(id: StatisticId, value: StatisticsValue): void {\r\n        this.list[id] = value;\r\n    }\r\n\r\n}","import {AbstractStatistic} from \"@/engine/features/statistics/AbstractStatistic\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\n\r\nexport class ArrayStatistic extends AbstractStatistic {\r\n    value: number[];\r\n\r\n    constructor(id: StatisticId, description: string, value: number[]) {\r\n        super(id, description);\r\n        this.value = value;\r\n    }\r\n\r\n\r\n}","/**\r\n * Statistics class to keep track of increasing numbers\r\n */\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\nimport {NumberStatistic} from \"@/engine/features/statistics/NumberStatistic\";\r\nimport {Feature} from \"@/engine/features/Feature\";\r\nimport {AbstractStatistic} from \"@/engine/features/statistics/AbstractStatistic\";\r\nimport {StatisticsSaveData} from \"@/engine/features/statistics/StatisticsSaveData\";\r\nimport {StatisticsValue} from \"@/engine/features/statistics/StatisticsValueType\";\r\nimport {Features} from \"@/engine/Features\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {ArrayStatistic} from \"@/engine/features/statistics/ArrayStatistic\";\r\n\r\nexport class Statistics extends Feature {\r\n\r\n    list: Record<StatisticId, AbstractStatistic>\r\n\r\n\r\n    constructor() {\r\n        super('statistics');\r\n        this.list = {} as Record<StatisticId, AbstractStatistic>;\r\n    }\r\n\r\n    initialize(features: Features): void {\r\n        this.registerStatistic(new NumberStatistic(StatisticId.TotalMoneyGained, 'Total money'))\r\n        this.registerStatistic(new NumberStatistic(StatisticId.TotalScrapGained, 'Total scrap'))\r\n        this.registerStatistic(new NumberStatistic(StatisticId.TotalScrapGainedThisPrestige, 'Total scrap this prestige'))\r\n\r\n        features.wallet.onCurrencyGain.subscribe((currency: Currency) => {\r\n            if (currency.type === CurrencyType.Money) {\r\n                this.incrementNumberStatistic(StatisticId.TotalMoneyGained, currency.amount);\r\n            }\r\n            if (currency.type === CurrencyType.Scrap) {\r\n                this.incrementNumberStatistic(StatisticId.TotalScrapGained, currency.amount)\r\n                this.incrementNumberStatistic(StatisticId.TotalScrapGainedThisPrestige, currency.amount)\r\n            }\r\n        });\r\n    }\r\n\r\n    getCurrencyStatisticThisPrestige(type: CurrencyType): NumberStatistic {\r\n        switch (type) {\r\n            case CurrencyType.Scrap: {\r\n                return this.getStatistic(StatisticId.TotalScrapGainedThisPrestige) as NumberStatistic;\r\n            }\r\n            default: {\r\n                return this.getStatistic(StatisticId.TotalScrapGainedThisPrestige) as NumberStatistic;\r\n            }\r\n        }\r\n    }\r\n\r\n    incrementNumberStatistic(id: StatisticId, amount = 1): void {\r\n        if (!this.hasStatistic(id)) {\r\n            console.warn(`Could not find statistic with id ${id}`)\r\n            return;\r\n        }\r\n        const statistic = this.list[id];\r\n        if (statistic instanceof NumberStatistic) {\r\n            statistic.value += amount;\r\n        }\r\n    }\r\n\r\n    incrementArrayStatistic(id: StatisticId, index: number, amount = 1): void {\r\n        if (!this.hasStatistic(id)) {\r\n            console.warn(`Could not find statistic with id ${id}`)\r\n            return;\r\n        }\r\n        const statistic = this.list[id];\r\n        if (statistic instanceof ArrayStatistic) {\r\n            const newValue = statistic.value[index] + amount;\r\n            statistic.value.splice(index, 1, newValue)\r\n        }\r\n    }\r\n\r\n    public getStatistic(id: StatisticId): AbstractStatistic | null {\r\n        if (!this.hasStatistic(id)) {\r\n            console.warn(`Could not find statistic with id ${id}`)\r\n            return null;\r\n        } else {\r\n            return this.list[id];\r\n        }\r\n    }\r\n\r\n    private hasStatistic(id: StatisticId): boolean {\r\n        return id in this.list\r\n    }\r\n\r\n    public registerStatistic(statistic: AbstractStatistic) {\r\n        this.list[statistic.id] = statistic;\r\n    }\r\n\r\n    load(data: StatisticsSaveData): void {\r\n        for (const id in data.list) {\r\n            if (Object.prototype.hasOwnProperty.call(data.list, id)) {\r\n                if (this.hasStatistic(id as StatisticId)) {\r\n                    this.list[id as StatisticId].value = data.list[id as StatisticId];\r\n                } else {\r\n                    console.warn(`Could not load statistic ${id}`)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): StatisticsSaveData {\r\n        const data = new StatisticsSaveData();\r\n        const list = json.list as Record<string, StatisticsValue>;\r\n        for (const id in list) {\r\n            if (Object.prototype.hasOwnProperty.call(list, id)) {\r\n                data.addStatistic(id as StatisticId, list[id])\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    save(): StatisticsSaveData {\r\n        const data = new StatisticsSaveData();\r\n        for (const id in this.list) {\r\n            data.addStatistic(id as StatisticId, this.list[id as StatisticId].value);\r\n        }\r\n        return data;\r\n    }\r\n\r\n}","import {AchievementId} from \"@/engine/features/achievements/AchievementId\";\r\nimport {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {Progress} from \"@/engine/tools/requirements/Progress\";\r\n\r\nexport class Achievement {\r\n    public key: AchievementId;\r\n    public title: string;\r\n    public description: string;\r\n    public image: string;\r\n    public requirement: Requirement;\r\n\r\n    public unlocked: boolean\r\n\r\n    constructor(key: AchievementId, title: string, description: string, image: string, requirement: Requirement) {\r\n        this.key = key;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.image = image;\r\n        this.requirement = requirement;\r\n        this.unlocked = false\r\n    }\r\n\r\n    /**\r\n     * Unlock this achievement if possible.\r\n     * Returns true if the achievement was just unlocked!\r\n     */\r\n    unlock(): boolean {\r\n        if (!this.unlocked) {\r\n            this.unlocked = true;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    requirementsCompleted(): boolean {\r\n        return this.requirement.isCompleted;\r\n    }\r\n\r\n    getProgress(): Progress {\r\n        return this.requirement.progress;\r\n    }\r\n\r\n\r\n}\r\n","import {SaveData} from \"@/engine/tools/saving/SaveData\";\r\nimport {AchievementId} from \"@/engine/features/achievements/AchievementId\";\r\n\r\n/**\r\n * Unlocked achievements are saved as a list of keys\r\n */\r\nexport class AchievementsSaveData implements SaveData {\r\n    list: AchievementId[];\r\n\r\n    constructor() {\r\n        this.list = [];\r\n    }\r\n\r\n    addAchievement(key: AchievementId): void {\r\n        this.list.push(key);\r\n    }\r\n\r\n}","/**\r\n * IMPORTANT: the string belonging to each ItemId has to match with the getter in the ItemList exactly!\r\n */\r\nexport enum ItemId {\r\n    Empty = \"empty\",\r\n    MoneyPouch = \"moneyPouch\",\r\n    ItemWithData = \"itemWithData\",\r\n    RawFish = \"rawFish\",\r\n    CookedFish = \"cookedFish\",\r\n}\r\n","import {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\n\r\n/**\r\n * A requirement that can be manually set to be completed\r\n */\r\nexport class ManualRequirement extends Requirement {\r\n    isSet: boolean\r\n\r\n    constructor() {\r\n        super();\r\n        this.isSet = false;\r\n    }\r\n\r\n    forceCompletion(): void {\r\n        this.isSet = true;\r\n    }\r\n\r\n    get isCompleted(): boolean {\r\n        return this.isSet;\r\n    }\r\n\r\n    get actualValue(): number {\r\n        return this.isSet ? this.targetValue : 0;\r\n    }\r\n\r\n    get hint(): string {\r\n        return \"Can only be manually completed\";\r\n    }\r\n\r\n    get targetValue(): number {\r\n        return 1;\r\n    }\r\n}\r\n","import {Achievement} from \"@/engine/features/achievements/Achievement\";\r\nimport {ManualRequirement} from \"@/engine/tools/requirements/ManualRequirement\";\r\nimport {AchievementId} from \"@/engine/features/achievements/AchievementId\";\r\n\r\nexport class CustomAchievement extends Achievement {\r\n\r\n    constructor(key: AchievementId, title: string, description: string, image: string) {\r\n        super(key, title, description, image, new ManualRequirement());\r\n    }\r\n\r\n    forceComplete() {\r\n        (this.requirement as ManualRequirement).forceCompletion();\r\n    }\r\n}","import {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {NumberStatistic} from \"@/engine/features/statistics/NumberStatistic\";\r\n\r\nexport class NumberStatisticRequirement extends Requirement {\r\n    statistic: NumberStatistic;\r\n    targetValue: number;\r\n\r\n\r\n    constructor(statistic: NumberStatistic, targetValue: number) {\r\n        super();\r\n        this.statistic = statistic;\r\n        this.targetValue = targetValue;\r\n    }\r\n\r\n    getTargetValue(): number {\r\n        return this.targetValue;\r\n    }\r\n\r\n    get actualValue(): number {\r\n        return this.statistic.value;\r\n    }\r\n\r\n    get hint(): string {\r\n        return `The statistic ${this.statistic.description} needs to be at least ${this.targetValue}`;\r\n    }\r\n}","import {Achievement} from \"@/engine/features/achievements/Achievement\";\r\nimport {AchievementId} from \"@/engine/features/achievements/AchievementId\";\r\nimport {Feature} from \"@/engine/features/Feature\";\r\nimport {AchievementsSaveData} from \"@/engine/features/achievements/AchievementSaveData\";\r\nimport {Features} from \"@/engine/Features\";\r\nimport {ArrayStatisticRequirement} from \"@/engine/features/statistics/requirements/ArrayStatisticRequirement\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\nimport {ArrayStatistic} from \"@/engine/features/statistics/ArrayStatistic\";\r\nimport {ISimpleEvent, SimpleEventDispatcher} from \"strongly-typed-events\";\r\nimport {CustomAchievement} from \"@/engine/features/achievements/CustomAchievement\";\r\nimport {NumberStatisticRequirement} from \"@/engine/features/statistics/requirements/NumberStatisticRequirement\";\r\nimport {NumberStatistic} from \"@/engine/features/statistics/NumberStatistic\";\r\n\r\nexport class Achievements extends Feature {\r\n    name: string = \"Achievements\";\r\n    saveKey: string = 'achievements';\r\n\r\n    list: Record<AchievementId, Achievement>\r\n\r\n    // Delay between checking for achievements\r\n    private readonly ACHIEVEMENT_CHECK_TIME: number = 2.0;\r\n    private checkCounter: number = 0;\r\n\r\n    private _onUnlock = new SimpleEventDispatcher<Achievement>();\r\n\r\n    /**\r\n     * Emitted whenever an achievement is unlocked.\r\n     */\r\n    public get onUnlock(): ISimpleEvent<Achievement> {\r\n        return this._onUnlock.asEvent();\r\n    }\r\n\r\n    constructor() {\r\n        super('achievements');\r\n        this.list = {} as Record<AchievementId, Achievement>;\r\n    }\r\n\r\n    initialize(features: Features): void {\r\n        this.registerAchievement(\r\n            new CustomAchievement(AchievementId.AtLeastOneSuperPower,\r\n                \"I wonder what inspired this feature\",\r\n                'Go on an Adventure with at least one bonus',\r\n                'cards/hatchet-bronze.svg',\r\n            )\r\n        );\r\n        this.registerAchievement(\r\n            new Achievement(AchievementId.TotalMoney100,\r\n                \"It's something\",\r\n                'Gain 100 money in total',\r\n                'coins.svg',\r\n                new NumberStatisticRequirement(features.statistics.getStatistic(StatisticId.TotalMoneyGained) as NumberStatistic, 100),\r\n            ),\r\n        );\r\n        this.registerAchievement(\r\n            new Achievement(AchievementId.TotalMoney1000,\r\n                \"It's a bit more\",\r\n                'Gain 1000 money in total',\r\n                'coins.svg',\r\n                new NumberStatisticRequirement(features.statistics.getStatistic(StatisticId.TotalMoneyGained) as NumberStatistic, 1000),\r\n            ),\r\n        );\r\n        this.registerAchievement(\r\n            new Achievement(AchievementId.TotalMoney10000,\r\n                \"This is where the fun begins\",\r\n                'Gain 10000 money in total',\r\n                'coins.svg',\r\n                new NumberStatisticRequirement(features.statistics.getStatistic(StatisticId.TotalMoneyGained) as NumberStatistic, 10000),\r\n            ),\r\n        );\r\n    }\r\n\r\n    update(delta: number) {\r\n        this.checkCounter += delta;\r\n        if (this.checkCounter >= this.ACHIEVEMENT_CHECK_TIME) {\r\n            this.checkForAchievementsCompleted();\r\n            this.checkCounter = 0;\r\n        }\r\n    }\r\n\r\n    public checkForAchievementsCompleted() {\r\n        for (const key in this.list) {\r\n            const achievement = this.list[key as AchievementId];\r\n            if (achievement.requirementsCompleted()) {\r\n                const isJustUnlocked = achievement.unlock();\r\n                if (isJustUnlocked) {\r\n                    this._onUnlock.dispatch(achievement);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private registerAchievement(achievement: Achievement) {\r\n        this.list[achievement.key] = achievement;\r\n    }\r\n\r\n    public getAchievement(key: AchievementId): Achievement | null {\r\n        if (!this.hasAchievement(key)) {\r\n            console.warn(`Could not find achievement with key ${key}`)\r\n\r\n            return null;\r\n        } else {\r\n            return this.list[key];\r\n        }\r\n    }\r\n\r\n    private hasAchievement(key: AchievementId): boolean {\r\n        return key in this.list\r\n    }\r\n\r\n\r\n    load(data: AchievementsSaveData): void {\r\n        for (const key of data.list) {\r\n            const achievement = this.getAchievement(key);\r\n            if (achievement !== null) {\r\n                achievement.unlocked = true\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    save(): AchievementsSaveData {\r\n        const data = new AchievementsSaveData();\r\n        for (const key in this.list) {\r\n            if (this.list[key as AchievementId].unlocked) {\r\n                data.addAchievement(key as AchievementId);\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n}","import {AbstractItem} from \"@/engine/features/items/AbstractItem\";\r\n\r\nexport class InventorySlot {\r\n    item: AbstractItem;\r\n    amount: number;\r\n\r\n    constructor(item: AbstractItem, amount: number) {\r\n        this.item = item;\r\n        this.amount = amount;\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n        return this.amount === 0;\r\n    }\r\n\r\n    isFull(): boolean {\r\n        return this.amount >= this.item.maxStack;\r\n    }\r\n\r\n    spaceLeft(): number {\r\n        return this.item.maxStack - this.amount;\r\n    }\r\n\r\n    gainItems(amount: number) {\r\n        this.amount += amount;\r\n        if (this.amount > this.item.maxStack) {\r\n            console.error(`Tried to have more than ${this.item.maxStack} of ${this.item.id} in one stack`);\r\n            this.amount = this.item.maxStack;\r\n        }\r\n    }\r\n\r\n    loseItems(amount: number) {\r\n        this.amount -= amount;\r\n        if (this.amount < 0) {\r\n            console.error(`Tried to have less than 0 of ${this.item.id} in one stack`);\r\n            this.amount = 0;\r\n        }\r\n    }\r\n}\r\n","import {ItemId} from \"@/engine/features/items/ItemId\";\r\nimport {ItemType} from \"@/engine/features/items/ItemType\";\r\nimport {Saveable} from \"@/engine/tools/saving/Saveable\";\r\nimport {SaveData} from \"@/engine/tools/saving/SaveData\";\r\n\r\nexport abstract class AbstractItem implements Saveable {\r\n    name: string;\r\n    id: ItemId;\r\n    type: ItemType;\r\n    description: string;\r\n    maxStack: number\r\n\r\n    protected constructor(name: string, description: string, id: ItemId, type: ItemType, maxStack: number = Infinity) {\r\n        this.name = name;\r\n        this.description = description;\r\n        this.id = id;\r\n        this.type = type;\r\n        this.maxStack = maxStack;\r\n    }\r\n\r\n    // Save and load. Only needed if this item store additional data\r\n    saveKey: string = this.id;\r\n\r\n    load(data: object): void {\r\n        // Empty\r\n    }\r\n\r\n    save(): SaveData {\r\n        return {};\r\n    }\r\n}\r\n","export enum ItemType {\r\n    Empty = \"empty\",\r\n    Default = \"default\",\r\n    Consumable = \"consumable\",\r\n}\r\n","import {AbstractItem} from \"@/engine/features/items/AbstractItem\";\r\nimport {ItemId} from \"@/engine/features/items/ItemId\";\r\nimport {ItemType} from \"@/engine/features/items/ItemType\";\r\n\r\nexport abstract class AbstractConsumable extends AbstractItem {\r\n\r\n    /**\r\n     * What will be shown on the consume button\r\n     */\r\n    abstract consumeLabel: string;\r\n\r\n    protected constructor(name: string, description: string, id: ItemId, type: ItemType, maxStack: number = Infinity) {\r\n        super(name, description, id, type, maxStack);\r\n    }\r\n\r\n    /**\r\n     * What to do when this item is consumed.\r\n     */\r\n    abstract consume(): void;\r\n\r\n    /**\r\n     * NOTE: your consumables can probably do something more clever here.\r\n     * Make sure to override this method as needed.\r\n     */\r\n    consumeMultiple(amount: number): void {\r\n        for (let i = 0; i < amount; i++) {\r\n            this.consume()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Whether or not this item can be consumed.\r\n     */\r\n    abstract canConsume(): boolean;\r\n}\r\n","import {AbstractItem} from \"@/engine/features/items/AbstractItem\";\r\nimport {ItemId} from \"@/engine/features/items/ItemId\";\r\nimport {ItemType} from \"@/engine/features/items/ItemType\";\r\n\r\nexport class EmptyItem extends AbstractItem {\r\n\r\n    constructor() {\r\n        super('Empty', '', ItemId.Empty, ItemType.Empty, 0);\r\n    }\r\n}\r\n","export enum UpgradeType {\r\n    ScrapManual,\r\n    ScrapAutomation,\r\n    ScrapValue,\r\n    ScrapAutomationSpeed,\r\n    ScrapAutomationACriticalChance,\r\n}\r\n","import {cloneDeep} from 'lodash-es';\r\n\r\nimport {InventorySlot} from \"@/engine/features/inventory/InventorySlot\";\r\nimport {ItemId} from \"@/engine/features/items/ItemId\";\r\nimport {Feature} from \"@/engine/features/Feature\";\r\nimport {ItemList} from \"@/engine/features/items/ItemList\";\r\nimport {Features} from \"@/engine/Features\";\r\nimport {AbstractConsumable} from \"@/engine/features/items/Consumable\";\r\nimport {AbstractItem} from \"@/engine/features/items/AbstractItem\";\r\nimport {EmptyItem} from \"@/engine/features/items/instances/EmptyItem\";\r\nimport {InventorySaveData} from \"@/engine/features/inventory/InventorySaveData\";\r\nimport {InventorySlotSaveData} from \"@/engine/features/inventory/InventorySlotSaveData\";\r\nimport {EventDispatcher} from \"strongly-typed-events\";\r\nimport {ItemAmount} from \"@/engine/features/items/ItemAmount\";\r\n\r\nexport class Inventory extends Feature {\r\n    slotCount: number;\r\n    slots: InventorySlot[];\r\n\r\n    // Overridden in initialize;\r\n    _itemList: ItemList = undefined as unknown as ItemList;\r\n\r\n    private _onItemGain = new EventDispatcher<AbstractItem, number>();\r\n\r\n\r\n    constructor(slots: number = 10) {\r\n        super('inventory');\r\n        this.slotCount = slots;\r\n        this.slots = new Array(this.slotCount).fill(new InventorySlot(new EmptyItem(), 0));\r\n    }\r\n\r\n\r\n    initialize(features: Features) {\r\n        super.initialize(features);\r\n        this._itemList = features.itemList;\r\n    }\r\n\r\n    interactIndices(indexFrom: number, indexTo: number) {\r\n        if (indexFrom === indexTo) {\r\n            return;\r\n        }\r\n\r\n        const itemFrom = this.slots[indexFrom];\r\n\r\n        if (itemFrom.isEmpty()) {\r\n            console.warn(\"Cannot interact with empty item\");\r\n            return;\r\n        }\r\n        const itemTo = this.slots[indexTo];\r\n\r\n        if (itemFrom.item.id === itemTo.item.id) {\r\n            this.mergeItems(itemFrom, itemTo);\r\n            return;\r\n        }\r\n\r\n        this.swapItems(indexFrom, indexTo);\r\n        return;\r\n    }\r\n\r\n    mergeItems(itemFrom: InventorySlot, itemTo: InventorySlot) {\r\n\r\n        if (itemFrom.item.id !== itemTo.item.id) {\r\n            throw new Error(`Cannot merge items of types ${itemFrom.item.id} and ${itemTo.item.id}`);\r\n        }\r\n\r\n        const amount = Math.min(itemFrom.amount, itemTo.spaceLeft());\r\n        itemFrom.loseItems(amount);\r\n        itemTo.gainItems(amount);\r\n    }\r\n\r\n    swapItems(indexFrom: number, indexTo: number) {\r\n        const temp = this.slots[indexFrom];\r\n        this.slots.splice(indexFrom, 1, this.slots[indexTo]);\r\n        this.slots.splice(indexTo, 1, temp);\r\n\r\n    }\r\n\r\n    consumeItem(index: number, amount: number = 1): boolean {\r\n        const inventoryItem = this.slots[index];\r\n        const item = inventoryItem.item;\r\n\r\n\r\n        if (!(item instanceof AbstractConsumable)) {\r\n            console.warn(`Item ${item} is not a consumable`);\r\n            return false;\r\n        }\r\n        if (inventoryItem.amount < amount) {\r\n            console.warn(`Amount of ${inventoryItem} is not greater than ${amount}`);\r\n            return false;\r\n        }\r\n        if (!item.canConsume()) {\r\n            console.warn(\"Cannot consume item, check its restrictions for the reason\");\r\n            return false;\r\n        }\r\n\r\n        if (amount === 1) {\r\n            item.consume();\r\n        } else {\r\n            item.consumeMultiple(amount);\r\n        }\r\n        this.loseItemAtIndex(index, amount);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Remove items from this inventory, prefer an empty stack\r\n     * Recursively calls itself if stacks are emptying\r\n     * Returns the number of items that still need to be removed\r\n     * @param id\r\n     * @param amount\r\n     */\r\n    loseItemAmount(id: ItemId, amount: number = 1): number {\r\n        // While we still need to remove and have items left\r\n        while (amount > 0 && this.getTotalAmount(id) > 0) {\r\n            const nonFullStackIndex = this.getIndexOfNonFullStack(id)\r\n            const indexToUse = nonFullStackIndex !== -1 ? nonFullStackIndex : this.getIndexOfItem(id);\r\n            if (indexToUse === -1) {\r\n                throw Error(`Index of item ${id} to lose is -1. This suggests an error in inventory management`);\r\n            }\r\n            const amountToRemove = Math.min(amount, this.slots[indexToUse].amount);\r\n            amount -= amountToRemove;\r\n            this.loseItemAtIndex(indexToUse, amountToRemove);\r\n\r\n        }\r\n\r\n        return amount;\r\n    }\r\n\r\n    public gainItem(item: AbstractItem, amount: number = 1): number {\r\n        const amountLeft = this._gainItem(item, amount);\r\n        this._onItemGain.dispatch(item, amount);\r\n        return amountLeft;\r\n    }\r\n\r\n    /**\r\n     * Add items to this inventory, prefer an existing stack\r\n     * Recursively calls itself if stacks are overflowing\r\n     * Returns the number of items that need to be added\r\n     */\r\n    private _gainItem(item: AbstractItem, amount: number = 1): number {\r\n\r\n        // Find stack and add to it or create a new one\r\n        const nonFullStackIndex = this.getIndexOfNonFullStack(item.id);\r\n        if (nonFullStackIndex === -1) {\r\n            // Create a new stack\r\n            const emptyIndex = this.getIndexOfFirstEmptySlot();\r\n            if (emptyIndex === -1) {\r\n                console.log(`Cannot add ${amount} of ${item.id}, no empty slots left`);\r\n                return amount;\r\n            }\r\n            const amountToAdd = Math.min(amount, item.maxStack);\r\n            this.slots.splice(emptyIndex, 1, new InventorySlot(item, amountToAdd));\r\n\r\n            const amountLeft = amount - amountToAdd;\r\n            if (amountLeft <= 0) {\r\n                return 0;\r\n            }\r\n            return this._gainItem(item, amountLeft);\r\n        } else {\r\n            // Add to existing stack\r\n            const amountToAdd = Math.min(amount, this.slots[nonFullStackIndex].spaceLeft());\r\n\r\n            this.slots[nonFullStackIndex].gainItems(amountToAdd);\r\n            const amountLeft = amount - amountToAdd;\r\n            if (amountLeft <= 0) {\r\n                return 0;\r\n            }\r\n            return this._gainItem(item, amountLeft);\r\n        }\r\n    }\r\n\r\n    getSpotsLeftForItem(item: AbstractItem) {\r\n        let total = 0;\r\n        for (const inventoryItem of this.slots) {\r\n            if (inventoryItem.isEmpty()) {\r\n                total += item.maxStack;\r\n            } else if (inventoryItem.item.id === item.id) {\r\n                total += inventoryItem.spaceLeft();\r\n            }\r\n        }\r\n        return total;\r\n    }\r\n\r\n    /**\r\n     * This method very inefficiently clones the inventory, and simulates adding the items see if they can be taken.\r\n     * It's also the only reason we're using lodash...\r\n     * TODO do this in a smart way.\r\n     */\r\n    canTakeItemAmounts(itemAmounts: ItemAmount[]) {\r\n        const clonedInventory = cloneDeep(this);\r\n        for (const item of itemAmounts) {\r\n            const amountLeft = clonedInventory.gainItem(this._itemList[item.id], item.amount);\r\n            if (amountLeft !== 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    hasItemAmounts(amounts: ItemAmount[]) {\r\n        for (const amount of amounts) {\r\n            if (!this.hasItemAmount(amount)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    hasItemAmount(amount: ItemAmount) {\r\n        return this.getTotalAmount(amount.id) >= amount.amount;\r\n    }\r\n\r\n    canTakeItem(item: AbstractItem, amount: number) {\r\n        return this.getSpotsLeftForItem(item) >= amount;\r\n    }\r\n\r\n    getIndexOfNonFullStack(id: ItemId) {\r\n        for (let i = 0; i < this.slots.length; i++) {\r\n            if (this.slots[i].item.id === id && !this.slots[i].isFull()) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getIndexOfItem(id: ItemId) {\r\n        for (let i = 0; i < this.slots.length; i++) {\r\n            if (this.slots[i].item.id === id) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getIndexOfFirstEmptySlot(): number {\r\n        for (let i = 0; i < this.slots.length; i++) {\r\n            if (this.slots[i].isEmpty()) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    hasEmptySlot(): boolean {\r\n        return this.getIndexOfFirstEmptySlot() !== -1;\r\n    }\r\n\r\n    hasNonFullStack(id: ItemId): boolean {\r\n        return this.getIndexOfNonFullStack(id) !== -1;\r\n    }\r\n\r\n\r\n    loseItemAtIndex(index: number, amount: number = 1) {\r\n        this.slots[index].loseItems(amount);\r\n        if (this.slots[index].amount <= 0) {\r\n            this.slots.splice(index, 1, new InventorySlot(new EmptyItem(), 0));\r\n        }\r\n    }\r\n\r\n    dropStack(index: number) {\r\n        this.loseItemAtIndex(index, this.slots[index].amount);\r\n    }\r\n\r\n    getEmptySlotCount(): number {\r\n        let count = 0;\r\n        for (const inventoryItem of this.slots) {\r\n            if (inventoryItem.isEmpty()) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n\r\n    getTotalAmount(id: ItemId): number {\r\n        let total = 0;\r\n        for (const inventoryItem of this.slots) {\r\n            if (inventoryItem.item.id === id) {\r\n                total += inventoryItem.amount;\r\n            }\r\n        }\r\n        return total;\r\n    }\r\n\r\n    getAmount(index: number): number {\r\n        return this.slots[index].amount;\r\n    }\r\n\r\n\r\n    isEmpty(): boolean {\r\n        for (const item of this.slots) {\r\n            if (item.amount != 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Emitted whenever this inventory gains items (even if it can't take them).\r\n     */\r\n    public get onItemGain() {\r\n        return this._onItemGain.asEvent();\r\n    }\r\n\r\n    load(data: InventorySaveData): void {\r\n        if (!data.slots) {\r\n            return;\r\n        }\r\n        for (let i = 0; i < data.slots.length; i++) {\r\n            const slotData: InventorySlotSaveData = data.slots[i];\r\n            if (slotData.id === ItemId.Empty) {\r\n                continue;\r\n            }\r\n\r\n            try {\r\n                const item = this._itemList[slotData.id];\r\n                item.load(slotData.data);\r\n                this.slots[i] = new InventorySlot(item, slotData.amount);\r\n            } catch (e) {\r\n                console.error(`Could not load Item ${slotData.id}. Make sure it has a getter in ItemList`);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    save(): InventorySaveData {\r\n        const slots = this.slots.map(slot => {\r\n            return {\r\n                id: slot.item.id,\r\n                amount: slot.amount,\r\n                data: slot.item.save()\r\n            };\r\n        });\r\n        return {\r\n            slots: slots\r\n        }\r\n    }\r\n\r\n}\r\n","import {CurrencyType} from \"./CurrencyType\";\r\n\r\n/**\r\n * A class to store currency amounts\r\n */\r\nexport class Currency {\r\n    amount: number;\r\n    type: CurrencyType;\r\n\r\n    constructor(amount: number, type: CurrencyType) {\r\n        this.amount = amount;\r\n        this.type = type;\r\n    }\r\n\r\n    /**\r\n     * Whether or not this currency is valid. Your game can have different rules\r\n     */\r\n    public isValid(): boolean {\r\n        if (isNaN(this.amount)) {\r\n            return false;\r\n        }\r\n        return this.amount >= 0;\r\n    }\r\n\r\n    public toString(): string {\r\n        return `${this.amount} ${this.type}`;\r\n    }\r\n\r\n    // Math methods as TS does not support operator overloading\r\n    public add(amount: number) {\r\n        this.amount += amount;\r\n    }\r\n\r\n    public subtract(amount: number) {\r\n        this.amount -= amount;\r\n    }\r\n\r\n    public multiply(amount: number) {\r\n        this.amount *= amount;\r\n    }\r\n\r\n    public divide(amount: number) {\r\n        if (amount === 0) {\r\n            console.error(`Cannot divide ${this} by 0`);\r\n            return;\r\n        }\r\n        this.amount /= amount;\r\n    }\r\n}\r\n","import {AbstractConsumable} from \"@/engine/features/items/Consumable\";\r\nimport {ItemId} from \"@/engine/features/items/ItemId\";\r\nimport {ItemType} from \"@/engine/features/items/ItemType\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {Wallet} from \"@/engine/features/wallet/Wallet\";\r\n\r\nexport class MoneyPouch extends AbstractConsumable {\r\n    consumeLabel: string = \"Open\";\r\n    _wallet: Wallet;\r\n\r\n    moneyToGain: number = 10;\r\n\r\n    constructor(wallet: Wallet) {\r\n        super('Money Pouch', 'Open for some coins', ItemId.MoneyPouch, ItemType.Consumable);\r\n        this._wallet = wallet;\r\n    }\r\n\r\n    canConsume(): boolean {\r\n        return true;\r\n    }\r\n\r\n    consume(): void {\r\n        this._wallet.gainCurrency(new Currency(this.moneyToGain, CurrencyType.Diamond));\r\n    }\r\n\r\n    consumeMultiple(amount: number) {\r\n        this._wallet.gainCurrency(new Currency(this.moneyToGain * amount, CurrencyType.Diamond));\r\n    }\r\n}\r\n","import {ItemId} from \"@/engine/features/items/ItemId\";\r\nimport {AbstractItem} from \"@/engine/features/items/AbstractItem\";\r\nimport {ItemType} from \"@/engine/features/items/ItemType\";\r\n\r\nexport class ItemWithData extends AbstractItem {\r\n    customData: number;\r\n\r\n    constructor(customData: number = 3) {\r\n        super('Item with data', `This custom data is also saved`, ItemId.ItemWithData, ItemType.Default, 1);\r\n        this.customData = customData;\r\n    }\r\n\r\n    save(): object {\r\n        return {\r\n            customData: this.customData\r\n        }\r\n    }\r\n\r\n    load(data: any) {\r\n        this.customData = data.customData ?? this.customData;\r\n        this.description = `This custom data is also saved. It is now (${this.customData})`;\r\n    }\r\n}\r\n","import {AbstractItem} from \"@/engine/features/items/AbstractItem\";\r\nimport {ItemId} from \"@/engine/features/items/ItemId\";\r\nimport {ItemType} from \"@/engine/features/items/ItemType\";\r\n\r\nexport class RawFish extends AbstractItem {\r\n    constructor() {\r\n        super('Raw Fish', 'Maybe you can cook it?', ItemId.RawFish, ItemType.Default);\r\n    }\r\n}\r\n","import {ItemId} from \"@/engine/features/items/ItemId\";\r\nimport {ItemType} from \"@/engine/features/items/ItemType\";\r\nimport {AbstractConsumable} from \"@/engine/features/items/Consumable\";\r\n\r\nexport class CookedFish extends AbstractConsumable {\r\n    constructor() {\r\n        super('Cooked Fish', 'Delicious', ItemId.CookedFish, ItemType.Consumable);\r\n    }\r\n\r\n    consumeLabel: string = \"Eat\";\r\n\r\n    canConsume(): boolean {\r\n        return true;\r\n    }\r\n\r\n    consume(): void {\r\n        // Empty\r\n    }\r\n}\r\n","import {Feature} from \"@/engine/features/Feature\";\r\nimport {SaveData} from \"@/engine/tools/saving/SaveData\";\r\nimport {MoneyPouch} from \"@/engine/features/items/instances/MoneyPouch\";\r\nimport {Features} from \"@/engine/Features\";\r\nimport {ItemWithData} from \"@/engine/features/items/instances/ItemWithData\";\r\nimport {EmptyItem} from \"@/engine/features/items/instances/EmptyItem\";\r\nimport {RawFish} from \"@/engine/features/items/instances/RawFish\";\r\nimport {CookedFish} from \"@/engine/features/items/instances/CookedFish\";\r\n\r\nexport class ItemList extends Feature {\r\n\r\n    _features = undefined as unknown as Features\r\n\r\n    constructor() {\r\n        super('item-list');\r\n    }\r\n\r\n\r\n    initialize(features: Features) {\r\n        super.initialize(features);\r\n        this._features = features;\r\n    }\r\n\r\n    get empty(): EmptyItem {\r\n        return new EmptyItem();\r\n    }\r\n\r\n    get moneyPouch(): MoneyPouch {\r\n        return new MoneyPouch(this._features.wallet)\r\n    }\r\n\r\n    get itemWithData(): ItemWithData {\r\n        return new ItemWithData();\r\n    }\r\n\r\n    get rawFish(): RawFish {\r\n        return new RawFish();\r\n    }\r\n    get cookedFish(): CookedFish {\r\n        return new CookedFish();\r\n    }\r\n\r\n    load(): void {\r\n        // Empty\r\n    }\r\n\r\n    save(): SaveData {\r\n        return {}\r\n    }\r\n}\r\n","export class SaveData {\r\n\r\n    constructor() {\r\n        // This constructor intentionally left blank\r\n    }\r\n}\r\n","import {SaveData} from \"@/engine/features/saving/SaveData\";\r\n\r\nexport class ScrapSaveData extends SaveData {\r\n\r\n}\r\n","export class UpgradeListSaveData<UpgradeSaveDataType> {\r\n    upgrades: UpgradeSaveDataType[]\r\n\r\n    constructor() {\r\n        this.upgrades = [];\r\n    }\r\n\r\n    addUpgrade(upgrade: UpgradeSaveDataType): void {\r\n        this.upgrades.push(upgrade);\r\n    }\r\n}\r\n","import {Upgrade} from \"@/engine/features/upgrades/Upgrade\";\r\nimport {Saveable} from \"@/engine/features/saving/Saveable\";\r\nimport {UpgradeListSaveData} from \"@/engine/features/upgrades/UpgradeListSaveData\";\r\nimport {UpgradeSaveData} from \"@/engine/features/upgrades/UpgradeSaveData\";\r\nimport {UpgradeType} from \"@/engine/features/upgrades/UpgradeType\";\r\n\r\nexport class UpgradeList<GenericUpgrade extends Upgrade, GenericUpgradeSaveData extends UpgradeSaveData> implements Saveable {\r\n    list: GenericUpgrade[];\r\n\r\n\r\n    constructor(list: GenericUpgrade[]) {\r\n        this.list = list;\r\n    }\r\n\r\n    addUpgrade(upgrade: GenericUpgrade): void {\r\n        this.list.push(upgrade)\r\n    }\r\n\r\n    getUpgrade(key: string): Upgrade | null {\r\n        for (const upgrade of this.list) {\r\n            if (upgrade.id === key) {\r\n                return upgrade;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTotalMultiplierForType(type: UpgradeType): number {\r\n        let multiplier = 1;\r\n        for (const upgrade of this.list.filter(upgrade => upgrade.type === type)) {\r\n            multiplier *= upgrade.getBonus(upgrade.level);\r\n        }\r\n        return multiplier;\r\n    }\r\n\r\n    saveKey: string = \"upgrades\";\r\n\r\n    load(data: UpgradeListSaveData<GenericUpgradeSaveData>): void {\r\n        for (const upgradeSave of data.upgrades) {\r\n            const upgrade = this.getUpgrade(upgradeSave.key);\r\n            if (upgrade == null) {\r\n                console.warn(`Could not load upgrade ${upgradeSave.key}`);\r\n            } else {\r\n                upgrade.load(upgradeSave);\r\n            }\r\n        }\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): UpgradeListSaveData<GenericUpgradeSaveData> {\r\n        const data = new UpgradeListSaveData<GenericUpgradeSaveData>();\r\n        const list = json?.upgrades as GenericUpgradeSaveData[];\r\n        if (list == null) {\r\n            return data;\r\n        }\r\n        for (const key of list) {\r\n            data.addUpgrade(key);\r\n        }\r\n        return data;\r\n    }\r\n\r\n    save(): UpgradeListSaveData<GenericUpgradeSaveData> {\r\n        const data = new UpgradeListSaveData<GenericUpgradeSaveData>();\r\n        for (const upgrade of this.list) {\r\n            data.addUpgrade(upgrade.save() as GenericUpgradeSaveData);\r\n        }\r\n        return data;\r\n    }\r\n\r\n\r\n}\r\n","import {Currency} from \"./Currency\";\r\nimport {CurrencyType} from \"./CurrencyType\";\r\n\r\nexport abstract class CurrencyBuilder {\r\n\r\n    static createArray(amounts: number[], type: CurrencyType): Currency[] {\r\n        return amounts.map(amount => new Currency(amount, type));\r\n    }\r\n}\r\n","export enum TimeLineState {\r\n    Scrap,\r\n    Gasoline,\r\n    Lightning,\r\n    FluxCapacitor\r\n}\r\n","export class UpgradeSaveData {\r\n    key: string;\r\n    level: number;\r\n\r\n    constructor(key: string, level: number) {\r\n        this.key = key;\r\n        this.level = level;\r\n    }\r\n}\r\n","import {Saveable} from \"@/engine/features/saving/Saveable\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {App} from \"@/App\";\r\nimport {UpgradeSaveData} from \"@/engine/features/upgrades/UpgradeSaveData\";\r\nimport {UpgradeType} from \"@/engine/features/upgrades/UpgradeType\";\r\n\r\n/**\r\n * Generic upgrade class\r\n */\r\n\r\nexport abstract class Upgrade implements Saveable {\r\n    id: string;\r\n    type: UpgradeType;\r\n    displayName: string;\r\n    maxLevel: number;\r\n    level: number;\r\n\r\n    // Describes whether this upgrade increases or decreases a number.\r\n    // (e.g. power is increasing, time is decreasing).\r\n    increasing: boolean;\r\n\r\n\r\n    protected constructor(id: string, type: UpgradeType, displayName: string, maxLevel: number, increasing = true) {\r\n        this.id = id;\r\n        this.type = type;\r\n        this.displayName = displayName;\r\n        this.maxLevel = maxLevel;\r\n        this.level = 0;\r\n        this.increasing = increasing;\r\n    }\r\n\r\n    abstract getCost(): Currency;\r\n\r\n    abstract getBonus(level: number): number;\r\n\r\n    getUpgradeBonus(): number {\r\n        if (!this.isMaxLevel()) {\r\n            return this.getBonus(this.level + 1) - this.getBonus(this.level);\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    isMaxLevel(): boolean {\r\n        return this.level >= this.maxLevel;\r\n    }\r\n\r\n    canAfford(): boolean {\r\n        return App.game.features.wallet.hasCurrency(this.getCost());\r\n    }\r\n\r\n    // Override in subclass when other requirements exist.\r\n    canBuy(): boolean {\r\n        return this.level < this.maxLevel && this.canAfford();\r\n    }\r\n\r\n    buy(): void {\r\n        if (this.canBuy()) {\r\n            App.game.features.wallet.loseCurrency(this.getCost());\r\n            this.levelUp();\r\n        }\r\n    }\r\n\r\n    levelUp(): void {\r\n        this.level = this.level + 1;\r\n    }\r\n\r\n\r\n    // Save logic\r\n    saveKey: string = this.id;\r\n\r\n    load(data: UpgradeSaveData): void {\r\n        this.level = data.level;\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): UpgradeSaveData {\r\n        return new UpgradeSaveData(json?.id as string, json?.level as number ?? 0)\r\n    }\r\n\r\n    save(): UpgradeSaveData {\r\n        return new UpgradeSaveData(this.id, this.level)\r\n    }\r\n\r\n}\r\n","import {Upgrade} from \"@/engine/features/upgrades/Upgrade\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {UpgradeType} from \"@/engine/features/upgrades/UpgradeType\";\r\n\r\nexport class DiscreteUpgrade extends Upgrade {\r\n\r\n    costList: Currency[] = [];\r\n    bonusList: number[] = []\r\n\r\n    constructor(id: string, type: UpgradeType, displayName: string, maxLevel: number, costList: Currency[], bonusList: number[], increasing: boolean) {\r\n        super(id, type, displayName, maxLevel, increasing);\r\n        this.costList = costList;\r\n        this.bonusList = bonusList;\r\n    }\r\n\r\n    getCost(): Currency {\r\n        if (this.isMaxLevel()) {\r\n            return new Currency(Infinity, CurrencyType.Scrap);\r\n        }\r\n        return this.costList[this.level];\r\n    }\r\n\r\n\r\n    getBonus(level: number = this.level): number {\r\n        return this.bonusList[level];\r\n    }\r\n\r\n}\r\n","import {DiscreteUpgrade} from \"@/engine/features/upgrades/DiscreteUpgrade\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {UpgradeType} from \"@/engine/features/upgrades/UpgradeType\";\r\n\r\n/**\r\n * An upgrade with a max level of 1\r\n */\r\nexport class SingleLevelUpgrade extends DiscreteUpgrade {\r\n\r\n    constructor(id: string, type: UpgradeType, displayName: string, cost: Currency, bonus: number) {\r\n        super(id, type, displayName, 1, [cost], [0, bonus], true);\r\n    }\r\n\r\n    isBought(): boolean {\r\n        return this.isMaxLevel();\r\n    }\r\n\r\n}\r\n","import {MultiRequirement} from \"@/engine/tools/requirements/MultiRequirement\";\r\n\r\nexport abstract class ProgressBar {\r\n    value: number;\r\n    goal: number;\r\n\r\n    isStarted: boolean;\r\n    requirements: MultiRequirement;\r\n\r\n    protected constructor(goal: number, requirements: MultiRequirement) {\r\n        this.value = 0;\r\n        this.goal = goal;\r\n        this.isStarted = false;\r\n        this.requirements = requirements;\r\n    }\r\n\r\n    public start() {\r\n        if (this.isStarted) {\r\n            console.warn(\"Cannot start twice\");\r\n            return;\r\n        }\r\n        this.isStarted = true;\r\n        this.value = 0;\r\n    }\r\n\r\n    public progress(delta: number) {\r\n        if (!this.isStarted) {\r\n            if (this.canRepeat()) {\r\n                this.start();\r\n            }\r\n            return;\r\n        }\r\n        this.value = Math.min(this.goal, this.value + delta);\r\n\r\n        if (this.isCompleted()) {\r\n            this.complete();\r\n        }\r\n    }\r\n\r\n    get percentage() {\r\n        return this.value / this.goal;\r\n    }\r\n\r\n    public abstract canRepeat(): boolean;\r\n\r\n    public repeat() {\r\n        this.value = 0;\r\n    }\r\n\r\n    public isCompleted() {\r\n        return this.value >= this.goal;\r\n    }\r\n\r\n    public complete() {\r\n        this.gainReward();\r\n        if (this.canRepeat()) {\r\n            this.repeat();\r\n        } else {\r\n            this.value = 0;\r\n            this.isStarted = false;\r\n        }\r\n\r\n    }\r\n\r\n    abstract gainReward(): void;\r\n}\r\n","import {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\n\r\n/**\r\n * All requirements in the provided list need to be completed for this requirement to be completed.\r\n */\r\nexport class MultiRequirement extends Requirement {\r\n    requirements: Requirement[];\r\n\r\n    constructor(requirements: Requirement[]) {\r\n        super();\r\n        this.requirements = requirements;\r\n    }\r\n\r\n    get isCompleted() {\r\n        return this.requirements.every(requirement => {\r\n            return requirement.isCompleted;\r\n        });\r\n    }\r\n\r\n    get hint(): string {\r\n        let hint = \"Complete the following requirements:\\n\";\r\n        for (const req of this.requirements) {\r\n            hint += req.hint + \"\\n\";\r\n        }\r\n        return hint;\r\n    }\r\n\r\n    get actualValue(): number {\r\n        let completed = 0;\r\n\r\n        for (const req of this.requirements) {\r\n            if (req.isCompleted) {\r\n                completed++;\r\n            }\r\n        }\r\n        return completed;\r\n    }\r\n\r\n    get targetValue(): number {\r\n        return this.requirements.length;\r\n    }\r\n\r\n\r\n}\r\n","import {ProgressBar} from \"@/engine/progressbars/ProgressBar\";\r\nimport {App} from \"@/App\";\r\nimport {MultiRequirement} from \"@/engine/tools/requirements/MultiRequirement\";\r\nimport {SingleLevelUpgrade} from \"@/engine/features/upgrades/SingleLevelUpgrade\";\r\nimport {DiscreteUpgrade} from \"@/engine/features/upgrades/DiscreteUpgrade\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\n\r\nexport class ScrapAction extends ProgressBar {\r\n    description: string;\r\n    automationUpgrade: string;\r\n    valueUpgrade: string;\r\n\r\n    constructor(description: string, goal: number, automationUpgrade: string, valueUpgrade: string, requirements: MultiRequirement = new MultiRequirement([])) {\r\n        super(goal, requirements);\r\n        this.description = description;\r\n        this.automationUpgrade = automationUpgrade;\r\n        this.valueUpgrade = valueUpgrade\r\n    }\r\n\r\n    canRepeat(): boolean {\r\n        return (App.game.features.scrap.upgrades.getUpgrade(this.automationUpgrade) as SingleLevelUpgrade).isBought();\r\n    }\r\n\r\n    scrapReward(): number {\r\n        const upgrade = (App.game.features.scrap.upgrades.getUpgrade(this.valueUpgrade) as DiscreteUpgrade);\r\n        return upgrade.getBonus();\r\n    }\r\n\r\n    gainReward(): void {\r\n        return App.game.features.wallet.gainCurrency(new Currency(this.scrapReward(), CurrencyType.Scrap));\r\n\r\n    }\r\n\r\n}\r\n","import {App} from \"@/App\";\r\nimport {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\n\r\nexport class StatisticRequirement extends Requirement {\r\n    id: StatisticId;\r\n    targetValue: number;\r\n\r\n\r\n    constructor(id: StatisticId, targetValue: number) {\r\n        super();\r\n        this.id = id;\r\n        this.targetValue = targetValue;\r\n    }\r\n\r\n    lockedReason(): string {\r\n        return `The statistic ${App.game.features.statistics.getStatistic(this.id)?.id} needs to be at least ${this.targetValue}`;\r\n    }\r\n\r\n    getActualValue(): number {\r\n        return App.game.features.statistics.getStatistic(this.id)?.value as number;\r\n    }\r\n\r\n    getTargetValue(): number {\r\n        return this.targetValue;\r\n    }\r\n    \r\n    get actualValue(): number {\r\n        return App.game.features.statistics.getStatistic(this.id)?.value as number;\r\n    }\r\n\r\n    get hint(): string {\r\n        return `The statistic ${App.game.features.statistics.getStatistic(this.id)?.description} needs to be at least ${this.targetValue}`;\r\n    }\r\n}\r\n","import {Feature} from \"@/engine/features/Feature\";\r\nimport {ScrapSaveData} from \"@/engine/features/scrap/ScrapSaveData\";\r\nimport {App} from \"@/App\";\r\nimport {UpgradeList} from \"@/engine/features/upgrades/UpgradeList\";\r\nimport {Upgrade} from \"@/engine/features/upgrades/Upgrade\";\r\nimport {UpgradeSaveData} from \"@/engine/features/upgrades/UpgradeSaveData\";\r\nimport {UpgradeType} from \"@/engine/features/upgrades/UpgradeType\";\r\nimport {CurrencyBuilder} from \"@/engine/features/wallet/CurrencyBuilder\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {DiscreteUpgrade} from \"@/engine/features/upgrades/DiscreteUpgrade\";\r\nimport {SingleLevelUpgrade} from \"@/engine/features/upgrades/SingleLevelUpgrade\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {ScrapAction} from \"@/engine/features/scrap/ScrapAction\";\r\nimport {MultiRequirement} from \"@/engine/tools/requirements/MultiRequirement\";\r\nimport {StatisticRequirement} from \"@/engine/features/statistics/requirements/StatisticRequirement\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\n\r\nexport class Scrap extends Feature {\r\n    name: string = \"Scrap\";\r\n    saveKey: string = \"scrap\";\r\n\r\n    upgrades: UpgradeList<Upgrade, UpgradeSaveData>;\r\n\r\n    actions: ScrapAction[]\r\n\r\n    constructor() {\r\n        super(\"scrap\");\r\n        this.upgrades = new UpgradeList<Upgrade, UpgradeSaveData>(\r\n            [\r\n                new SingleLevelUpgrade(\"scrap-unlock-dig-automation\", UpgradeType.ScrapAutomation, \"Automatically dig for scraps\", new Currency(30, CurrencyType.Scrap), 1),\r\n                new SingleLevelUpgrade(\"scrap-unlock-metal-detector-automation\", UpgradeType.ScrapAutomation, \"Automate your metal detector\", new Currency(150, CurrencyType.Scrap), 1),\r\n                new SingleLevelUpgrade(\"scrap-unlock-recycle-automation\", UpgradeType.ScrapAutomation, \"Automatically recycle stuff\", new Currency(500, CurrencyType.Scrap), 1),\r\n                new SingleLevelUpgrade(\"scrap-unlock-plunder-copper-automation\", UpgradeType.ScrapAutomation, \"Automatically plunder copper\", new Currency(1000, CurrencyType.Scrap), 1),\r\n\r\n                new DiscreteUpgrade(\"scrap-dig-value\", UpgradeType.ScrapValue, \"Dig value\", 9,\r\n                    CurrencyBuilder.createArray([5, 10, 25, 50, 100, 250, 500, 750, 1000, 2500], CurrencyType.Scrap),\r\n                    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], true),\r\n                new DiscreteUpgrade(\"scrap-metal-detector-value\", UpgradeType.ScrapValue, \"Metal detector value\", 9,\r\n                    CurrencyBuilder.createArray([25, 50, 100, 250, 500, 750, 1000, 2500, 5000, 10000], CurrencyType.Scrap),\r\n                    [5, 10, 15, 20, 25, 30, 35, 40, 45, 50], true),\r\n                new DiscreteUpgrade(\"scrap-recycle-value\", UpgradeType.ScrapValue, \"Recycle value\", 9,\r\n                    CurrencyBuilder.createArray([500, 1000, 1500, 2000, 2500, 3000, 3500, 4000, 4500], CurrencyType.Scrap),\r\n                    [25, 50, 75, 100, 125, 150, 175, 200, 225, 250], true),\r\n                new DiscreteUpgrade(\"scrap-plunder-copper-value\", UpgradeType.ScrapValue, \"Copper value\", 9,\r\n                    CurrencyBuilder.createArray([1000, 2000, 3000, 4000, 5000, 6000, 7000, 8000, 9000], CurrencyType.Scrap),\r\n                    [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000], true),\r\n                new DiscreteUpgrade(\"scrap-automation-speed\", UpgradeType.ScrapAutomationSpeed, \"Speedup all actions\", 10,\r\n                    CurrencyBuilder.createArray([50, 100, 250, 500, 750, 1000, 2500, 5000, 7500, 10000], CurrencyType.Scrap),\r\n                    [1, 1.5, 2.0, 2.5, 3, 4, 5, 7.5, 10, 12.5, 15, 20], true),\r\n            ]\r\n        );\r\n\r\n        this.actions = [\r\n            new ScrapAction(\"Dig for scraps\", 2, \"scrap-unlock-dig-automation\", \"scrap-dig-value\"),\r\n            new ScrapAction(\"Metal detector\", 6, \"scrap-unlock-metal-detector-automation\", \"scrap-metal-detector-value\", new MultiRequirement([new StatisticRequirement(StatisticId.TotalScrapGainedThisPrestige, 8)])),\r\n            new ScrapAction(\"Recycle stuff\", 20, \"scrap-unlock-recycle-automation\", \"scrap-recycle-value\", new MultiRequirement([new StatisticRequirement(StatisticId.TotalScrapGainedThisPrestige, 100)])),\r\n            new ScrapAction(\"Plunder copper \", 50, \"scrap-unlock-plunder-copper-automation\", \"scrap-plunder-copper-value\", new MultiRequirement([new StatisticRequirement(StatisticId.TotalScrapGainedThisPrestige, 1000)])),\r\n        ]\r\n    }\r\n\r\n\r\n    update(delta: number) {\r\n        if (!this.canAccess()) {\r\n            return;\r\n        }\r\n\r\n        const speedMultiplier = (this.upgrades.getUpgrade(\"scrap-automation-speed\") as DiscreteUpgrade).getBonus();\r\n        for (const action of this.actions) {\r\n            action.progress(delta * speedMultiplier);\r\n        }\r\n    }\r\n\r\n    load(data: ScrapSaveData): void {\r\n        // Empty\r\n    }\r\n\r\n\r\n    canAccess(): boolean {\r\n        // return App.game.features.timeLine.canAccessScrap;\r\n        return true;\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): ScrapSaveData {\r\n        return new ScrapSaveData();\r\n    }\r\n\r\n    save(): ScrapSaveData {\r\n        return new ScrapSaveData();\r\n    }\r\n\r\n    reset() {\r\n        for (const upgrade of this.upgrades.list) {\r\n            upgrade.level = 0;\r\n        }\r\n        for (const action of this.actions) {\r\n            action.isStarted = false;\r\n            action.value = 0;\r\n        }\r\n    }\r\n}\r\n","import {SaveData} from \"@/engine/features/saving/SaveData\";\r\nimport {TimeLineState} from \"@/engine/features/timeline/TimeLineState\";\r\n\r\nexport class TimeLineSaveData extends SaveData {\r\n    state: TimeLineState;\r\n\r\n\r\n    constructor(state: TimeLineState) {\r\n        super();\r\n        this.state = state;\r\n    }\r\n}\r\n","import {Feature} from \"@/engine/features/Feature\";\r\nimport {TimeLineState} from \"@/engine/features/timeline/TimeLineState\";\r\nimport {TimeLineSaveData} from \"@/engine/features/timeline/TimeLineSaveData\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {App} from \"@/App\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\nimport {NumberStatistic} from \"@/engine/features/statistics/NumberStatistic\";\r\n\r\n\r\nexport class TimeLine extends Feature {\r\n    name: string = \"Timeline\";\r\n    saveKey: string = \"timeline\";\r\n\r\n    state: TimeLineState;\r\n\r\n    canAccessScrap: boolean = false;\r\n    canAccessGasoline: boolean = false;\r\n    canAccessLightning: boolean = false;\r\n    canAccessPlutonium: boolean = false;\r\n\r\n    public readonly SCRAP_GOAL: number = 10000;\r\n    public readonly GASOLINE_GOAL: number = 10000;\r\n    public readonly OIL_GOAL: number = 100;\r\n\r\n\r\n    public readonly START_STATE: TimeLineState = TimeLineState.Scrap;\r\n\r\n    constructor() {\r\n        super(\"timeline\");\r\n        this.state = this.START_STATE;\r\n    }\r\n\r\n\r\n    initialize() {\r\n        this.giveStartingCurrency();\r\n    }\r\n\r\n    update(delta: number) {\r\n        if (App.game.features.wallet.getAmount(CurrencyType.Scrap) > 0) {\r\n            this.canAccessScrap = true;\r\n        }\r\n    }\r\n\r\n    timeTravel() {\r\n        if (!this.canTimeTravel()) {\r\n            return;\r\n        }\r\n\r\n\r\n        App.game.features.wallet.loseAll();\r\n        App.game.features.scrap.reset();\r\n\r\n        // Reset prestige statistics\r\n        (App.game.features.statistics.getStatistic(StatisticId.TotalScrapGainedThisPrestige) as NumberStatistic).value = 0;\r\n\r\n        this.canAccessScrap = false;\r\n        this.canAccessGasoline = false;\r\n        this.canAccessLightning = false;\r\n        this.canAccessPlutonium = false;\r\n\r\n        this.state = Math.min(TimeLineState.FluxCapacitor, this.state + 1);\r\n        this.giveStartingCurrency();\r\n    }\r\n\r\n    canTimeTravel() {\r\n        return App.game.features.wallet.hasCurrency(new Currency(this.SCRAP_GOAL, CurrencyType.Scrap));\r\n    }\r\n\r\n    load(data: TimeLineSaveData): void {\r\n        this.state = data.state;\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): TimeLineSaveData {\r\n        return new TimeLineSaveData(json.state as TimeLineState ?? this.START_STATE);\r\n    }\r\n\r\n    save(): TimeLineSaveData {\r\n        return new TimeLineSaveData(this.state);\r\n    }\r\n\r\n    private giveStartingCurrency() {\r\n        switch (this.state) {\r\n            case TimeLineState.Scrap:\r\n                App.game.features.wallet.gainCurrency(new Currency(1, CurrencyType.Scrap));\r\n                break;\r\n        }\r\n    }\r\n}\r\n","import {Game} from \"@/engine/Game\";\r\nimport {Wallet} from \"@/engine/features/wallet/Wallet\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Settings} from \"@/engine/features/settings/Settings\";\r\nimport { Statistics } from \"@/engine/features/statistics/Statistics\";\r\nimport { Achievements } from \"@/engine/features/achievements/Achievements\";\r\nimport {Inventory} from \"@/engine/features/inventory/Inventory\";\r\nimport { ItemList } from \"@/engine/features/items/ItemList\";\r\nimport { Scrap } from \"@/engine/features/scrap/Scrap\";\r\nimport { TimeLine } from \"@/engine/features/timeline/TimeLine\";\r\n\r\nexport class App {\r\n    static inProduction: boolean = (process.env.NODE_ENV === \"production\");\r\n\r\n    static game: Game;\r\n\r\n    static start(): void {\r\n        this.game = this.getDefaultGame();\r\n        this.game.initialize();\r\n        this.game.load();\r\n        this.game.start();\r\n    }\r\n\r\n    public static getDefaultGame(): Game {\r\n        const game = new Game(\r\n            {\r\n                settings: new Settings(),\r\n                wallet: new Wallet([\r\n                    CurrencyType.Money,\r\n                    CurrencyType.Diamond,\r\n                    CurrencyType.Scrap,\r\n                ]),\r\n                statistics: new Statistics(),\r\n                achievements: new Achievements(),\r\n                inventory: new Inventory(),\r\n                itemList: new ItemList(),\r\n                scrap: new Scrap(),\r\n                timeLine: new TimeLine(),\r\n            }\r\n        );\r\n        return game;\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('notificationGroup',{attrs:{\"group\":\"top-left\"}},[_c('div',{staticClass:\"z-50 fixed inset-0 flex px-4 py-6 pointer-events-none p-6 items-start justify-start\"},[_c('div',{staticClass:\"max-w-sm w-full\"},[_c('notification',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar notifications = ref.notifications;\nreturn _vm._l((notifications),function(notification){return _c('div',{key:notification.id,staticClass:\"max-w-sm w-full mx-auto bg-white shadow-md rounded-lg overflow-hidden mt-4\"},[_c('igt-notification',{attrs:{\"notification\":notification}})],1)})}}])})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"flex justify-center items-center w-12\",class:_vm.backgroundColor},[_c('div',{staticClass:\"text-xl fa\",class:_vm.icon})]),_c('div',{staticClass:\"-mx-3 py-2 px-4\"},[_c('div',{staticClass:\"mx-3\"},[_c('span',{staticClass:\"font-semibold\",class:_vm.textColor},[_vm._v(_vm._s(_vm.notification.title))]),_c('p',{staticClass:\"text-gray-600 text-sm\"},[_vm._v(_vm._s(_vm.notification.text))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"flex\">\r\n    <div class=\"flex justify-center items-center w-12\" :class=\"backgroundColor\">\r\n      <div class=\"text-xl fa\" :class=\"icon\"></div>\r\n    </div>\r\n\r\n    <div class=\"-mx-3 py-2 px-4\">\r\n      <div class=\"mx-3\">\r\n        <span class=\"font-semibold\" :class=\"textColor\">{{ notification.title }}</span>\r\n        <p class=\"text-gray-600 text-sm\">{{ notification.text }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"igt-notification\",\r\n  props: {\r\n    notification: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    textColor() {\r\n      switch (this.notification.type) {\r\n        case 'success':\r\n          return 'text-green-500'\r\n        case 'error':\r\n          return 'text-red-500'\r\n        default:\r\n          return 'text-gray-500';\r\n      }\r\n    },\r\n    backgroundColor() {\r\n      switch (this.notification.type) {\r\n        case 'success':\r\n          return 'bg-green-500'\r\n        case 'error':\r\n          return 'bg-red-500'\r\n        default:\r\n          return 'bg-gray-500';\r\n      }\r\n    },\r\n    icon() {\r\n      switch (this.notification.type) {\r\n        case 'success':\r\n          return 'fa-check'\r\n        case 'error':\r\n          return 'fa-times'\r\n        default:\r\n          return 'fa-question';\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./igt-notification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./igt-notification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./igt-notification.vue?vue&type=template&id=15afe98b&scoped=true&\"\nimport script from \"./igt-notification.vue?vue&type=script&lang=js&\"\nexport * from \"./igt-notification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15afe98b\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <notificationGroup group=\"top-left\">\r\n    <div\r\n        class=\"z-50 fixed inset-0 flex px-4 py-6 pointer-events-none p-6 items-start justify-start\"\r\n    >\r\n      <div class=\"max-w-sm w-full\">\r\n        <notification v-slot=\"{notifications}\">\r\n          <div\r\n              class=\"max-w-sm w-full mx-auto bg-white shadow-md rounded-lg overflow-hidden mt-4\"\r\n              v-for=\"notification in notifications\"\r\n              :key=\"notification.id\"\r\n          >\r\n            <igt-notification :notification=\"notification\"></igt-notification>\r\n          </div>\r\n        </notification>\r\n      </div>\r\n    </div>\r\n  </notificationGroup>\r\n</template>\r\n\r\n<script>\r\n\r\nimport IgtNotification from \"@/components/util/igt-notification\";\r\n\r\nexport default {\r\n  name: \"igt-notifications\",\r\n  components: {IgtNotification},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./igt-notifications.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./igt-notifications.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./igt-notifications.vue?vue&type=template&id=c1296ae4&scoped=true&\"\nimport script from \"./igt-notifications.vue?vue&type=script&lang=js&\"\nexport * from \"./igt-notifications.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c1296ae4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.canAccess)?_c('div',{staticClass:\"container\"},[_c('h3',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm._f(\"twoDigits\")(_vm.scrapAmount))+\" Scrap\")]),_c('div',{staticClass:\"action-list\"},_vm._l((_vm.availableActions),function(action){return _c('scrap-action',{key:action.description,attrs:{\"action\":action}})}),1),_c('br'),_c('div',{staticClass:\"upgrade-list\"},_vm._l((_vm.upgrades),function(upgrade){return _c('upgrade',{key:upgrade.id,attrs:{\"upgrade\":upgrade}})}),1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"btn btn-primary upgrade\",class:{'disabled': !_vm.canBuy},on:{\"click\":_vm.buy}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.upgrade.displayName)+\" \")]),(_vm.upgrade.isMaxLevel())?_c('div',[_vm._v(\"MAX\")]):_c('div',[_c('currency',{attrs:{\"currency\":_vm.cost}}),(_vm.upgrade.maxLevel !== 1)?_c('div',[_vm._v(\" Currently \"+_vm._s(_vm._f(\"twoDigits\")(_vm.upgrade.getBonus(_vm.upgrade.level)))+\" (\"+_vm._s(_vm.upgrade.increasing ? '+' : '-')+_vm._s(_vm._f(\"twoDigits\")(Math.abs(_vm.upgrade.getUpgradeBonus())))+\") \")]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._t(\"before\"),(_vm.brackets)?_c('span',[_vm._v(\"(\")]):_vm._e(),_vm._v(_vm._s(_vm.currency.amount)+\" \"+_vm._s(_vm.currencyType)),(_vm.brackets)?_c('span',[_vm._v(\")\")]):_vm._e(),_vm._t(\"after\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <p>\r\n      <slot name=\"before\">\r\n      </slot>\r\n\r\n      <span v-if=\"brackets\">(</span>{{ currency.amount }} {{ currencyType }}<span v-if=\"brackets\">)</span>\r\n\r\n      <slot name=\"after\">\r\n      </slot>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\n\r\nexport default {\r\n  name: \"Currency\",\r\n\r\n  props: {\r\n    currency: {\r\n      type: Currency,\r\n      required: true,\r\n    },\r\n    brackets: {\r\n      type: Boolean,\r\n      required: false,\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    currencyType() {\r\n      return CurrencyType[this.currency.type];\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Currency.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Currency.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Currency.vue?vue&type=template&id=cb39383a&scoped=true&\"\nimport script from \"./Currency.vue?vue&type=script&lang=js&\"\nexport * from \"./Currency.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cb39383a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <button v-show=\"show\" @click=\"buy\" class=\"btn btn-primary upgrade\" :class=\"{'disabled': !canBuy}\">\r\n    <p> {{ upgrade.displayName }} </p>\r\n    <div v-if=\"upgrade.isMaxLevel()\">MAX</div>\r\n    <div v-else>\r\n      <currency :currency=\"cost\"></currency>\r\n      <div v-if=\"upgrade.maxLevel !== 1\">\r\n        Currently {{ upgrade.getBonus(upgrade.level) | twoDigits }}\r\n        ({{ upgrade.increasing ? '+' : '-' }}{{ Math.abs(upgrade.getUpgradeBonus()) | twoDigits }})\r\n      </div>\r\n    </div>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nimport {Upgrade} from \"@/engine/features/upgrades/Upgrade\";\r\nimport Currency from \"@/components/Currency.vue\";\r\nimport {App} from \"@/App\";\r\n\r\nexport default {\r\n  name: \"Upgrade\",\r\n  components: {\r\n    'currency': Currency\r\n  },\r\n  props: {\r\n    upgrade: {\r\n      type: Upgrade,\r\n      required: true\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    buy() {\r\n      this.upgrade.buy();\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    show() {\r\n      const statistic = App.game.features.statistics.getCurrencyStatisticThisPrestige(this.cost.type);\r\n      return this.upgrade.level > 0 || statistic.value >= this.cost.amount / 2;\r\n    },\r\n    cost() {\r\n      return this.upgrade.getCost();\r\n    },\r\n\r\n    canBuy() {\r\n      return this.upgrade.canBuy();\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.upgrade {\r\n  margin-right: 10px;\r\n  width: 200px;\r\n  flex-grow: 1;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upgrade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upgrade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upgrade.vue?vue&type=template&id=5ba6ce92&scoped=true&\"\nimport script from \"./Upgrade.vue?vue&type=script&lang=js&\"\nexport * from \"./Upgrade.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Upgrade.vue?vue&type=style&index=0&id=5ba6ce92&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ba6ce92\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn scrap\",attrs:{\"data-progress-style\":\"fill-back\",\"disabled\":_vm.action.isStarted},on:{\"click\":_vm.start}},[_vm._v(\" \"+_vm._s(_vm.action.description)+\" (+\"+_vm._s(this.action.scrapReward())+\") \"),_c('div',{staticClass:\"progress\"},[_c('div',{staticClass:\"progress-bar\",style:({'width': _vm.action.percentage * 100 + '%'}),attrs:{\"role\":\"progressbar\",\"aria-valuenow\":_vm.action.percentage * 100,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <button @click=\"start\" class=\"btn scrap\" data-progress-style=\"fill-back\" :disabled=\"action.isStarted\">\r\n    {{ action.description }}\r\n    (+{{ this.action.scrapReward() }})\r\n    <div class=\"progress\">\r\n      <div class=\"progress-bar\" role=\"progressbar\" :aria-valuenow=\"action.percentage * 100\"\r\n           :style=\"{'width': action.percentage * 100 + '%'}\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n    </div>\r\n  </button>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport {ScrapAction} from \"@/engine/features/scrap/ScrapAction\";\r\n\r\nexport default {\r\n  name: \"ScrapAction\",\r\n  props: {\r\n    action: {\r\n      type: ScrapAction,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    start() {\r\n      this.action.start();\r\n    }\r\n  },\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.scrap {\r\n  background-color: saddlebrown;\r\n  color: #e8e8e8;\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n  width: 200px;\r\n  flex-grow: 1;\r\n}\r\n\r\n.progress-bar {\r\n  transition: none;\r\n}\r\n\r\n.progress {\r\n  margin-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScrapAction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScrapAction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScrapAction.vue?vue&type=template&id=6241cfc8&scoped=true&\"\nimport script from \"./ScrapAction.vue?vue&type=script&lang=js&\"\nexport * from \"./ScrapAction.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScrapAction.vue?vue&type=style&index=0&id=6241cfc8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6241cfc8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\" v-if=\"canAccess\">\r\n    <h3 style=\"text-align: center\">{{ scrapAmount | twoDigits }} Scrap</h3>\r\n    <div class=\"action-list\">\r\n      <scrap-action v-for=\"action in availableActions\" :key=\"action.description\" :action=\"action\">\r\n      </scrap-action>\r\n    </div>\r\n    <br>\r\n    <div class=\"upgrade-list\">\r\n      <upgrade v-for=\"upgrade in upgrades\" :key=\"upgrade.id\" :upgrade=\"upgrade\"></upgrade>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {App} from \"@/App\";\r\nimport Upgrade from \"@/components/Upgrade\";\r\nimport ScrapAction from \"@/components/ScrapAction\";\r\n\r\nexport default {\r\n\r\n  name: \"Scrap\",\r\n  components: {ScrapAction, Upgrade},\r\n  data() {\r\n    return {\r\n      statistic: App.game.features.statistics,\r\n      scrap: App.game.features.scrap,\r\n      wallet: App.game.features.wallet,\r\n    }\r\n  },\r\n  methods: {},\r\n\r\n  computed: {\r\n    canAccess() {\r\n      return this.scrap.canAccess();\r\n    },\r\n\r\n    upgrades() {\r\n      return this.scrap.upgrades.list;\r\n    },\r\n    availableActions() {\r\n      return this.scrap.actions.filter(action => action.requirements.isCompleted);\r\n    },\r\n    scrapAmount() {\r\n      return this.wallet.scrap;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  border: 1px solid black;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.action-list {\r\n  display: flex;\r\n}\r\n\r\n.upgrade-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scrap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scrap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scrap.vue?vue&type=template&id=00c2a5c7&scoped=true&\"\nimport script from \"./Scrap.vue?vue&type=script&lang=js&\"\nexport * from \"./Scrap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Scrap.vue?vue&type=style&index=0&id=00c2a5c7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00c2a5c7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('br'),_c('div',{staticClass:\"vefs-milestone-wrapper\"},[_c('div',{staticClass:\"milestone-container\"},[_c('div',{staticClass:\"chart-container\"},[_c('div',{staticClass:\"line-container\"},[_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"line left\",style:({'width': _vm.percentage * 100 + '%'})})]),_c('div',{staticClass:\"dot-container\"},[_c('div',{staticClass:\"milestones milestone__0\"},[_c('div',{staticClass:\"dot\",class:{'completed': _vm.percentage >= 0, 'colored': _vm.percentage >= 0}})]),_c('div',{staticClass:\"milestones milestone__40\"},[_c('div',{staticClass:\"dot\",class:{'completed': _vm.percentage >= 0.4, 'colored': _vm.percentage >= 0.4}})]),_c('div',{staticClass:\"milestones milestone__60\"},[_c('div',{staticClass:\"dot\",class:{'completed': _vm.percentage >= 0.6, 'colored': _vm.percentage >= 0.6}})]),_c('div',{staticClass:\"milestones milestone__80\"},[_c('div',{staticClass:\"dot\",class:{'completed': _vm.percentage >= 0.8, 'colored': _vm.percentage >= 0.8}})]),_c('div',{staticClass:\"milestones milestone__100\"},[_c('div',{staticClass:\"dot\",class:{'completed': _vm.percentage >= 1, 'colored': _vm.percentage >= 1}})])])]),_c('div',{staticClass:\"label-container\"},[_c('div',{staticClass:\"milestones milestone__0\"},[_c('div',{staticClass:\"label colored\"},[_vm._v(_vm._s(_vm.timeLine.state >= _vm.timeLineState.FluxCapacitor ? 'Flux Capacitor' : '???')+\" \")])]),_c('div',{staticClass:\"milestones milestone__40\"},[_c('div',{staticClass:\"label colored\"},[_vm._v(_vm._s(_vm.timeLine.state >= _vm.timeLineState.Lightning ? 'Lightning' : '???'))])]),_c('div',{staticClass:\"milestones milestone__60\"},[_c('div',{staticClass:\"label colored\"},[_vm._v(_vm._s(_vm.timeLine.state >= _vm.timeLineState.Gasoline ? 'Gasoline' : '???'))])]),_c('div',{staticClass:\"milestones milestone__80\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.timeLine.state >= _vm.timeLineState.Scrap ? 'Scrap' : '???'))])]),_vm._m(0)])])]),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"}},[(_vm.timeLine.state !== _vm.timeLineState.FluxCapacitor)?_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"padding\":\"20px\",\"margin\":\"20px\"},attrs:{\"disabled\":!_vm.canTimeTravel},on:{\"click\":_vm.timeTravel}},[_vm._v(\" Reach \"+_vm._s(_vm.timeLine.SCRAP_GOAL)+\" Scrap to \"),(_vm.timeLine.state === _vm.timeLineState.Lightning)?_c('span',[_vm._v(\"Complete the game\")]):_c('span',[_vm._v(\"Time travel\")])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"milestones milestone__100\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Time Travel\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <br>\r\n    <div class=\"vefs-milestone-wrapper\">\r\n      <div class=\"milestone-container\">\r\n\r\n        <div class=\"chart-container\">\r\n          <div class=\"line-container\">\r\n            <div class=\"line\"></div>\r\n            <div class=\"line left\" :style=\"{'width': percentage * 100 + '%'}\"></div>\r\n          </div>\r\n\r\n          <div class=\"dot-container\">\r\n            <div class=\"milestones milestone__0\">\r\n              <div class=\"dot\" :class=\"{'completed': percentage >= 0, 'colored': percentage >= 0}\"></div>\r\n            </div>\r\n<!--            <div class=\"milestones milestone__20\">-->\r\n<!--              <div class=\"dot\" :class=\"{'completed': percentage >= 0.2, 'colored': percentage >= 0.2}\"></div>-->\r\n<!--            </div>-->\r\n            <div class=\"milestones milestone__40\">\r\n              <div class=\"dot\" :class=\"{'completed': percentage >= 0.4, 'colored': percentage >= 0.4}\"></div>\r\n            </div>\r\n            <div class=\"milestones milestone__60\">\r\n              <div class=\"dot\" :class=\"{'completed': percentage >= 0.6, 'colored': percentage >= 0.6}\"></div>\r\n            </div>\r\n            <div class=\"milestones milestone__80\">\r\n              <div class=\"dot\" :class=\"{'completed': percentage >= 0.8, 'colored': percentage >= 0.8}\"></div>\r\n            </div>\r\n            <div class=\"milestones milestone__100\">\r\n              <div class=\"dot\" :class=\"{'completed': percentage >= 1, 'colored': percentage >= 1}\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"label-container\">\r\n          <div class=\"milestones milestone__0\">\r\n            <div class=\"label colored\">{{ timeLine.state >= timeLineState.FluxCapacitor ? 'Flux Capacitor' : '???' }}\r\n            </div>\r\n          </div>\r\n<!--          <div class=\"milestones milestone__20\">-->\r\n<!--            <div class=\"label colored\">{{ timeLine.state >= timeLineState.Plutonium ? 'Plutonium' : '???' }}</div>-->\r\n<!--          </div>-->\r\n          <div class=\"milestones milestone__40\">\r\n            <div class=\"label colored\">{{ timeLine.state >= timeLineState.Lightning ? 'Lightning' : '???' }}</div>\r\n          </div>\r\n          <div class=\"milestones milestone__60\">\r\n            <div class=\"label colored\">{{ timeLine.state >= timeLineState.Gasoline ? 'Gasoline' : '???' }}</div>\r\n          </div>\r\n          <div class=\"milestones milestone__80\">\r\n            <div class=\"label\">{{ timeLine.state >= timeLineState.Scrap ? 'Scrap' : '???' }}</div>\r\n          </div>\r\n          <div class=\"milestones milestone__100\">\r\n            <div class=\"label\">Time Travel</div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div style=\"display: flex; justify-content: center;\">\r\n      <button v-if=\"timeLine.state !== timeLineState.FluxCapacitor\"\r\n          class=\"btn btn-primary\" @click=\"timeTravel\" :disabled=\"!canTimeTravel\" style=\"padding:20px; margin:20px\">\r\n        Reach {{ timeLine.SCRAP_GOAL }} Scrap to <span v-if=\"timeLine.state === timeLineState.Lightning\">Complete the game</span>\r\n        <span v-else>Time travel</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {App} from \"@/App\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {TimeLineState} from \"@/engine/features/timeline/TimeLineState\";\r\n\r\nexport default {\r\n\r\n  name: \"TimeLine\",\r\n  data() {\r\n    return {\r\n      timeLine: App.game.features.timeLine,\r\n      wallet: App.game.features.wallet,\r\n      timeLineState: TimeLineState,\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    timeTravel() {\r\n      this.timeLine.timeTravel();\r\n    },\r\n\r\n    logProgress(current, goal) {\r\n      if (current <= 1)\r\n        return 0;\r\n      return Math.log(current) / Math.log(goal);\r\n    }\r\n  },\r\n  computed: {\r\n    canTimeTravel() {\r\n      return this.timeLine.canTimeTravel();\r\n    },\r\n    percentage() {\r\n      if (this.timeLine.canAccessScrap) {\r\n        return Math.min(1, 0.8 + 0.2 * this.logProgress(App.game.features.wallet.getAmount(CurrencyType.Scrap), this.timeLine.SCRAP_GOAL));\r\n      } \r\n      return 0;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.progress-before {\r\n  float: left;\r\n}\r\n\r\n.progress-after {\r\n  float: right;\r\n}\r\n\r\n$milestone-base-color: #cccccc;\r\n$milestone-progress-color: #ffffff;\r\n$milestone-0-color: #ff0000;\r\n$milestone-20-color: #55ff00;\r\n$milestone-40-color: #FDD023;\r\n$milestone-60-color: #242020;\r\n$milestone-80-color: #825700;\r\n$milestone-100-color: #73d2de;\r\n\r\n\r\n.vefs-milestone-wrapper {\r\n  $component-height: 80px;\r\n  $line-height: 15px;\r\n  $dot-size: $line-height * 2.5;\r\n\r\n  .milestone-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    height: $component-height;\r\n\r\n    .chart-container {\r\n      display: flex;\r\n      flex-flow: column;\r\n      align-items: center;\r\n      flex: 1 75%;\r\n\r\n      .line-container {\r\n        position: absolute;\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        height: $dot-size;\r\n\r\n        .line {\r\n          align-self: center;\r\n          position: absolute;\r\n          top: calc($dot-size / 2);\r\n          transform: translateY(-50%);\r\n          order: 1;\r\n          width: 100%;\r\n          height: $line-height;\r\n          background-color: $milestone-base-color;\r\n          background-color: rgba($milestone-base-color, 0.5);\r\n\r\n          &.left {\r\n            order: 0;\r\n            background-color: $milestone-progress-color;\r\n          }\r\n        }\r\n      }\r\n\r\n      .dot-container {\r\n        position: absolute;\r\n        height: $dot-size;\r\n        width: 100%;\r\n\r\n        .dot {\r\n          position: absolute;\r\n          width: $dot-size;\r\n          height: $dot-size;\r\n          border-radius: 50%;\r\n          background-color: $milestone-base-color;\r\n          transform: translateX(-50%);\r\n          transition: all 0.25s ease-out;\r\n\r\n          &.completed {\r\n            background-color: $milestone-progress-color;\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    .label-container {\r\n      display: flex;\r\n      flex-flow: column nowrap;\r\n      align-items: flex-start;\r\n      flex: 1 50%;\r\n\r\n      .label {\r\n        position: relative;\r\n        font-size: 2rem;\r\n        font-weight: 600;\r\n        color: $milestone-base-color;\r\n\r\n        &.colored {\r\n          color: $milestone-progress-color;\r\n        }\r\n      }\r\n    }\r\n\r\n    .milestones {\r\n      position: absolute;\r\n      transform: translate(-50%, 0);\r\n\r\n      @mixin milestone( $mark, $color) {\r\n        &__#{$mark} {\r\n          left: #{$mark + '%'};\r\n\r\n          .dot {\r\n            &.colored {\r\n              background-color: rgba($color, 1);\r\n              transition: all 0.25s ease-out;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      &.milestone {\r\n        // generate position and color of each milestone value\r\n        @for $i from 0 to 101 {\r\n          @if $i == 0 {\r\n            @include milestone($i, $milestone-0-color);\r\n          }\r\n          @if $i > 0 and $i <= 20 {\r\n            @include milestone($i, $milestone-20-color);\r\n          }\r\n          @if $i > 20 and $i <= 40 {\r\n            @include milestone($i, $milestone-40-color);\r\n          }\r\n          @if $i > 40 and $i <= 60 {\r\n            @include milestone($i, $milestone-60-color);\r\n          }\r\n          @if $i > 60 and $i <= 80 {\r\n            @include milestone($i, $milestone-80-color);\r\n          }\r\n          @if $i > 80 and $i <= 100 {\r\n            @include milestone($i, $milestone-100-color);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeLine.vue?vue&type=template&id=4ee22b2e&scoped=true&\"\nimport script from \"./TimeLine.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeLine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeLine.vue?vue&type=style&index=0&id=4ee22b2e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ee22b2e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <!-- <div :class=\"{'dark': darkMode}\"> -->\r\n    <div class=\"container\">\r\n      <!-- <igt-notifications></igt-notifications> -->\r\n      <!-- <ih-header></ih-header> -->\r\n      <time-line></time-line>\r\n      <div class=\"column\">\r\n        <div class=\"row\">\r\n          <scrap></scrap>\r\n        </div>\r\n      </div>\r\n      <!-- <ih-footer></ih-footer> -->\r\n    </div>\r\n  <!-- </div> -->\r\n\r\n</template>\r\n\r\n<script>\r\nimport {App} from \"@/App.ts\"\r\nimport IgtNotifications from \"@/components/util/igt-notifications\";\r\n// import IhHeader from \"@/components/ih-header\";\r\n// import IhFooter from \"@/components/ih-footer\";\r\nimport Scrap from \"@/components/features/Scrap\";\r\nimport TimeLine from \"@/components/features/TimeLine\"\r\n\r\nexport default {\r\n  components: {\r\n    // IgtNotifications,\r\n    // IhHeader,\r\n    // IhFooter,\r\n    TimeLine,\r\n    Scrap,\r\n  },\r\n  data() {\r\n    return {\r\n      game: App.game\r\n    }\r\n  },\r\n  computed: {\r\n    showDevPanel() {\r\n      return !App.inProduction;\r\n    },\r\n    darkMode() {\r\n      return true;\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./VueApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueApp.vue?vue&type=template&id=074d6958&\"\nimport script from \"./VueApp.vue?vue&type=script&lang=js&\"\nexport * from \"./VueApp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VueApp.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\n\r\nVue.filter('numberFormat', function (value: number) {\r\n    if (value == undefined) {\r\n        return \"\";\r\n    }\r\n    return value.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n})\r\n\r\nVue.filter('dateFormat', function (date: Date) {\r\n    if (date == undefined) {\r\n        return \"\";\r\n    }\r\n\r\n    const year = new Intl.DateTimeFormat('en', {year: 'numeric'}).format(date);\r\n    const month = new Intl.DateTimeFormat('en', {month: 'long'}).format(date);\r\n    const day = new Intl.DateTimeFormat('en', {day: '2-digit'}).format(date);\r\n\r\n    const hours = date.getHours();\r\n    const hoursString = hours < 10 ? `0${hours}` : `${hours}`;\r\n    const minutes = date.getMinutes();\r\n    const minutesString = minutes < 10 ? `0${minutes}` : `${minutes}`;\r\n\r\n    return `${day} ${month} ${year} ${hoursString}:${minutesString}`;\r\n\r\n})\r\n\r\nVue.filter('humanizeString', function (string: string) {\r\n    if (string == undefined) {\r\n        return \"\";\r\n    }\r\n    string = string.charAt(0).toUpperCase() + string.slice(1);\r\n    string.replace(\"_\", \" \").replace(\"-\", \" \");\r\n    return string;\r\n})\r\n\r\nVue.filter('twoDigits', function (value: number) {\r\n    return value.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n})\r\n","import Vue from 'vue'\r\nimport VueApp from './VueApp.vue'\r\nimport {App} from \"./App\";\r\n\r\nimport Notifications from \"vt-notifications\";\r\n\r\nimport './VueFilters';\r\n\r\n// import \"./index.css\";\r\nimport \"./index.scss\";\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.use(Notifications);\r\n\r\ndeclare global {\r\n    interface Window {\r\n        App: App;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Start the application when all html elements are loaded.\r\n */\r\nwindow.onload = function () {\r\n    App.start();\r\n\r\n    // Expose the App class to the window (and the console)\r\n    if (!App.inProduction && typeof window !== undefined) {\r\n        console.log('Exposing App to console');\r\n        window.App = App;\r\n    }\r\n\r\n\r\n    console.log(\"Launched\");\r\n\r\n    new Vue({\r\n        render: h => h(VueApp),\r\n    }).$mount('#app')\r\n\r\n\r\n};\r\n\r\n\r\n"],"sourceRoot":""}