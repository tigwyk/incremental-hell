(function(){"use strict";var t={247:function(t,e,s){var i,a=s(144),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("time-line"),s("div",{staticClass:"column"},[s("div",{staticClass:"row"},[s("scrap")],1)])],1)},n=[],o=s(3796);(function(t){t["Launching"]="Launching",t["Playing"]="Playing",t["Paused"]="Paused",t["Stopped"]="Stopped"})(i||(i={}));class c{static store(t,e){localStorage.setItem(t,JSON.stringify(e))}static get(t){return JSON.parse(localStorage.getItem(t))}static delete(t){localStorage.removeItem(t)}}class l{constructor(t){(0,o.Z)(this,"tabs",void 0),this.tabs=t}}class u{constructor(t,e){(0,o.Z)(this,"label",void 0),(0,o.Z)(this,"children",void 0),this.label=t,this.children=e}isEmpty(){return 0==this.children.length}}class h{constructor(t,e){(0,o.Z)(this,"object",void 0),(0,o.Z)(this,"componentName",void 0),(0,o.Z)(this,"propertyName",void 0),(0,o.Z)(this,"label",void 0),(0,o.Z)(this,"cssClass",void 0),this.propertyName=t,this.label=e,this.cssClass="btn-green"}get displayLabel(){return this.label??this.propertyName}get value(){return void 0==this.object?(console.warn(`Cannot get warning as object is undefined for AbstractField ${this.propertyName}`),""):this.object[this.propertyName]}set value(t){this.object[this.propertyName]=t}setObject(t){return this.object=t,this}setCssClass(t){return this.cssClass=t,this}setComponentName(t){return this.componentName=t,this}}class d extends h{constructor(t,e){super("",e),(0,o.Z)(this,"func",void 0),this.func=t,this.setComponentName("igt-button-field")}}class p extends h{constructor(t,e){super(t,e),this.setComponentName("igt-display-field")}}class g extends h{constructor(t,e,s){super(t,s),(0,o.Z)(this,"options",void 0),this.options=e,this.setComponentName("igt-choice-field")}}var m=s(8993);class v{get onSave(){return this._onSave.asEvent()}constructor(t){(0,o.Z)(this,"_tickInterval",-1),(0,o.Z)(this,"features",void 0),(0,o.Z)(this,"state",void 0),(0,o.Z)(this,"TICK_DURATION",.1),(0,o.Z)(this,"SAVE_INTERVAL",30),(0,o.Z)(this,"_nextSave",this.SAVE_INTERVAL),(0,o.Z)(this,"gameSpeed",1),(0,o.Z)(this,"_lastUpdate",0),(0,o.Z)(this,"_onSave",new m.nz),(0,o.Z)(this,"SAVE_KEY","incremental-hell"),this.features=t,this.state=i.Launching}getDeveloperPanel(){const t=[new u("Game",[new p("state","State").setObject(this),new g("gameSpeed",[["0.5x",.5],["1x",1],["2x",2],["4x",4]],"Game speed").setObject(this),new d((()=>{this.start()}),"Start").setCssClass("btn-green"),new d((()=>{this.pause()}),"Pause").setCssClass("btn-blue"),new d((()=>{this.resume()}),"Resume").setCssClass("btn-green"),new d((()=>{this.stop()}),"Stop").setCssClass("btn-red")])];for(const e of this.featureList){const s=e.getDeveloperPanelFields();for(const t of s)t.setObject(e);const i=new u(e.saveKey,s);i.isEmpty()||t.push(i)}return new l(t)}update(){const t=(new Date).getTime()/1e3,e=t-this._lastUpdate;if(this.state!=i.Playing)return;const s=e*this.gameSpeed;for(const i of this.featureList)i.update(s);this._lastUpdate=t,this._nextSave-=s,this._nextSave<=0&&(this.save(),this._nextSave=this.SAVE_INTERVAL)}getTotalCurrencyMultiplier(t){let e=1;for(const s of this.featureList)e*=s.getTotalCurrencyMultiplier(t);return e}initialize(){for(const t of this.featureList)t.initialize(this.features)}start(){if(this.state===i.Stopped||this.state===i.Launching){for(const t of this.featureList)t.start();this._lastUpdate=(new Date).getTime()/1e3,this._tickInterval=Number(setInterval((()=>this.update()),1e3*this.TICK_DURATION)),this.state=i.Playing,console.debug("Game Started")}else this.printStateWarning("Cannot start the game twice.")}pause(){this.state===i.Playing?(clearInterval(this._tickInterval),this.state=i.Paused,console.debug("Game Paused")):this.printStateWarning("Cannot pause the game if we're not playing.")}resume(){this.state===i.Paused?(this._lastUpdate=(new Date).getTime()/1e3,this.state=i.Playing,console.debug("Game Resumed")):this.printStateWarning("Cannot resume the game if we're not paused.")}stop(){if(this.state!==i.Stopped){clearInterval(this._tickInterval);for(const t of this.featureList)t.stop();this.state=i.Stopped,console.debug("Stopped")}else this.printStateWarning("Cannot stop the game if we're already stopped.")}save(){const t={};for(const e of this.featureList)t[e.saveKey]=e.save();c.store(this.SAVE_KEY,t),this._onSave.dispatch()}deleteSave(){c["delete"](this.SAVE_KEY)}load(){const t=c.get(this.SAVE_KEY);if(null!=t)for(const e of this.featureList){const s=t[e.saveKey];null!=s&&e.load(s)}}printStateWarning(t){console.warn(`Current state = ${this.state}.`,t)}get featureList(){return Object.values(this.features)}}var f,y,S,C,w,_;s(6699);(function(t){t["Money"]="Money",t["Souls"]="Souls",t["Wood"]="Wood",t["Grain"]="Grain",t["Bronze"]="Bronze",t["Silver"]="Silver",t["Gold"]="Gold",t["Salt"]="Salt",t["Diamond"]="Diamonds",t["Scrap"]="Scrap"})(f||(f={}));class T{constructor(t){(0,o.Z)(this,"saveKey",void 0),this.saveKey=t}getDeveloperPanelFields(){return[]}initialize(t){}start(){}stop(){}canAccess(){return!1}getTotalCurrencyMultiplier(t){return 1}update(t){}}class b extends h{constructor(t,e){super(t,e),this.setComponentName("igt-number-field")}}class Z extends h{constructor(t,e=0,s=100,i=1,a){super(t,a),(0,o.Z)(this,"min",void 0),(0,o.Z)(this,"max",void 0),(0,o.Z)(this,"step",void 0),this.min=e,this.max=s,this.step=i,this.setComponentName("igt-range-field")}}class A extends T{constructor(t){super("wallet"),(0,o.Z)(this,"_currencies",{}),(0,o.Z)(this,"_multipliers",{}),(0,o.Z)(this,"_onCurrencyGain",new m.FK),(0,o.Z)(this,"_supportedCurrencies",void 0),this._supportedCurrencies=t;for(const e of this._supportedCurrencies)this._currencies[e]=0,this._multipliers[e]=1}resetTemporaryCurrencies(){this._currencies[f.Wood]=0,this._currencies[f.Grain]=0,this._currencies[f.Souls]=0,this._currencies[f.Bronze]=0,this._currencies[f.Silver]=0,this._currencies[f.Gold]=0}getAmount(t){return this.supportsCurrencyType(t)?this._currencies[t]:0}gainCurrency(t){t.multiply(this.getCurrencyMultiplier(t.type)),t.isValid()&&this.supportsCurrencyType(t.type)?(this._onCurrencyGain.dispatch(t),this._currencies[t.type]+=t.amount):console.warn(`Could not add currency ${t.toString()}`)}hasCurrency(t){return!!this.supportsCurrencyType(t.type)&&this._currencies[t.type]>=t.amount}hasCurrencies(t){for(const e of t)if(!this.hasCurrency(e))return!1;return!0}loseCurrency(t){t.isValid()&&this.supportsCurrencyType(t.type)?this._currencies[t.type]-=t.amount:console.warn(`Could not lose currency ${t.toString()}`)}loseAll(){this._currencies[f.Money]=0,this._currencies[f.Scrap]=0,this._currencies[f.Salt]=0,this._currencies[f.Diamond]=0}loseMultipleCurrencies(t){for(const e of t)this.loseCurrency(e)}payMultipleIfPossible(t){return!!this.hasCurrencies(t)&&(this.loseMultipleCurrencies(t),!0)}payIfPossible(t){return!!this.hasCurrency(t)&&(this.loseCurrency(t),!0)}getCurrencyMultiplier(t){return this._multipliers[t]??1}setCurrencyMultiplier(t,e){t<=0||isNaN(t)||!this.supportsCurrencyType(e)||(this._multipliers[e]=t)}supportsCurrencyType(t){return this._supportedCurrencies.includes(t)}canAccess(){return!0}save(){return{money:this._currencies[f.Money]}}load(t){this._currencies[f.Money]=t.money??this._currencies[f.Money]}get onCurrencyGain(){return this._onCurrencyGain.asEvent()}get money(){return this._currencies.Money}set money(t){this._currencies.Money=t}get wood(){return this._currencies.Wood}get grain(){return this._currencies.Grain}get souls(){return this._currencies.Souls}get bronze(){return this._currencies.Bronze}get silver(){return this._currencies.Silver}get gold(){return this._currencies.Gold}get diamond(){return this._currencies.Diamonds}get scrap(){return this._currencies.Scrap}getDeveloperPanelFields(){return[new b("money","Money"),new d((()=>{this.money=10}),"Set money to 10").setCssClass("btn-blue"),new Z("money",0,100,2,"Money Slider")]}}(function(t){t["ShowSaveMessage"]="Show save message",t["ShowUnobtainedCards"]="Show unobtained cards"})(y||(y={}));class x{constructor(t,e){(0,o.Z)(this,"actual",void 0),(0,o.Z)(this,"target",void 0),this.actual=t,this.target=e}}class L{get isCompleted(){return this.actualValue>=this.targetValue}get progress(){return new x(Math.min(this.actualValue,this.targetValue),this.targetValue)}}class G extends L{get isCompleted(){return!0}get actualValue(){return 0}get hint(){return""}get targetValue(){return 0}}class P{constructor(t,e,s,i,a=new G){(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"displayName",void 0),(0,o.Z)(this,"options",void 0),(0,o.Z)(this,"defaultValue",void 0),(0,o.Z)(this,"value",void 0),(0,o.Z)(this,"requirement",void 0),this.id=t,this.displayName=e,this.options=s,this.defaultValue=i,this.value=i,this.requirement=a}set(t){this.canAccess&&(this.validValue(t)?this.value=t:console.warn(`${t} is not a valid value for setting ${this.id}. It could be that the option is not yet unlocked.`))}validValue(t){const e=this.options.find((e=>e.value===t));return!(void 0==e||!e.canAccess)}isSelected(t){return this.value===t}get canAccess(){return this.requirement.isCompleted}}class k{constructor(t,e,s=new G){(0,o.Z)(this,"displayText",void 0),(0,o.Z)(this,"value",void 0),(0,o.Z)(this,"requirement",void 0),this.displayText=t,this.value=e,this.requirement=s}get canAccess(){return this.requirement.isCompleted}}class M extends P{constructor(t,e,s,i){super(t,e,[new k("On",!0),new k("Off",!1)],s,i)}toggle(){this.value=!this.value}}class V extends T{constructor(){super("settings"),(0,o.Z)(this,"list",void 0),this.list=[]}add(t){this.getSetting(t.id)||this.list.push(t)}initialize(){this.add(new M(y.ShowSaveMessage,"Show save message",!0))}setSetting(t,e){const s=this.getSetting(t);s?s.set(e):console.warn(`Setting ${t} does not exist`)}getSetting(t){for(let e=0;e<this.list.length;e++)if(this.list[e].id==t)return this.list[e];return console.warn(`Setting ${t} does not exist`),null}load(t){for(const e of t.list)this.getSetting(e.id)?.set(e.value)}save(){return{list:this.list.map((t=>({id:t.id,value:t.value})))}}getDeveloperPanelFields(){return[new d((()=>{alert("test")}),"Test")]}}(function(t){t["TotalScrapGained"]="total-scrap-gained",t["TotalOilGained"]="total-oil-gained",t["TotalGasolineGained"]="total-gasoline-gained",t["TotalLightningGained"]="total-lighting-gained",t["TotalPlutoniumGained"]="total-plutonium-gained",t["TotalScrapGainedThisPrestige"]="total-scrap-gained-this-prestige",t["TotalOilGainedThisPrestige"]="total-oil-gained-this-prestige",t["TotalGasolineGainedThisPrestige"]="total-gasoline-gained-this-prestige",t["TotalLightningGainedThisPrestige"]="total-lighting-gained-this-prestige",t["TotalPlutoniumGainedThisPrestige"]="total-plutonium-gained-this-prestige",t["TotalMoneyGained"]="total-money-gained"})(S||(S={}));class E{constructor(t,e){(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"description",void 0),this.id=t,this.description=e}}class $ extends E{constructor(t,e,s=0){super(t,e),(0,o.Z)(this,"value",void 0),this.value=s}}class N{constructor(){(0,o.Z)(this,"list",void 0),this.list={}}addStatistic(t,e){this.list[t]=e}}class O extends E{constructor(t,e,s){super(t,e),(0,o.Z)(this,"value",void 0),this.value=s}}class U extends T{constructor(){super("statistics"),(0,o.Z)(this,"list",void 0),this.list={}}initialize(t){this.registerStatistic(new $(S.TotalMoneyGained,"Total money")),this.registerStatistic(new $(S.TotalScrapGained,"Total scrap")),this.registerStatistic(new $(S.TotalScrapGainedThisPrestige,"Total scrap this prestige")),t.wallet.onCurrencyGain.subscribe((t=>{t.type===f.Money&&this.incrementNumberStatistic(S.TotalMoneyGained,t.amount),t.type===f.Scrap&&(this.incrementNumberStatistic(S.TotalScrapGained,t.amount),this.incrementNumberStatistic(S.TotalScrapGainedThisPrestige,t.amount))}))}getCurrencyStatisticThisPrestige(t){switch(t){case f.Scrap:return this.getStatistic(S.TotalScrapGainedThisPrestige);default:return this.getStatistic(S.TotalScrapGainedThisPrestige)}}incrementNumberStatistic(t,e=1){if(!this.hasStatistic(t))return void console.warn(`Could not find statistic with id ${t}`);const s=this.list[t];s instanceof $&&(s.value+=e)}incrementArrayStatistic(t,e,s=1){if(!this.hasStatistic(t))return void console.warn(`Could not find statistic with id ${t}`);const i=this.list[t];if(i instanceof O){const t=i.value[e]+s;i.value.splice(e,1,t)}}getStatistic(t){return this.hasStatistic(t)?this.list[t]:(console.warn(`Could not find statistic with id ${t}`),null)}hasStatistic(t){return t in this.list}registerStatistic(t){this.list[t.id]=t}load(t){for(const e in t.list)Object.prototype.hasOwnProperty.call(t.list,e)&&(this.hasStatistic(e)?this.list[e].value=t.list[e]:console.warn(`Could not load statistic ${e}`))}parseSaveData(t){const e=new N,s=t.list;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.addStatistic(i,s[i]);return e}save(){const t=new N;for(const e in this.list)t.addStatistic(e,this.list[e].value);return t}}class I{constructor(t,e,s,i,a){(0,o.Z)(this,"key",void 0),(0,o.Z)(this,"title",void 0),(0,o.Z)(this,"description",void 0),(0,o.Z)(this,"image",void 0),(0,o.Z)(this,"requirement",void 0),(0,o.Z)(this,"unlocked",void 0),this.key=t,this.title=e,this.description=s,this.image=i,this.requirement=a,this.unlocked=!1}unlock(){return!this.unlocked&&(this.unlocked=!0,!0)}requirementsCompleted(){return this.requirement.isCompleted}getProgress(){return this.requirement.progress}}(function(t){t["PlayedGobletOfFire"]="played-goblet-of-fire",t["PlayedFrozen2"]="played-frozen-2",t["EnemyPlayedForestFire"]="enemy-played-forest-fire",t["AtLeastOneSuperPower"]="at-least-one-superpower",t["AllSuperPowers"]="all-super-powers",t["TotalMoney100"]="100-total-money",t["TotalMoney1000"]="1000-total-money",t["TotalMoney10000"]="10000-total-money",t["FirstLevelCompleted"]="first-level-completed",t["WizardLevelCompleted"]="farm-level-completed",t["FarmLevelCompleted"]="wizard-level-completed",t["DragonLevelCompleted"]="dragon-level-completed",t["SpiderLevelCompleted"]="spider-level-completed",t["TrollLevelCompleted"]="troll-level-completed",t["NecromancerLevelCompleted"]="necromancer-level-completed",t["Played100Resources"]="played-100-resources",t["Played100Monsters"]="played-100-monsters",t["Played100Actions"]="played-100-actions",t["Played100Curses"]="played-100-curses",t["Played100Tools"]="played-100-tools"})(C||(C={}));class D{constructor(){(0,o.Z)(this,"list",void 0),this.list=[]}addAchievement(t){this.list.push(t)}}class F extends L{constructor(){super(),(0,o.Z)(this,"isSet",void 0),this.isSet=!1}forceCompletion(){this.isSet=!0}get isCompleted(){return this.isSet}get actualValue(){return this.isSet?this.targetValue:0}get hint(){return"Can only be manually completed"}get targetValue(){return 1}}class q extends I{constructor(t,e,s,i){super(t,e,s,i,new F)}forceComplete(){this.requirement.forceCompletion()}}class R extends L{constructor(t,e){super(),(0,o.Z)(this,"statistic",void 0),(0,o.Z)(this,"targetValue",void 0),this.statistic=t,this.targetValue=e}getTargetValue(){return this.targetValue}get actualValue(){return this.statistic.value}get hint(){return`The statistic ${this.statistic.description} needs to be at least ${this.targetValue}`}}class j extends T{get onUnlock(){return this._onUnlock.asEvent()}constructor(){super("achievements"),(0,o.Z)(this,"name","Achievements"),(0,o.Z)(this,"saveKey","achievements"),(0,o.Z)(this,"list",void 0),(0,o.Z)(this,"ACHIEVEMENT_CHECK_TIME",2),(0,o.Z)(this,"checkCounter",0),(0,o.Z)(this,"_onUnlock",new m.FK),this.list={}}initialize(t){this.registerAchievement(new q(C.AtLeastOneSuperPower,"I wonder what inspired this feature","Go on an Adventure with at least one bonus","cards/hatchet-bronze.svg")),this.registerAchievement(new I(C.TotalMoney100,"It's something","Gain 100 money in total","coins.svg",new R(t.statistics.getStatistic(S.TotalMoneyGained),100))),this.registerAchievement(new I(C.TotalMoney1000,"It's a bit more","Gain 1000 money in total","coins.svg",new R(t.statistics.getStatistic(S.TotalMoneyGained),1e3))),this.registerAchievement(new I(C.TotalMoney10000,"This is where the fun begins","Gain 10000 money in total","coins.svg",new R(t.statistics.getStatistic(S.TotalMoneyGained),1e4)))}update(t){this.checkCounter+=t,this.checkCounter>=this.ACHIEVEMENT_CHECK_TIME&&(this.checkForAchievementsCompleted(),this.checkCounter=0)}checkForAchievementsCompleted(){for(const t in this.list){const e=this.list[t];if(e.requirementsCompleted()){const t=e.unlock();t&&this._onUnlock.dispatch(e)}}}registerAchievement(t){this.list[t.key]=t}getAchievement(t){return this.hasAchievement(t)?this.list[t]:(console.warn(`Could not find achievement with key ${t}`),null)}hasAchievement(t){return t in this.list}load(t){for(const e of t.list){const t=this.getAchievement(e);null!==t&&(t.unlocked=!0)}}save(){const t=new D;for(const e in this.list)this.list[e].unlocked&&t.addAchievement(e);return t}}class B{constructor(){}}class z extends B{}class K{constructor(){(0,o.Z)(this,"upgrades",void 0),this.upgrades=[]}addUpgrade(t){this.upgrades.push(t)}}class W{constructor(t){(0,o.Z)(this,"list",void 0),(0,o.Z)(this,"saveKey","upgrades"),this.list=t}addUpgrade(t){this.list.push(t)}getUpgrade(t){for(const e of this.list)if(e.id===t)return e;return null}getTotalMultiplierForType(t){let e=1;for(const s of this.list.filter((e=>e.type===t)))e*=s.getBonus(s.level);return e}load(t){for(const e of t.upgrades){const t=this.getUpgrade(e.key);null==t?console.warn(`Could not load upgrade ${e.key}`):t.load(e)}}parseSaveData(t){const e=new K,s=t?.upgrades;if(null==s)return e;for(const i of s)e.addUpgrade(i);return e}save(){const t=new K;for(const e of this.list)t.addUpgrade(e.save());return t}}(function(t){t[t["ScrapManual"]=0]="ScrapManual",t[t["ScrapAutomation"]=1]="ScrapAutomation",t[t["ScrapValue"]=2]="ScrapValue",t[t["ScrapAutomationSpeed"]=3]="ScrapAutomationSpeed",t[t["ScrapAutomationACriticalChance"]=4]="ScrapAutomationACriticalChance"})(w||(w={}));class H{constructor(t,e){(0,o.Z)(this,"amount",void 0),(0,o.Z)(this,"type",void 0),this.amount=t,this.type=e}isValid(){return!isNaN(this.amount)&&this.amount>=0}toString(){return`${this.amount} ${this.type}`}add(t){this.amount+=t}subtract(t){this.amount-=t}multiply(t){this.amount*=t}divide(t){0!==t?this.amount/=t:console.error(`Cannot divide ${this} by 0`)}}class Y{static createArray(t,e){return t.map((t=>new H(t,e)))}}class J{constructor(t,e){(0,o.Z)(this,"key",void 0),(0,o.Z)(this,"level",void 0),this.key=t,this.level=e}}class X{constructor(t,e,s,i,a=!0){(0,o.Z)(this,"id",String(Math.random())),(0,o.Z)(this,"type",void 0),(0,o.Z)(this,"displayName",void 0),(0,o.Z)(this,"maxLevel",void 0),(0,o.Z)(this,"level",void 0),(0,o.Z)(this,"increasing",void 0),(0,o.Z)(this,"saveKey",this.id),this.id=t,this.type=e,this.displayName=s,this.maxLevel=i,this.level=0,this.increasing=a}getUpgradeBonus(){return this.isMaxLevel()?0:this.getBonus(this.level+1)-this.getBonus(this.level)}isMaxLevel(){return this.level>=this.maxLevel}canAfford(){return ct.game.features.wallet.hasCurrency(this.getCost())}canBuy(){return this.level<this.maxLevel&&this.canAfford()}buy(){this.canBuy()&&(ct.game.features.wallet.loseCurrency(this.getCost()),this.levelUp())}levelUp(){this.level=this.level+1}load(t){this.level=t.level}parseSaveData(t){return new J(t?.id,t?.level??0)}save(){return new J(this.id,this.level)}}class Q extends X{constructor(t,e,s,i,a,r,n){super(t,e,s,i,n),(0,o.Z)(this,"costList",[]),(0,o.Z)(this,"bonusList",[]),this.costList=a,this.bonusList=r}getCost(){return this.isMaxLevel()?new H(1/0,f.Scrap):this.costList[this.level]}getBonus(t=this.level){return this.bonusList[t]}}class tt extends Q{constructor(t,e,s,i,a){super(t,e,s,1,[i],[0,a],!0)}isBought(){return this.isMaxLevel()}}class et{constructor(t,e){(0,o.Z)(this,"value",void 0),(0,o.Z)(this,"goal",void 0),(0,o.Z)(this,"isStarted",void 0),(0,o.Z)(this,"requirements",void 0),this.value=0,this.goal=t,this.isStarted=!1,this.requirements=e}start(){this.isStarted?console.warn("Cannot start twice"):(this.isStarted=!0,this.value=0)}progress(t){this.isStarted?(this.value=Math.min(this.goal,this.value+t),this.isCompleted()&&this.complete()):this.canRepeat()&&this.start()}get percentage(){return this.value/this.goal}repeat(){this.value=0}isCompleted(){return this.value>=this.goal}complete(){this.gainReward(),this.canRepeat()?this.repeat():(this.value=0,this.isStarted=!1)}}class st extends L{constructor(t){super(),(0,o.Z)(this,"requirements",void 0),this.requirements=t}get isCompleted(){return this.requirements.every((t=>t.isCompleted))}get hint(){let t="Complete the following requirements:\n";for(const e of this.requirements)t+=e.hint+"\n";return t}get actualValue(){let t=0;for(const e of this.requirements)e.isCompleted&&t++;return t}get targetValue(){return this.requirements.length}}class it extends et{constructor(t,e,s,i,a=new st([])){super(e,a),(0,o.Z)(this,"description",void 0),(0,o.Z)(this,"automationUpgrade",void 0),(0,o.Z)(this,"valueUpgrade",void 0),this.description=t,this.automationUpgrade=s,this.valueUpgrade=i}canRepeat(){return ct.game.features.scrap.upgrades.getUpgrade(this.automationUpgrade).isBought()}scrapReward(){const t=ct.game.features.scrap.upgrades.getUpgrade(this.valueUpgrade);return t.getBonus()}gainReward(){return ct.game.features.wallet.gainCurrency(new H(this.scrapReward(),f.Scrap))}}class at extends L{constructor(t,e){super(),(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"targetValue",void 0),this.id=t,this.targetValue=e}lockedReason(){return`The statistic ${ct.game.features.statistics.getStatistic(this.id)?.id} needs to be at least ${this.targetValue}`}getActualValue(){return ct.game.features.statistics.getStatistic(this.id)?.value}getTargetValue(){return this.targetValue}get actualValue(){return ct.game.features.statistics.getStatistic(this.id)?.value}get hint(){return`The statistic ${ct.game.features.statistics.getStatistic(this.id)?.description} needs to be at least ${this.targetValue}`}}class rt extends T{constructor(){super("scrap"),(0,o.Z)(this,"name","Scrap"),(0,o.Z)(this,"saveKey","scrap"),(0,o.Z)(this,"upgrades",void 0),(0,o.Z)(this,"actions",void 0),this.upgrades=new W([new tt("scrap-unlock-dig-automation",w.ScrapAutomation,"Automatically dig for scraps",new H(30,f.Scrap),1),new tt("scrap-unlock-metal-detector-automation",w.ScrapAutomation,"Automate your metal detector",new H(150,f.Scrap),1),new tt("scrap-unlock-recycle-automation",w.ScrapAutomation,"Automatically recycle stuff",new H(500,f.Scrap),1),new tt("scrap-unlock-plunder-copper-automation",w.ScrapAutomation,"Automatically plunder copper",new H(1e3,f.Scrap),1),new Q("scrap-dig-value",w.ScrapValue,"Dig value",9,Y.createArray([5,10,25,50,100,250,500,750,1e3,2500],f.Scrap),[1,2,3,4,5,6,7,8,9,10,11],!0),new Q("scrap-metal-detector-value",w.ScrapValue,"Metal detector value",9,Y.createArray([25,50,100,250,500,750,1e3,2500,5e3,1e4],f.Scrap),[5,10,15,20,25,30,35,40,45,50],!0),new Q("scrap-recycle-value",w.ScrapValue,"Recycle value",9,Y.createArray([500,1e3,1500,2e3,2500,3e3,3500,4e3,4500],f.Scrap),[25,50,75,100,125,150,175,200,225,250],!0),new Q("scrap-plunder-copper-value",w.ScrapValue,"Copper value",9,Y.createArray([1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3],f.Scrap),[100,200,300,400,500,600,700,800,900,1e3],!0),new Q("scrap-automation-speed",w.ScrapAutomationSpeed,"Speedup all actions",10,Y.createArray([50,100,250,500,750,1e3,2500,5e3,7500,1e4],f.Scrap),[1,1.5,2,2.5,3,4,5,7.5,10,12.5,15,20],!0)]),this.actions=[new it("Dig for scraps",2,"scrap-unlock-dig-automation","scrap-dig-value"),new it("Metal detector",6,"scrap-unlock-metal-detector-automation","scrap-metal-detector-value",new st([new at(S.TotalScrapGainedThisPrestige,8)])),new it("Recycle stuff",20,"scrap-unlock-recycle-automation","scrap-recycle-value",new st([new at(S.TotalScrapGainedThisPrestige,100)])),new it("Plunder copper ",50,"scrap-unlock-plunder-copper-automation","scrap-plunder-copper-value",new st([new at(S.TotalScrapGainedThisPrestige,1e3)]))]}update(t){if(!this.canAccess())return;const e=this.upgrades.getUpgrade("scrap-automation-speed").getBonus();for(const s of this.actions)s.progress(t*e)}load(t){}canAccess(){return!0}parseSaveData(t){return new z}save(){return new z}reset(){for(const t of this.upgrades.list)t.level=0;for(const t of this.actions)t.isStarted=!1,t.value=0}}(function(t){t[t["Scrap"]=0]="Scrap",t[t["Gasoline"]=1]="Gasoline",t[t["Lightning"]=2]="Lightning",t[t["FluxCapacitor"]=3]="FluxCapacitor"})(_||(_={}));class nt extends B{constructor(t){super(),(0,o.Z)(this,"state",void 0),this.state=t}}class ot extends T{constructor(){super("timeline"),(0,o.Z)(this,"name","Timeline"),(0,o.Z)(this,"saveKey","timeline"),(0,o.Z)(this,"state",void 0),(0,o.Z)(this,"canAccessScrap",!1),(0,o.Z)(this,"canAccessGasoline",!1),(0,o.Z)(this,"canAccessLightning",!1),(0,o.Z)(this,"canAccessPlutonium",!1),(0,o.Z)(this,"SCRAP_GOAL",1e4),(0,o.Z)(this,"GASOLINE_GOAL",1e4),(0,o.Z)(this,"OIL_GOAL",100),(0,o.Z)(this,"START_STATE",_.Scrap),this.state=this.START_STATE}initialize(){this.giveStartingCurrency()}update(t){ct.game.features.wallet.getAmount(f.Scrap)>0&&(this.canAccessScrap=!0)}timeTravel(){this.canTimeTravel()&&(ct.game.features.wallet.loseAll(),ct.game.features.scrap.reset(),ct.game.features.statistics.getStatistic(S.TotalScrapGainedThisPrestige).value=0,this.canAccessScrap=!1,this.canAccessGasoline=!1,this.canAccessLightning=!1,this.canAccessPlutonium=!1,this.state=Math.min(_.FluxCapacitor,this.state+1),this.giveStartingCurrency())}canTimeTravel(){return ct.game.features.wallet.hasCurrency(new H(this.SCRAP_GOAL,f.Scrap))}load(t){this.state=t.state}parseSaveData(t){return new nt(t.state??this.START_STATE)}save(){return new nt(this.state)}giveStartingCurrency(){switch(this.state){case _.Scrap:ct.game.features.wallet.gainCurrency(new H(1,f.Scrap));break}}}class ct{static start(){this.game=this.getDefaultGame(),this.game.initialize(),this.game.load(),this.game.start()}static getDefaultGame(){const t=new v({settings:new V,wallet:new A([f.Money,f.Diamond,f.Scrap]),statistics:new U,achievements:new j,scrap:new rt,timeLine:new ot});return t}}(0,o.Z)(ct,"inProduction",!0),(0,o.Z)(ct,"game",void 0);var lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("notificationGroup",{attrs:{group:"top-left"}},[s("div",{staticClass:"z-50 fixed inset-0 flex px-4 py-6 pointer-events-none p-6 items-start justify-start"},[s("div",{staticClass:"max-w-sm w-full"},[s("notification",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.notifications;return t._l(i,(function(t){return s("div",{key:t.id,staticClass:"max-w-sm w-full mx-auto bg-white shadow-md rounded-lg overflow-hidden mt-4"},[s("igt-notification",{attrs:{notification:t}})],1)}))}}])})],1)])])},ut=[],ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex"},[s("div",{staticClass:"flex justify-center items-center w-12",class:t.backgroundColor},[s("div",{staticClass:"text-xl fa",class:t.icon})]),s("div",{staticClass:"-mx-3 py-2 px-4"},[s("div",{staticClass:"mx-3"},[s("span",{staticClass:"font-semibold",class:t.textColor},[t._v(t._s(t.notification.title))]),s("p",{staticClass:"text-gray-600 text-sm"},[t._v(t._s(t.notification.text))])])])])},dt=[],pt={name:"igt-notification",props:{notification:{type:Object,required:!0}},computed:{textColor(){switch(this.notification.type){case"success":return"text-green-500";case"error":return"text-red-500";default:return"text-gray-500"}},backgroundColor(){switch(this.notification.type){case"success":return"bg-green-500";case"error":return"bg-red-500";default:return"bg-gray-500"}},icon(){switch(this.notification.type){case"success":return"fa-check";case"error":return"fa-times";default:return"fa-question"}}}},gt=pt,mt=s(1001),vt=(0,mt.Z)(gt,ht,dt,!1,null,"15afe98b",null),ft=vt.exports,yt={name:"igt-notifications",components:{IgtNotification:ft}},St=yt,Ct=(0,mt.Z)(St,lt,ut,!1,null,"c1296ae4",null),wt=(Ct.exports,function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.canAccess?s("div",{staticClass:"container"},[s("h3",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.scrapAmount)+" Scrap")]),s("div",{staticClass:"action-list"},t._l(t.availableActions,(function(t){return s("scrap-action",{key:t.description,attrs:{action:t}})})),1),s("br"),s("div",{staticClass:"upgrade-list"},t._l(t.upgrades,(function(t){return s("upgrade-component",{key:t.id,attrs:{upgrade:t}})})),1)]):t._e()}),_t=[],Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"btn btn-primary upgrade",class:{disabled:!t.canBuy},on:{click:t.buy}},[s("p",[t._v(" "+t._s(t.upgrade.displayName)+" ")]),t.upgrade.isMaxLevel()?s("div",[t._v("MAX")]):s("div",[s("currency",{attrs:{currency:t.cost}}),1!==t.upgrade.maxLevel?s("div",[t._v(" Currently "+t._s(t._f("twoDigits")(t.upgrade.getBonus(t.upgrade.level)))+" ("+t._s(t.upgrade.increasing?"+":"-")+t._s(t._f("twoDigits")(Math.abs(t.upgrade.getUpgradeBonus())))+") ")]):t._e()],1)])},bt=[],Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",[t._t("before"),t.brackets?s("span",[t._v("(")]):t._e(),t._v(t._s(t.currency.amount)+" "+t._s(t.currencyType)),t.brackets?s("span",[t._v(")")]):t._e(),t._t("after")],2)])},At=[],xt={name:"CurrencyComponent",props:{currency:{type:H,required:!0},brackets:{type:Boolean,required:!1}},computed:{currencyType(){return f[this.currency.type]}}},Lt=xt,Gt=(0,mt.Z)(Lt,Zt,At,!1,null,"1efcdb68",null),Pt=Gt.exports,kt={name:"UpgradeComponent",components:{currency:Pt},props:{upgrade:{type:X,required:!0}},methods:{buy(){this.upgrade.buy()}},computed:{show(){const t=ct.game.features.statistics.getCurrencyStatisticThisPrestige(this.cost.type);return this.upgrade.level>0||t.value>=this.cost.amount/2},cost(){return this.upgrade.getCost()},canBuy(){return this.upgrade.canBuy()}}},Mt=kt,Vt=(0,mt.Z)(Mt,Tt,bt,!1,null,"1d07ca04",null),Et=Vt.exports,$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn scrap",attrs:{"data-progress-style":"fill-back",disabled:t.action.isStarted},on:{click:t.start}},[t._v(" "+t._s(t.action.description)+" (+"+t._s(this.action.scrapReward())+") "),s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar",style:{width:100*t.action.percentage+"%"},attrs:{role:"progressbar","aria-valuenow":100*t.action.percentage,"aria-valuemin":"0","aria-valuemax":"100"}})])])},Nt=[],Ot={name:"ScrapAction",props:{action:{type:it,required:!0}},methods:{start(){this.action.start()}}},Ut=Ot,It=(0,mt.Z)(Ut,$t,Nt,!1,null,"6241cfc8",null),Dt=It.exports,Ft={name:"ScrapComponent",components:{ScrapAction:Dt,UpgradeComponent:Et},data(){return{statistic:ct.game.features.statistics,scrap:ct.game.features.scrap,wallet:ct.game.features.wallet}},methods:{},computed:{canAccess(){return this.scrap.canAccess()},upgrades(){return this.scrap.upgrades.list},availableActions(){return this.scrap.actions.filter((t=>t.requirements.isCompleted))},scrapAmount(){return this.wallet.scrap}}},qt=Ft,Rt=(0,mt.Z)(qt,wt,_t,!1,null,"6066889e",null),jt=Rt.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("br"),s("div",{staticClass:"vefs-milestone-wrapper"},[s("div",{staticClass:"milestone-container"},[s("div",{staticClass:"chart-container"},[s("div",{staticClass:"line-container"},[s("div",{staticClass:"line"}),s("div",{staticClass:"line left",style:{width:100*t.percentage+"%"}})]),s("div",{staticClass:"dot-container"},[s("div",{staticClass:"milestones milestone__0"},[s("div",{staticClass:"dot",class:{completed:t.percentage>=0,colored:t.percentage>=0}})]),s("div",{staticClass:"milestones milestone__40"},[s("div",{staticClass:"dot",class:{completed:t.percentage>=.4,colored:t.percentage>=.4}})]),s("div",{staticClass:"milestones milestone__60"},[s("div",{staticClass:"dot",class:{completed:t.percentage>=.6,colored:t.percentage>=.6}})]),s("div",{staticClass:"milestones milestone__80"},[s("div",{staticClass:"dot",class:{completed:t.percentage>=.8,colored:t.percentage>=.8}})]),s("div",{staticClass:"milestones milestone__100"},[s("div",{staticClass:"dot",class:{completed:t.percentage>=1,colored:t.percentage>=1}})])])]),s("div",{staticClass:"label-container"},[s("div",{staticClass:"milestones milestone__0"},[s("div",{staticClass:"label colored"},[t._v(t._s(t.timeLine.state>=t.timeLineState.FluxCapacitor?"Flux Capacitor":"???")+" ")])]),s("div",{staticClass:"milestones milestone__40"},[s("div",{staticClass:"label colored"},[t._v(t._s(t.timeLine.state>=t.timeLineState.Lightning?"Lightning":"???"))])]),s("div",{staticClass:"milestones milestone__60"},[s("div",{staticClass:"label colored"},[t._v(t._s(t.timeLine.state>=t.timeLineState.Gasoline?"Gasoline":"???"))])]),s("div",{staticClass:"milestones milestone__80"},[s("div",{staticClass:"label"},[t._v(t._s(t.timeLine.state>=t.timeLineState.Scrap?"Scrap":"???"))])]),t._m(0)])])]),s("div",{staticStyle:{display:"flex","justify-content":"center"}},[t.timeLine.state!==t.timeLineState.FluxCapacitor?s("button",{staticClass:"btn btn-primary",staticStyle:{padding:"20px",margin:"20px"},attrs:{disabled:!t.canTimeTravel},on:{click:t.timeTravel}},[t._v(" Reach "+t._s(t.timeLine.SCRAP_GOAL)+" Scrap to "),t.timeLine.state===t.timeLineState.Lightning?s("span",[t._v("Complete the game")]):s("span",[t._v("Time travel")])]):t._e()])])},zt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"milestones milestone__100"},[s("div",{staticClass:"label"},[t._v("Time Travel")])])}],Kt={name:"TimeLine",data(){return{timeLine:ct.game.features.timeLine,wallet:ct.game.features.wallet,timeLineState:_}},methods:{timeTravel(){this.timeLine.timeTravel()},logProgress(t,e){return t<=1?0:Math.log(t)/Math.log(e)}},computed:{canTimeTravel(){return this.timeLine.canTimeTravel()},percentage(){return this.timeLine.canAccessScrap?Math.min(1,.8+.2*this.logProgress(ct.game.features.wallet.getAmount(f.Scrap),this.timeLine.SCRAP_GOAL)):0}}},Wt=Kt,Ht=(0,mt.Z)(Wt,Bt,zt,!1,null,"4ee22b2e",null),Yt=Ht.exports,Jt={components:{TimeLine:Yt,Scrap:jt},data(){return{game:ct.game}},computed:{showDevPanel(){return!ct.inProduction},darkMode(){return!0}}},Xt=Jt,Qt=(0,mt.Z)(Xt,r,n,!1,null,null,null),te=Qt.exports,ee=s(223);a.Z.filter("numberFormat",(function(t){return void 0==t?"":t.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})),a.Z.filter("dateFormat",(function(t){if(void 0==t)return"";const e=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),s=new Intl.DateTimeFormat("en",{month:"long"}).format(t),i=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t),a=t.getHours(),r=a<10?`0${a}`:`${a}`,n=t.getMinutes(),o=n<10?`0${n}`:`${n}`;return`${i} ${s} ${e} ${r}:${o}`})),a.Z.filter("humanizeString",(function(t){return void 0==t?"":(t=t.charAt(0).toUpperCase()+t.slice(1),t.replace("_"," ").replace("-"," "),t)})),a.Z.filter("twoDigits",(function(t){return t.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})),a.Z.config.productionTip=!1,a.Z.use(ee.Z),window.onload=function(){ct.start(),ct.inProduction||void 0===typeof window||(console.log("Exposing App to console"),window.App=ct),console.log("Launched"),new a.Z({render:t=>t(te)}).$mount("#app")}}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,r){if(!i){var n=1/0;for(u=0;u<t.length;u++){i=t[u][0],a=t[u][1],r=t[u][2];for(var o=!0,c=0;c<i.length;c++)(!1&r||n>=r)&&Object.keys(s.O).every((function(t){return s.O[t](i[c])}))?i.splice(c--,1):(o=!1,r<n&&(n=r));if(o){t.splice(u--,1);var l=a();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[i,a,r]}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,r,n=i[0],o=i[1],c=i[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(c)var u=c(s)}for(e&&e(i);l<n.length;l++)r=n[l],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(u)},i=self["webpackChunkigt_vue"]=self["webpackChunkigt_vue"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(247)}));i=s.O(i)})();
//# sourceMappingURL=app.cf0258fa.js.map