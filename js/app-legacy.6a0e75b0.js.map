{"version":3,"file":"js/app-legacy.6a0e75b0.js","mappings":"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","sources":["webpack://igt-vue/./src/engine/GameState.ts","webpack://igt-vue/./src/VueApp.vue?c21c","webpack://igt-vue/./src/engine/features/wallet/CurrencyType.ts","webpack://igt-vue/./src/engine/tools/saving/LocalStorage.ts","webpack://igt-vue/./src/engine/developer-panel/DeveloperPanel.ts","webpack://igt-vue/./src/engine/developer-panel/DeveloperPanelTab.ts","webpack://igt-vue/./src/engine/developer-panel/fields/AbstractField.ts","webpack://igt-vue/./src/engine/developer-panel/fields/FunctionField.ts","webpack://igt-vue/./src/engine/developer-panel/fields/DisplayField.ts","webpack://igt-vue/./src/engine/developer-panel/fields/ChoiceField.ts","webpack://igt-vue/./src/engine/Game.ts","webpack://igt-vue/./src/engine/features/Feature.ts","webpack://igt-vue/./src/engine/features/settings/SettingId.ts","webpack://igt-vue/./src/engine/developer-panel/fields/NumberField.ts","webpack://igt-vue/./src/engine/developer-panel/fields/RangeField.ts","webpack://igt-vue/./src/engine/features/wallet/Wallet.ts","webpack://igt-vue/./src/engine/features/statistics/StatisticId.ts","webpack://igt-vue/./src/engine/tools/requirements/Progress.ts","webpack://igt-vue/./src/engine/tools/requirements/Requirement.ts","webpack://igt-vue/./src/engine/tools/requirements/NoRequirement.ts","webpack://igt-vue/./src/engine/features/settings/Setting.ts","webpack://igt-vue/./src/engine/features/settings/SettingOption.ts","webpack://igt-vue/./src/engine/features/settings/BooleanSetting.ts","webpack://igt-vue/./src/engine/features/settings/Settings.ts","webpack://igt-vue/./src/engine/features/achievements/AchievementId.ts","webpack://igt-vue/./src/engine/features/statistics/AbstractStatistic.ts","webpack://igt-vue/./src/engine/features/statistics/NumberStatistic.ts","webpack://igt-vue/./src/engine/features/statistics/StatisticsSaveData.ts","webpack://igt-vue/./src/engine/features/statistics/ArrayStatistic.ts","webpack://igt-vue/./src/engine/features/statistics/Statistics.ts","webpack://igt-vue/./src/engine/features/achievements/Achievement.ts","webpack://igt-vue/./src/engine/features/achievements/AchievementSaveData.ts","webpack://igt-vue/./src/engine/features/upgrades/UpgradeType.ts","webpack://igt-vue/./src/engine/tools/requirements/ManualRequirement.ts","webpack://igt-vue/./src/engine/features/achievements/CustomAchievement.ts","webpack://igt-vue/./src/engine/features/statistics/requirements/NumberStatisticRequirement.ts","webpack://igt-vue/./src/engine/features/achievements/Achievements.ts","webpack://igt-vue/./src/engine/features/saving/SaveData.ts","webpack://igt-vue/./src/engine/features/scrap/ScrapSaveData.ts","webpack://igt-vue/./src/engine/features/upgrades/UpgradeListSaveData.ts","webpack://igt-vue/./src/engine/features/upgrades/UpgradeList.ts","webpack://igt-vue/./src/engine/features/wallet/Currency.ts","webpack://igt-vue/./src/engine/features/timeline/TimeLineState.ts","webpack://igt-vue/./src/engine/features/wallet/CurrencyBuilder.ts","webpack://igt-vue/./src/engine/features/upgrades/UpgradeSaveData.ts","webpack://igt-vue/./src/engine/features/upgrades/Upgrade.ts","webpack://igt-vue/./src/engine/features/upgrades/DiscreteUpgrade.ts","webpack://igt-vue/./src/engine/features/upgrades/SingleLevelUpgrade.ts","webpack://igt-vue/./src/engine/progressbars/ProgressBar.ts","webpack://igt-vue/./src/engine/tools/requirements/MultiRequirement.ts","webpack://igt-vue/./src/engine/features/scrap/ScrapAction.ts","webpack://igt-vue/./src/engine/features/statistics/requirements/StatisticRequirement.ts","webpack://igt-vue/./src/engine/features/scrap/Scrap.ts","webpack://igt-vue/./src/engine/features/timeline/TimeLineSaveData.ts","webpack://igt-vue/./src/engine/features/timeline/TimeLine.ts","webpack://igt-vue/./src/App.ts","webpack://igt-vue/./src/components/util/igt-notifications.vue?f87c","webpack://igt-vue/./src/components/util/igt-notification.vue?7076","webpack://igt-vue/src/components/util/igt-notification.vue","webpack://igt-vue/./src/components/util/igt-notification.vue?f485","webpack://igt-vue/./src/components/util/igt-notification.vue","webpack://igt-vue/src/components/util/igt-notifications.vue","webpack://igt-vue/./src/components/util/igt-notifications.vue?2a83","webpack://igt-vue/./src/components/util/igt-notifications.vue","webpack://igt-vue/./src/components/features/Scrap.vue?0413","webpack://igt-vue/./src/components/Upgrade.vue?09c5","webpack://igt-vue/./src/components/Currency.vue?3847","webpack://igt-vue/src/components/Currency.vue","webpack://igt-vue/./src/components/Currency.vue?4afa","webpack://igt-vue/./src/components/Currency.vue","webpack://igt-vue/src/components/Upgrade.vue","webpack://igt-vue/./src/components/Upgrade.vue?2721","webpack://igt-vue/./src/components/Upgrade.vue","webpack://igt-vue/./src/components/ScrapAction.vue?74fa","webpack://igt-vue/src/components/ScrapAction.vue","webpack://igt-vue/./src/components/ScrapAction.vue?694e","webpack://igt-vue/./src/components/ScrapAction.vue","webpack://igt-vue/src/components/features/Scrap.vue","webpack://igt-vue/./src/components/features/Scrap.vue?2264","webpack://igt-vue/./src/components/features/Scrap.vue","webpack://igt-vue/./src/components/features/TimeLine.vue?4096","webpack://igt-vue/src/components/features/TimeLine.vue","webpack://igt-vue/./src/components/features/TimeLine.vue?c9a2","webpack://igt-vue/./src/components/features/TimeLine.vue","webpack://igt-vue/src/VueApp.vue","webpack://igt-vue/./src/VueApp.vue?7bd4","webpack://igt-vue/./src/VueApp.vue","webpack://igt-vue/./src/VueFilters.ts","webpack://igt-vue/./src/main.ts","webpack://igt-vue/webpack/bootstrap","webpack://igt-vue/webpack/runtime/chunk loaded","webpack://igt-vue/webpack/runtime/define property getters","webpack://igt-vue/webpack/runtime/global","webpack://igt-vue/webpack/runtime/hasOwnProperty shorthand","webpack://igt-vue/webpack/runtime/jsonp chunk loading","webpack://igt-vue/webpack/startup"],"sourcesContent":["/**\r\n * Launching: The default, game is still starting up\r\n * Playing: Normal gameplay\r\n * Paused: Gameplay is suspended, to continue you need to resume\r\n * Stopped: Gameplay is stopped, to continue you need to start\r\n */\r\nexport enum GameState {\r\n    Launching = \"Launching\",\r\n    Playing = \"Playing\",\r\n    Paused = \"Paused\",\r\n    Stopped = \"Stopped\",\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('time-line'),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"row\"},[_c('scrap')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export enum CurrencyType {\r\n    Money = \"Money\",\r\n    Souls = \"Souls\",\r\n    Wood = \"Wood\",\r\n    Grain = \"Grain\",\r\n    Bronze = \"Bronze\",\r\n    Silver = \"Silver\",\r\n    Gold = \"Gold\",\r\n    Salt = \"Salt\",\r\n    Diamond = \"Diamonds\",\r\n    Scrap = \"Scrap\",\r\n}\r\n","export class LocalStorage {\r\n    public static store(key: string, data: Record<string, unknown>): void {\r\n        localStorage.setItem(key, JSON.stringify(data));\r\n    }\r\n\r\n    // TODO(@Isha) add error handling here\r\n    public static get(key: string): Record<string, unknown> {\r\n        return JSON.parse(localStorage.getItem(key) as string) as Record<string, unknown>;\r\n    }\r\n\r\n    public static delete(key: string): void {\r\n        localStorage.removeItem(key)\r\n    }\r\n}\r\n","import {DeveloperPanelTab} from \"@/engine/developer-panel/DeveloperPanelTab\";\r\n\r\nexport class DeveloperPanel {\r\n    tabs: DeveloperPanelTab[];\r\n\r\n    constructor(tabs: DeveloperPanelTab[]) {\r\n        this.tabs = tabs;\r\n    }\r\n}","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\nexport class DeveloperPanelTab {\r\n    label: string;\r\n    children: AbstractField[];\r\n\r\n\r\n    constructor(label: string, children: AbstractField[]) {\r\n        this.label = label;\r\n        this.children = children;\r\n    }\r\n\r\n    isEmpty(): boolean {\r\n        return this.children.length == 0;\r\n    }\r\n}","export class AbstractField {\r\n    object: object | undefined;\r\n    componentName: string | undefined;\r\n\r\n    propertyName: string;\r\n    label: string | undefined;\r\n\r\n    cssClass: string;\r\n\r\n    constructor(propertyName: string, label?: string) {\r\n        this.propertyName = propertyName;\r\n        this.label = label;\r\n        this.cssClass = 'btn-green';\r\n    }\r\n\r\n    get displayLabel() {\r\n        return this.label ?? this.propertyName;\r\n    }\r\n\r\n    get value() {\r\n        if (this.object == undefined) {\r\n            console.warn(`Cannot get warning as object is undefined for AbstractField ${this.propertyName}`)\r\n            return '';\r\n        }\r\n        return (this.object as any)[this.propertyName];\r\n    }\r\n\r\n    set value(value: any) {\r\n        (this.object as any)[this.propertyName] = value;\r\n    }\r\n\r\n    setObject(object: object): this {\r\n        this.object = object;\r\n        return this;\r\n    }\r\n\r\n    setCssClass(cssClass: string): this {\r\n        this.cssClass = cssClass;\r\n        return this;\r\n    }\r\n\r\n    setComponentName(name: string): this {\r\n        this.componentName = name;\r\n        return this;\r\n    }\r\n}","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\n/**\r\n * Runs a custom function when the button is pressed\r\n */\r\nexport class FunctionField extends AbstractField {\r\n\r\n    func: Function ;\r\n\r\n    constructor(func: Function, label?: string) {\r\n        super('', label);\r\n        this.func = func;\r\n        this.setComponentName('igt-button-field');\r\n    }\r\n\r\n}","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\nexport class DisplayField extends AbstractField {\r\n\r\n    constructor(propertyName: string, label?: string) {\r\n        super(propertyName, label);\r\n        this.setComponentName('igt-display-field');\r\n    }\r\n\r\n}","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\nexport class ChoiceField extends AbstractField {\r\n    options: [string, number][];\r\n\r\n    constructor(propertyName: string, options: [string, number][], label?: string) {\r\n        super(propertyName, label);\r\n        this.options = options;\r\n        this.setComponentName('igt-choice-field');\r\n    }\r\n\r\n}","import {GameState} from \"./GameState\";\r\nimport {LocalStorage} from \"@/engine/tools/saving/LocalStorage\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Features} from \"@/engine/Features\";\r\nimport {Feature} from \"@/engine/features/Feature\";\r\nimport {DeveloperPanel} from \"@/engine/developer-panel/DeveloperPanel\";\r\nimport {DeveloperPanelTab} from \"@/engine/developer-panel/DeveloperPanelTab\";\r\nimport {FunctionField} from \"@/engine/developer-panel/fields/FunctionField\";\r\nimport {DisplayField} from \"@/engine/developer-panel/fields/DisplayField\";\r\nimport {ChoiceField} from \"@/engine/developer-panel/fields/ChoiceField\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {ISignal, ISimpleEvent, SignalDispatcher, SimpleEventDispatcher} from \"strongly-typed-events\";\r\n\r\nexport class Game {\r\n    private _tickInterval: number = -1;\r\n\r\n    /**\r\n     * Object with registered features. If you want them as a list use this.featureList\r\n     */\r\n    public readonly features: Features;\r\n\r\n    public state: GameState;\r\n\r\n\r\n    protected readonly TICK_DURATION: number = 0.1;\r\n    private readonly SAVE_INTERVAL = 30;\r\n    private _nextSave = this.SAVE_INTERVAL;\r\n\r\n    private gameSpeed = 1;\r\n    private _lastUpdate: number = 0;\r\n\r\n    /**\r\n     * Emitted whenever the game saves\r\n     */\r\n    private _onSave = new SignalDispatcher();\r\n\r\n    public get onSave(): ISignal {\r\n        return this._onSave.asEvent();\r\n    }\r\n\r\n    /**\r\n     * Make sure this key is unique to your game.\r\n     * Otherwise you might run into loading conflicts when multiple games are hosted on the same domain (such as <username.github.io/game)\r\n     */\r\n    protected readonly SAVE_KEY: string = \"incremental-hell\";\r\n\r\n    constructor(features: Features) {\r\n        this.features = features;\r\n\r\n        this.state = GameState.Launching;\r\n    }\r\n\r\n    public getDeveloperPanel(): DeveloperPanel {\r\n        // Start with play buttons for the game\r\n        const tabs: DeveloperPanelTab[] = [\r\n            new DeveloperPanelTab('Game', [\r\n                new DisplayField('state', 'State').setObject(this),\r\n                new ChoiceField('gameSpeed', [\r\n                    ['0.5x', 0.5],\r\n                    ['1x', 1],\r\n                    ['2x', 2],\r\n                    ['4x', 4],\r\n                ], 'Game speed').setObject(this),\r\n                new FunctionField(() => {\r\n                    this.start()\r\n                }, 'Start').setCssClass('btn-green'),\r\n                new FunctionField(() => {\r\n                    this.pause()\r\n                }, 'Pause').setCssClass('btn-blue'),\r\n                new FunctionField(() => {\r\n                    this.resume()\r\n                }, 'Resume').setCssClass('btn-green'),\r\n                new FunctionField(() => {\r\n                    this.stop()\r\n                }, 'Stop').setCssClass('btn-red'),\r\n            ]),\r\n\r\n        ];\r\n\r\n\r\n        for (const feature of this.featureList) {\r\n            const fields = feature.getDeveloperPanelFields();\r\n\r\n            // Inject the feature into the resource.\r\n            for (const field of fields) {\r\n                field.setObject(feature);\r\n            }\r\n\r\n            const tab = new DeveloperPanelTab(feature.saveKey, fields)\r\n            if (!tab.isEmpty()) {\r\n                tabs.push(tab)\r\n            }\r\n        }\r\n        return new DeveloperPanel(tabs);\r\n    }\r\n\r\n    /**\r\n     * Update all features\r\n     */\r\n    public update(): void {\r\n        const now = new Date().getTime() / 1000;\r\n        const timeDifference = now - this._lastUpdate;\r\n\r\n        if (this.state != GameState.Playing) {\r\n            return;\r\n        }\r\n\r\n        const delta = timeDifference * this.gameSpeed;\r\n        for (const feature of this.featureList) {\r\n            feature.update(delta)\r\n        }\r\n\r\n        this._lastUpdate = now;\r\n        this._nextSave -= delta;\r\n        if (this._nextSave <= 0) {\r\n            this.save();\r\n            this._nextSave = this.SAVE_INTERVAL;\r\n        }\r\n    }\r\n\r\n    public getTotalCurrencyMultiplier(type: CurrencyType): number {\r\n        let multiplier = 1;\r\n        for (const feature of this.featureList) {\r\n            multiplier *= feature.getTotalCurrencyMultiplier(type);\r\n        }\r\n        return multiplier;\r\n    }\r\n\r\n    /**\r\n     * Initialize all features\r\n     */\r\n    public initialize(): void {\r\n        for (const feature of this.featureList) {\r\n            feature.initialize(this.features);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Start the main update loop\r\n     */\r\n    public start(): void {\r\n        if (this.state !== GameState.Stopped && this.state !== GameState.Launching) {\r\n            this.printStateWarning(\"Cannot start the game twice.\");\r\n            return;\r\n        }\r\n\r\n        for (const feature of this.featureList) {\r\n            feature.start();\r\n        }\r\n\r\n        this._lastUpdate = new Date().getTime() / 1000;\r\n        this._tickInterval = Number(setInterval(() => this.update(), this.TICK_DURATION * 1000));\r\n\r\n        this.state = GameState.Playing;\r\n        console.debug(\"Game Started\");\r\n    }\r\n\r\n    public pause(): void {\r\n        if (this.state !== GameState.Playing) {\r\n            this.printStateWarning(\"Cannot pause the game if we're not playing.\");\r\n            return;\r\n        }\r\n        clearInterval(this._tickInterval);\r\n\r\n        this.state = GameState.Paused;\r\n        console.debug(\"Game Paused\");\r\n    }\r\n\r\n\r\n    public resume(): void {\r\n        if (this.state !== GameState.Paused) {\r\n            this.printStateWarning(\"Cannot resume the game if we're not paused.\");\r\n            return;\r\n        }\r\n\r\n        this._lastUpdate = new Date().getTime() / 1000;\r\n        // this._tickInterval = setInterval(() => this.update(), this.TICK_DURATION * 1000);\r\n\r\n        this.state = GameState.Playing;\r\n        console.debug(\"Game Resumed\");\r\n    }\r\n\r\n    /**\r\n     * Stop the main update loop\r\n     */\r\n    public stop(): void {\r\n        if (this.state === GameState.Stopped) {\r\n            this.printStateWarning(\"Cannot stop the game if we're already stopped.\");\r\n            return;\r\n        }\r\n        clearInterval(this._tickInterval);\r\n\r\n        for (const feature of this.featureList) {\r\n            feature.stop();\r\n        }\r\n\r\n        this.state = GameState.Stopped;\r\n        console.debug(\"Stopped\");\r\n    }\r\n\r\n    /**\r\n     * Recursively save all registered features\r\n     */\r\n    public save(): void {\r\n        const res: Record<string, unknown> = {};\r\n        for (const feature of this.featureList) {\r\n            res[feature.saveKey] = feature.save()\r\n        }\r\n        LocalStorage.store(this.SAVE_KEY, res)\r\n        this._onSave.dispatch();\r\n    }\r\n\r\n    /**\r\n     * Delete the locally stored save\r\n     */\r\n    public deleteSave(): void {\r\n        LocalStorage.delete(this.SAVE_KEY);\r\n    }\r\n\r\n    /**\r\n     * Recursively load all registered features\r\n     */\r\n    public load(): void {\r\n        const saveData = LocalStorage.get(this.SAVE_KEY)\r\n        if (saveData == null) {\r\n            return;\r\n        }\r\n        for (const feature of this.featureList) {\r\n            const featureSaveData: Record<string, unknown> = saveData[feature.saveKey] as Record<string, unknown>;\r\n            if (featureSaveData == null) {\r\n                continue;\r\n            }\r\n            feature.load(featureSaveData);\r\n        }\r\n    }\r\n\r\n    private printStateWarning(reason: string): void {\r\n        console.warn(`Current state = ${this.state}.`, reason);\r\n    }\r\n\r\n    private get featureList(): Feature[] {\r\n        return Object.values(this.features)\r\n    }\r\n}\r\n","import {Saveable} from \"@/engine/tools/saving/Saveable\";\r\nimport {SaveData} from \"@/engine/tools/saving/SaveData\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Features} from \"@/engine/Features\";\r\nimport {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\n/**\r\n * An abstract class that all features should extend for.\r\n */\r\nexport abstract class Feature implements Saveable {\r\n\r\n    /**\r\n     * Initialize all feature attributes.\r\n     * Note that you should not assume other features exist already here\r\n     * @param saveKey\r\n     */\r\n    protected constructor(saveKey: string) {\r\n        this.saveKey = saveKey;\r\n    }\r\n\r\n    /**\r\n     * Called in dev mode, decides which fields to show in the developer panel.\r\n     */\r\n    getDeveloperPanelFields(): AbstractField[] {\r\n        return []\r\n    }\r\n\r\n    /**\r\n     * Called after all features are created.\r\n     * Can be used to subscribe to other features events\r\n     */\r\n    initialize(features: Features): void {\r\n        // This method intentionally left blank\r\n    }\r\n\r\n    /**\r\n     * Runs when the game gets started. Can be run multiple times if the player can stop the game\r\n     */\r\n    start(): void {\r\n        // This method intentionally left blank\r\n    }\r\n\r\n    /**\r\n     * Runs when the game gets stopped. NOT when the game closes\r\n     */\r\n    stop(): void {\r\n        // This method intentionally left blank\r\n    }\r\n\r\n    /**\r\n     * Default false to avoid not implementing the proper restrictions\r\n     */\r\n    canAccess(): boolean {\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Override in features if specified\r\n     * IMPORTANT: Make sure to always return 1 as the default\r\n     */\r\n    getTotalCurrencyMultiplier(type: CurrencyType) {\r\n        return 1;\r\n    }\r\n\r\n    /**\r\n     * Gets called every Game.TICK_DURATION\r\n     * @param delta time since last update\r\n     */\r\n    update(delta: number): void {\r\n        // Override in subclass if needed\r\n    }\r\n\r\n    // Saving logic\r\n    saveKey: string;\r\n\r\n    abstract load(data: SaveData): void;\r\n\r\n    abstract save(): SaveData;\r\n\r\n\r\n}\r\n","export enum SettingId {\r\n  ShowSaveMessage = \"Show save message\",\r\n  ShowUnobtainedCards = \"Show unobtained cards\",\r\n}\r\n","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\nexport class NumberField extends AbstractField {\r\n\r\n\r\n    constructor(propertyName: string, label?: string) {\r\n        super(propertyName, label);\r\n        this.setComponentName('igt-number-field');\r\n    }\r\n\r\n}","import {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\n\r\nexport class RangeField extends AbstractField {\r\n\r\n    min: number;\r\n    max: number\r\n    step: number\r\n\r\n    constructor(propertyName: string, min: number = 0, max: number = 100, step = 1, label?: string) {\r\n        super(propertyName, label);\r\n        this.min = min;\r\n        this.max = max;\r\n        this.step = step;\r\n        this.setComponentName('igt-range-field');\r\n    }\r\n\r\n}","import {Currency} from \"./Currency\";\r\nimport {CurrencyType} from \"./CurrencyType\";\r\n\r\nimport {ISimpleEvent, SimpleEventDispatcher} from \"strongly-typed-events\";\r\nimport {Feature} from \"@/engine/features/Feature\";\r\nimport {WalletSaveData} from \"@/engine/features/wallet/WalletSaveData\";\r\nimport {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\nimport {NumberField} from \"@/engine/developer-panel/fields/NumberField\";\r\nimport {FunctionField} from \"@/engine/developer-panel/fields/FunctionField\";\r\nimport {RangeField} from \"@/engine/developer-panel/fields/RangeField\";\r\n\r\n\r\nexport class Wallet extends Feature {\r\n    private _currencies: Record<CurrencyType, number> = {} as Record<CurrencyType, number>\r\n    private _multipliers: Record<CurrencyType, number> = {} as Record<CurrencyType, number>\r\n\r\n    private _onCurrencyGain = new SimpleEventDispatcher<Currency>();\r\n\r\n    private readonly _supportedCurrencies: CurrencyType[];\r\n\r\n    constructor(supportedCurrencies: CurrencyType[]) {\r\n        super(\"wallet\");\r\n\r\n        this._supportedCurrencies = supportedCurrencies;\r\n\r\n        // Initialize currencies and multipliers\r\n        for (const type of this._supportedCurrencies) {\r\n            this._currencies[type as CurrencyType] = 0;\r\n            this._multipliers[type as CurrencyType] = 1;\r\n        }\r\n    }\r\n\r\n    public resetTemporaryCurrencies() {\r\n        this._currencies[CurrencyType.Wood] = 0;\r\n        this._currencies[CurrencyType.Grain] = 0;\r\n        this._currencies[CurrencyType.Souls] = 0;\r\n        this._currencies[CurrencyType.Bronze] = 0;\r\n        this._currencies[CurrencyType.Silver] = 0;\r\n        this._currencies[CurrencyType.Gold] = 0;\r\n    }\r\n\r\n    public getAmount(type: CurrencyType): number {\r\n        if (!this.supportsCurrencyType(type)) {\r\n            return 0;\r\n        }\r\n        return this._currencies[type];\r\n    }\r\n\r\n    /**\r\n     * Gain the specified currency and apply the global multiplier\r\n     */\r\n    public gainCurrency(currency: Currency): void {\r\n        currency.multiply(this.getCurrencyMultiplier(currency.type));\r\n\r\n        if (!currency.isValid() || !this.supportsCurrencyType(currency.type)) {\r\n            console.warn(`Could not add currency ${currency.toString()}`);\r\n            return;\r\n        }\r\n\r\n        this._onCurrencyGain.dispatch(currency);\r\n        this._currencies[currency.type] += currency.amount;\r\n    }\r\n\r\n    /**\r\n     * Return true if the currency is valid and the player has the specified amount.\r\n     */\r\n    public hasCurrency(currency: Currency): boolean {\r\n        if (!this.supportsCurrencyType(currency.type)) {\r\n            return false;\r\n        }\r\n        return this._currencies[currency.type] >= currency.amount;\r\n    }\r\n\r\n    /**\r\n     * Return true if all currencies are valid and the player has the specified amount.\r\n     */\r\n    hasCurrencies(costs: Currency[]) {\r\n        for (const cost of costs) {\r\n            if (!this.hasCurrency(cost)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Remove the currency amount from the specified currency.\r\n     * IMPORTANT: This method does not care if amounts go negative\r\n     * @param currency\r\n     */\r\n    public loseCurrency(currency: Currency): void {\r\n        if (!currency.isValid() || !this.supportsCurrencyType(currency.type)) {\r\n            console.warn(`Could not lose currency ${currency.toString()}`);\r\n            return;\r\n        }\r\n        this._currencies[currency.type] -= currency.amount;\r\n    }\r\n\r\n    public loseAll() {\r\n        this._currencies[CurrencyType.Money] = 0;\r\n        this._currencies[CurrencyType.Scrap] = 0;\r\n        this._currencies[CurrencyType.Salt] = 0;\r\n        this._currencies[CurrencyType.Diamond] = 0;\r\n    }\r\n\r\n    public loseMultipleCurrencies(currencies: Currency[]) {\r\n        for (const currency of currencies) {\r\n            this.loseCurrency(currency);\r\n        }\r\n    }\r\n\r\n    public payMultipleIfPossible(currencies: Currency[]): boolean {\r\n        if (this.hasCurrencies(currencies)) {\r\n            this.loseMultipleCurrencies(currencies);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Subtracts the specified currency and returns true if the wallet has enough.\r\n     * Otherwise return false and don't subtract anything\r\n     * @param currency\r\n     * @constructor\r\n     */\r\n    public payIfPossible(currency: Currency): boolean {\r\n        if (this.hasCurrency(currency)) {\r\n            this.loseCurrency(currency);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Return 1 if the multiplier is not set\r\n     */\r\n    public getCurrencyMultiplier(type: CurrencyType): number {\r\n        return this._multipliers[type] ?? 1;\r\n    }\r\n\r\n    public setCurrencyMultiplier(multiplier: number, type: CurrencyType): void {\r\n        if (multiplier <= 0 || isNaN(multiplier) || !this.supportsCurrencyType(type)) {\r\n            return;\r\n        }\r\n        this._multipliers[type] = multiplier;\r\n    }\r\n\r\n    public supportsCurrencyType(type: CurrencyType): boolean {\r\n        return this._supportedCurrencies.includes(type);\r\n    }\r\n\r\n    public canAccess(): boolean {\r\n        return true;\r\n    }\r\n\r\n    public save(): WalletSaveData {\r\n        return {\r\n            money: this._currencies[CurrencyType.Money],\r\n        }\r\n    }\r\n\r\n    public load(data: WalletSaveData): void {\r\n        this._currencies[CurrencyType.Money] = data.money ?? this._currencies[CurrencyType.Money];\r\n    }\r\n\r\n    /**\r\n     * Emitted whenever a currency is gained\r\n     * @private\r\n     */\r\n    public get onCurrencyGain(): ISimpleEvent<Currency> {\r\n        return this._onCurrencyGain.asEvent();\r\n    }\r\n\r\n    public get money(): number {\r\n        return this._currencies.Money;\r\n    }\r\n\r\n    public set money(value: number) {\r\n        this._currencies.Money = value;\r\n    }\r\n\r\n    public get wood(): number {\r\n        return this._currencies.Wood;\r\n    }\r\n\r\n    public get grain(): number {\r\n        return this._currencies.Grain;\r\n    }\r\n\r\n    public get souls(): number {\r\n        return this._currencies.Souls;\r\n    }\r\n\r\n    public get bronze(): number {\r\n        return this._currencies.Bronze;\r\n    }\r\n\r\n    public get silver(): number {\r\n        return this._currencies.Silver;\r\n    }\r\n\r\n    public get gold(): number {\r\n        return this._currencies.Gold;\r\n    }\r\n\r\n    public get diamond(): number {\r\n        return this._currencies.Diamonds;\r\n    }\r\n\r\n    public get scrap(): number {\r\n        return this._currencies.Scrap;\r\n    }\r\n\r\n    getDeveloperPanelFields(): AbstractField[] {\r\n        return [\r\n            new NumberField('money', 'Money'),\r\n            new FunctionField(() => {\r\n                this.money = 10\r\n            }, 'Set money to 10').setCssClass('btn-blue'),\r\n            new RangeField('money', 0, 100, 2, 'Money Slider'),\r\n        ]\r\n    }\r\n}\r\n","export enum StatisticId {\r\n    TotalScrapGained = \"total-scrap-gained\",\r\n    TotalOilGained = \"total-oil-gained\",\r\n    TotalGasolineGained = \"total-gasoline-gained\",\r\n    TotalLightningGained = \"total-lighting-gained\",\r\n    TotalPlutoniumGained = \"total-plutonium-gained\",\r\n    TotalScrapGainedThisPrestige = \"total-scrap-gained-this-prestige\",\r\n    TotalOilGainedThisPrestige = \"total-oil-gained-this-prestige\",\r\n    TotalGasolineGainedThisPrestige = \"total-gasoline-gained-this-prestige\",\r\n    TotalLightningGainedThisPrestige = \"total-lighting-gained-this-prestige\",\r\n    TotalPlutoniumGainedThisPrestige = \"total-plutonium-gained-this-prestige\",\r\n    TotalMoneyGained = \"total-money-gained\",\r\n}","export class Progress {\r\n    actual: number;\r\n    target: number;\r\n\r\n    constructor(actual: number, target: number) {\r\n        this.actual = actual;\r\n        this.target = target;\r\n    }\r\n}\r\n","import {Progress} from \"./Progress\";\r\n\r\n/**\r\n * Abstract class that can be configured to whatever requirements you like.\r\n */\r\nexport abstract class Requirement {\r\n\r\n    // Getters as the user should view these as attributes\r\n\r\n    get isCompleted(): boolean {\r\n        return this.actualValue >= this.targetValue;\r\n    }\r\n\r\n    get progress(): Progress {\r\n        return new Progress(Math.min(this.actualValue, this.targetValue), this.targetValue);\r\n    }\r\n\r\n    abstract get hint(): string;\r\n\r\n    abstract get actualValue(): number;\r\n\r\n    abstract get targetValue(): number;\r\n}\r\n","import {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\n\r\n/**\r\n * A requirement that is always completed\r\n */\r\nexport class NoRequirement extends Requirement {\r\n\r\n    get isCompleted(): boolean {\r\n        return true;\r\n    }\r\n\r\n    get actualValue(): number {\r\n        return 0;\r\n    }\r\n\r\n    get hint(): string {\r\n        return \"\";\r\n    }\r\n\r\n    get targetValue(): number {\r\n        return 0;\r\n    }\r\n}\r\n","import {SettingId} from \"@/engine/features/settings/SettingId\";\r\nimport {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {NoRequirement} from \"@/engine/tools/requirements/NoRequirement\";\r\nimport {SettingOption} from \"@/engine/features/settings/SettingOption\";\r\n\r\n\r\nexport abstract class Setting<T> {\r\n    id: SettingId;\r\n    displayName: string;\r\n    options: SettingOption<T>[];\r\n    defaultValue: T;\r\n    value: T;\r\n\r\n    requirement: Requirement;\r\n\r\n    protected constructor(id: SettingId, displayName: string, options: SettingOption<T>[], defaultValue: T, requirement: Requirement = new NoRequirement()) {\r\n        this.id = id;\r\n        this.displayName = displayName;\r\n        this.options = options;\r\n        this.defaultValue = defaultValue;\r\n\r\n        this.value = defaultValue;\r\n\r\n        this.requirement = requirement;\r\n    }\r\n\r\n    set(value: T): void {\r\n        if (!this.canAccess) {\r\n            return;\r\n        }\r\n        if (this.validValue(value)) {\r\n            this.value = value;\r\n        } else {\r\n            console.warn(`${value} is not a valid value for setting ${this.id}. It could be that the option is not yet unlocked.`);\r\n        }\r\n    }\r\n\r\n    validValue(value: T): boolean {\r\n        const option = this.options.find((option) => option.value === value);\r\n        if (option == undefined || !option.canAccess) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    isSelected(value: T): boolean {\r\n        return this.value === value;\r\n    }\r\n\r\n    get canAccess(): boolean {\r\n        return this.requirement.isCompleted\r\n    }\r\n\r\n}\r\n","import {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {NoRequirement} from \"@/engine/tools/requirements/NoRequirement\";\r\n\r\nexport class SettingOption<T> {\r\n    displayText: string;\r\n    value: T;\r\n\r\n    requirement: Requirement;\r\n\r\n\r\n    constructor(displayText: string, value: T, requirement: Requirement = new NoRequirement()) {\r\n        this.displayText = displayText;\r\n        this.value = value;\r\n        this.requirement = requirement;\r\n    }\r\n\r\n    get canAccess() {\r\n        return this.requirement.isCompleted;\r\n    }\r\n}\r\n","import {Setting} from \"@/engine/features/settings/Setting\";\r\nimport {SettingId} from \"@/engine/features/settings/SettingId\";\r\nimport {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {SettingOption} from \"@/engine/features/settings/SettingOption\";\r\n\r\n/**\r\n * A setting that can only be on or off.\r\n * The options can't have requirements but this can be solved by using the correct defaultValue and requirement.\r\n */\r\nexport class BooleanSetting extends Setting<boolean> {\r\n\r\n    constructor(id: SettingId, displayName: string, defaultValue: boolean, requirement?: Requirement) {\r\n        super(id, displayName, [\r\n            new SettingOption<boolean>(\"On\", true),\r\n            new SettingOption<boolean>(\"Off\", false)\r\n        ], defaultValue, requirement);\r\n    }\r\n\r\n    public toggle(): void {\r\n        this.value = !this.value;\r\n    }\r\n}\r\n","import {Feature} from \"@/engine/features/Feature\";\r\nimport {SettingsSaveData} from \"@/engine/features/settings/SettingsSaveData\";\r\nimport {Setting} from \"@/engine/features/settings/Setting\";\r\nimport {SettingId} from \"@/engine/features/settings/SettingId\";\r\nimport {AbstractField} from \"@/engine/developer-panel/fields/AbstractField\";\r\nimport {FunctionField} from \"@/engine/developer-panel/fields/FunctionField\";\r\nimport {BooleanSetting} from \"@/engine/features/settings/BooleanSetting\";\r\n\r\nexport class Settings extends Feature {\r\n    list: Setting<any>[];\r\n\r\n    constructor() {\r\n        super(\"settings\");\r\n        this.list = [];\r\n    }\r\n\r\n    add(setting: Setting<any>) {\r\n        if (!this.getSetting(setting.id)) {\r\n            this.list.push(setting);\r\n        }\r\n    }\r\n\r\n    initialize() {\r\n        this.add(new BooleanSetting(SettingId.ShowSaveMessage, \"Show save message\", true))\r\n    }\r\n\r\n    setSetting<T>(id: SettingId, value: T) {\r\n        const setting = this.getSetting(id);\r\n        if (setting) {\r\n            setting.set(value);\r\n        } else {\r\n            console.warn(`Setting ${id} does not exist`);\r\n        }\r\n\r\n    }\r\n\r\n    getSetting<T>(id: SettingId): Setting<T> | null {\r\n        for (let i = 0; i < this.list.length; i++) {\r\n            if (this.list[i].id == id) {\r\n                return this.list[i];\r\n            }\r\n        }\r\n        console.warn(`Setting ${id} does not exist`);\r\n        return null;\r\n    }\r\n\r\n\r\n    load(data: SettingsSaveData): void {\r\n        for (const settingSave of data.list) {\r\n            this.getSetting(settingSave.id)?.set(settingSave.value);\r\n        }\r\n    }\r\n\r\n    save(): SettingsSaveData {\r\n\r\n        return {\r\n            list: this.list.map(setting => {\r\n                return {\r\n                    id: setting.id,\r\n                    value: setting.value\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    getDeveloperPanelFields(): AbstractField[] {\r\n        return [\r\n            new FunctionField(() => {\r\n                alert('test')\r\n            }, 'Test'),\r\n        ]\r\n    }\r\n\r\n}\r\n","export enum AchievementId {\r\n    PlayedGobletOfFire = \"played-goblet-of-fire\",\r\n    PlayedFrozen2 = \"played-frozen-2\",\r\n    EnemyPlayedForestFire = \"enemy-played-forest-fire\",\r\n    AtLeastOneSuperPower = \"at-least-one-superpower\",\r\n    AllSuperPowers = \"all-super-powers\",\r\n    TotalMoney100 = \"100-total-money\",\r\n    TotalMoney1000 = \"1000-total-money\",\r\n    TotalMoney10000 = \"10000-total-money\",\r\n    FirstLevelCompleted = \"first-level-completed\",\r\n    WizardLevelCompleted = \"farm-level-completed\",\r\n    FarmLevelCompleted = \"wizard-level-completed\",\r\n    DragonLevelCompleted = \"dragon-level-completed\",\r\n    SpiderLevelCompleted = \"spider-level-completed\",\r\n    TrollLevelCompleted = \"troll-level-completed\",\r\n    NecromancerLevelCompleted = \"necromancer-level-completed\",\r\n    Played100Resources = \"played-100-resources\",\r\n    Played100Monsters = \"played-100-monsters\",\r\n    Played100Actions = \"played-100-actions\",\r\n    Played100Curses = \"played-100-curses\",\r\n    Played100Tools = \"played-100-tools\",\r\n}","import {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\nimport {StatisticsValue} from \"@/engine/features/statistics/StatisticsValueType\";\r\n\r\nexport abstract class AbstractStatistic {\r\n    id: StatisticId;\r\n    description: string;\r\n    abstract value: StatisticsValue;\r\n\r\n    protected constructor(id: StatisticId, description: string) {\r\n        this.id = id;\r\n        this.description = description;\r\n    }\r\n\r\n}","import {AbstractStatistic} from \"@/engine/features/statistics/AbstractStatistic\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\n\r\nexport class NumberStatistic extends AbstractStatistic {\r\n    value: number;\r\n\r\n    constructor(id: StatisticId, description: string, value: number = 0) {\r\n        super(id, description);\r\n        this.value = value;\r\n    }\r\n\r\n}","import {StatisticsValue} from \"./StatisticsValueType\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\n\r\nexport class StatisticsSaveData {\r\n    list: Record<StatisticId, StatisticsValue>;\r\n\r\n    constructor() {\r\n        this.list = {} as Record<StatisticId, StatisticsValue>;\r\n    }\r\n\r\n    addStatistic(id: StatisticId, value: StatisticsValue): void {\r\n        this.list[id] = value;\r\n    }\r\n\r\n}","import {AbstractStatistic} from \"@/engine/features/statistics/AbstractStatistic\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\n\r\nexport class ArrayStatistic extends AbstractStatistic {\r\n    value: number[];\r\n\r\n    constructor(id: StatisticId, description: string, value: number[]) {\r\n        super(id, description);\r\n        this.value = value;\r\n    }\r\n\r\n\r\n}","/**\r\n * Statistics class to keep track of increasing numbers\r\n */\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\nimport {NumberStatistic} from \"@/engine/features/statistics/NumberStatistic\";\r\nimport {Feature} from \"@/engine/features/Feature\";\r\nimport {AbstractStatistic} from \"@/engine/features/statistics/AbstractStatistic\";\r\nimport {StatisticsSaveData} from \"@/engine/features/statistics/StatisticsSaveData\";\r\nimport {StatisticsValue} from \"@/engine/features/statistics/StatisticsValueType\";\r\nimport {Features} from \"@/engine/Features\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {ArrayStatistic} from \"@/engine/features/statistics/ArrayStatistic\";\r\n\r\nexport class Statistics extends Feature {\r\n\r\n    list: Record<StatisticId, AbstractStatistic>\r\n\r\n\r\n    constructor() {\r\n        super('statistics');\r\n        this.list = {} as Record<StatisticId, AbstractStatistic>;\r\n    }\r\n\r\n    initialize(features: Features): void {\r\n        this.registerStatistic(new NumberStatistic(StatisticId.TotalMoneyGained, 'Total money'))\r\n        this.registerStatistic(new NumberStatistic(StatisticId.TotalScrapGained, 'Total scrap'))\r\n        this.registerStatistic(new NumberStatistic(StatisticId.TotalScrapGainedThisPrestige, 'Total scrap this prestige'))\r\n\r\n        features.wallet.onCurrencyGain.subscribe((currency: Currency) => {\r\n            if (currency.type === CurrencyType.Money) {\r\n                this.incrementNumberStatistic(StatisticId.TotalMoneyGained, currency.amount);\r\n            }\r\n            if (currency.type === CurrencyType.Scrap) {\r\n                this.incrementNumberStatistic(StatisticId.TotalScrapGained, currency.amount)\r\n                this.incrementNumberStatistic(StatisticId.TotalScrapGainedThisPrestige, currency.amount)\r\n            }\r\n        });\r\n    }\r\n\r\n    getCurrencyStatisticThisPrestige(type: CurrencyType): NumberStatistic {\r\n        switch (type) {\r\n            case CurrencyType.Scrap: {\r\n                return this.getStatistic(StatisticId.TotalScrapGainedThisPrestige) as NumberStatistic;\r\n            }\r\n            default: {\r\n                return this.getStatistic(StatisticId.TotalScrapGainedThisPrestige) as NumberStatistic;\r\n            }\r\n        }\r\n    }\r\n\r\n    incrementNumberStatistic(id: StatisticId, amount = 1): void {\r\n        if (!this.hasStatistic(id)) {\r\n            console.warn(`Could not find statistic with id ${id}`)\r\n            return;\r\n        }\r\n        const statistic = this.list[id];\r\n        if (statistic instanceof NumberStatistic) {\r\n            statistic.value += amount;\r\n        }\r\n    }\r\n\r\n    incrementArrayStatistic(id: StatisticId, index: number, amount = 1): void {\r\n        if (!this.hasStatistic(id)) {\r\n            console.warn(`Could not find statistic with id ${id}`)\r\n            return;\r\n        }\r\n        const statistic = this.list[id];\r\n        if (statistic instanceof ArrayStatistic) {\r\n            const newValue = statistic.value[index] + amount;\r\n            statistic.value.splice(index, 1, newValue)\r\n        }\r\n    }\r\n\r\n    public getStatistic(id: StatisticId): AbstractStatistic | null {\r\n        if (!this.hasStatistic(id)) {\r\n            console.warn(`Could not find statistic with id ${id}`)\r\n            return null;\r\n        } else {\r\n            return this.list[id];\r\n        }\r\n    }\r\n\r\n    private hasStatistic(id: StatisticId): boolean {\r\n        return id in this.list\r\n    }\r\n\r\n    public registerStatistic(statistic: AbstractStatistic) {\r\n        this.list[statistic.id] = statistic;\r\n    }\r\n\r\n    load(data: StatisticsSaveData): void {\r\n        for (const id in data.list) {\r\n            if (Object.prototype.hasOwnProperty.call(data.list, id)) {\r\n                if (this.hasStatistic(id as StatisticId)) {\r\n                    this.list[id as StatisticId].value = data.list[id as StatisticId];\r\n                } else {\r\n                    console.warn(`Could not load statistic ${id}`)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): StatisticsSaveData {\r\n        const data = new StatisticsSaveData();\r\n        const list = json.list as Record<string, StatisticsValue>;\r\n        for (const id in list) {\r\n            if (Object.prototype.hasOwnProperty.call(list, id)) {\r\n                data.addStatistic(id as StatisticId, list[id])\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    save(): StatisticsSaveData {\r\n        const data = new StatisticsSaveData();\r\n        for (const id in this.list) {\r\n            data.addStatistic(id as StatisticId, this.list[id as StatisticId].value);\r\n        }\r\n        return data;\r\n    }\r\n\r\n}","import {AchievementId} from \"@/engine/features/achievements/AchievementId\";\r\nimport {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {Progress} from \"@/engine/tools/requirements/Progress\";\r\n\r\nexport class Achievement {\r\n    public key: AchievementId;\r\n    public title: string;\r\n    public description: string;\r\n    public image: string;\r\n    public requirement: Requirement;\r\n\r\n    public unlocked: boolean\r\n\r\n    constructor(key: AchievementId, title: string, description: string, image: string, requirement: Requirement) {\r\n        this.key = key;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.image = image;\r\n        this.requirement = requirement;\r\n        this.unlocked = false\r\n    }\r\n\r\n    /**\r\n     * Unlock this achievement if possible.\r\n     * Returns true if the achievement was just unlocked!\r\n     */\r\n    unlock(): boolean {\r\n        if (!this.unlocked) {\r\n            this.unlocked = true;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    requirementsCompleted(): boolean {\r\n        return this.requirement.isCompleted;\r\n    }\r\n\r\n    getProgress(): Progress {\r\n        return this.requirement.progress;\r\n    }\r\n\r\n\r\n}\r\n","import {SaveData} from \"@/engine/tools/saving/SaveData\";\r\nimport {AchievementId} from \"@/engine/features/achievements/AchievementId\";\r\n\r\n/**\r\n * Unlocked achievements are saved as a list of keys\r\n */\r\nexport class AchievementsSaveData implements SaveData {\r\n    list: AchievementId[];\r\n\r\n    constructor() {\r\n        this.list = [];\r\n    }\r\n\r\n    addAchievement(key: AchievementId): void {\r\n        this.list.push(key);\r\n    }\r\n\r\n}","export enum UpgradeType {\r\n    ScrapManual,\r\n    ScrapAutomation,\r\n    ScrapValue,\r\n    ScrapAutomationSpeed,\r\n    ScrapAutomationACriticalChance,\r\n}\r\n","import {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\n\r\n/**\r\n * A requirement that can be manually set to be completed\r\n */\r\nexport class ManualRequirement extends Requirement {\r\n    isSet: boolean\r\n\r\n    constructor() {\r\n        super();\r\n        this.isSet = false;\r\n    }\r\n\r\n    forceCompletion(): void {\r\n        this.isSet = true;\r\n    }\r\n\r\n    get isCompleted(): boolean {\r\n        return this.isSet;\r\n    }\r\n\r\n    get actualValue(): number {\r\n        return this.isSet ? this.targetValue : 0;\r\n    }\r\n\r\n    get hint(): string {\r\n        return \"Can only be manually completed\";\r\n    }\r\n\r\n    get targetValue(): number {\r\n        return 1;\r\n    }\r\n}\r\n","import {Achievement} from \"@/engine/features/achievements/Achievement\";\r\nimport {ManualRequirement} from \"@/engine/tools/requirements/ManualRequirement\";\r\nimport {AchievementId} from \"@/engine/features/achievements/AchievementId\";\r\n\r\nexport class CustomAchievement extends Achievement {\r\n\r\n    constructor(key: AchievementId, title: string, description: string, image: string) {\r\n        super(key, title, description, image, new ManualRequirement());\r\n    }\r\n\r\n    forceComplete() {\r\n        (this.requirement as ManualRequirement).forceCompletion();\r\n    }\r\n}","import {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {NumberStatistic} from \"@/engine/features/statistics/NumberStatistic\";\r\n\r\nexport class NumberStatisticRequirement extends Requirement {\r\n    statistic: NumberStatistic;\r\n    targetValue: number;\r\n\r\n\r\n    constructor(statistic: NumberStatistic, targetValue: number) {\r\n        super();\r\n        this.statistic = statistic;\r\n        this.targetValue = targetValue;\r\n    }\r\n\r\n    getTargetValue(): number {\r\n        return this.targetValue;\r\n    }\r\n\r\n    get actualValue(): number {\r\n        return this.statistic.value;\r\n    }\r\n\r\n    get hint(): string {\r\n        return `The statistic ${this.statistic.description} needs to be at least ${this.targetValue}`;\r\n    }\r\n}","import {Achievement} from \"@/engine/features/achievements/Achievement\";\r\nimport {AchievementId} from \"@/engine/features/achievements/AchievementId\";\r\nimport {Feature} from \"@/engine/features/Feature\";\r\nimport {AchievementsSaveData} from \"@/engine/features/achievements/AchievementSaveData\";\r\nimport {Features} from \"@/engine/Features\";\r\nimport {ArrayStatisticRequirement} from \"@/engine/features/statistics/requirements/ArrayStatisticRequirement\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\nimport {ArrayStatistic} from \"@/engine/features/statistics/ArrayStatistic\";\r\nimport {ISimpleEvent, SimpleEventDispatcher} from \"strongly-typed-events\";\r\nimport {CustomAchievement} from \"@/engine/features/achievements/CustomAchievement\";\r\nimport {NumberStatisticRequirement} from \"@/engine/features/statistics/requirements/NumberStatisticRequirement\";\r\nimport {NumberStatistic} from \"@/engine/features/statistics/NumberStatistic\";\r\n\r\nexport class Achievements extends Feature {\r\n    name: string = \"Achievements\";\r\n    saveKey: string = 'achievements';\r\n\r\n    list: Record<AchievementId, Achievement>\r\n\r\n    // Delay between checking for achievements\r\n    private readonly ACHIEVEMENT_CHECK_TIME: number = 2.0;\r\n    private checkCounter: number = 0;\r\n\r\n    private _onUnlock = new SimpleEventDispatcher<Achievement>();\r\n\r\n    /**\r\n     * Emitted whenever an achievement is unlocked.\r\n     */\r\n    public get onUnlock(): ISimpleEvent<Achievement> {\r\n        return this._onUnlock.asEvent();\r\n    }\r\n\r\n    constructor() {\r\n        super('achievements');\r\n        this.list = {} as Record<AchievementId, Achievement>;\r\n    }\r\n\r\n    initialize(features: Features): void {\r\n        this.registerAchievement(\r\n            new CustomAchievement(AchievementId.AtLeastOneSuperPower,\r\n                \"I wonder what inspired this feature\",\r\n                'Go on an Adventure with at least one bonus',\r\n                'cards/hatchet-bronze.svg',\r\n            )\r\n        );\r\n        this.registerAchievement(\r\n            new Achievement(AchievementId.TotalMoney100,\r\n                \"It's something\",\r\n                'Gain 100 money in total',\r\n                'coins.svg',\r\n                new NumberStatisticRequirement(features.statistics.getStatistic(StatisticId.TotalMoneyGained) as NumberStatistic, 100),\r\n            ),\r\n        );\r\n        this.registerAchievement(\r\n            new Achievement(AchievementId.TotalMoney1000,\r\n                \"It's a bit more\",\r\n                'Gain 1000 money in total',\r\n                'coins.svg',\r\n                new NumberStatisticRequirement(features.statistics.getStatistic(StatisticId.TotalMoneyGained) as NumberStatistic, 1000),\r\n            ),\r\n        );\r\n        this.registerAchievement(\r\n            new Achievement(AchievementId.TotalMoney10000,\r\n                \"This is where the fun begins\",\r\n                'Gain 10000 money in total',\r\n                'coins.svg',\r\n                new NumberStatisticRequirement(features.statistics.getStatistic(StatisticId.TotalMoneyGained) as NumberStatistic, 10000),\r\n            ),\r\n        );\r\n    }\r\n\r\n    update(delta: number) {\r\n        this.checkCounter += delta;\r\n        if (this.checkCounter >= this.ACHIEVEMENT_CHECK_TIME) {\r\n            this.checkForAchievementsCompleted();\r\n            this.checkCounter = 0;\r\n        }\r\n    }\r\n\r\n    public checkForAchievementsCompleted() {\r\n        for (const key in this.list) {\r\n            const achievement = this.list[key as AchievementId];\r\n            if (achievement.requirementsCompleted()) {\r\n                const isJustUnlocked = achievement.unlock();\r\n                if (isJustUnlocked) {\r\n                    this._onUnlock.dispatch(achievement);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private registerAchievement(achievement: Achievement) {\r\n        this.list[achievement.key] = achievement;\r\n    }\r\n\r\n    public getAchievement(key: AchievementId): Achievement | null {\r\n        if (!this.hasAchievement(key)) {\r\n            console.warn(`Could not find achievement with key ${key}`)\r\n\r\n            return null;\r\n        } else {\r\n            return this.list[key];\r\n        }\r\n    }\r\n\r\n    private hasAchievement(key: AchievementId): boolean {\r\n        return key in this.list\r\n    }\r\n\r\n\r\n    load(data: AchievementsSaveData): void {\r\n        for (const key of data.list) {\r\n            const achievement = this.getAchievement(key);\r\n            if (achievement !== null) {\r\n                achievement.unlocked = true\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    save(): AchievementsSaveData {\r\n        const data = new AchievementsSaveData();\r\n        for (const key in this.list) {\r\n            if (this.list[key as AchievementId].unlocked) {\r\n                data.addAchievement(key as AchievementId);\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n}","export class SaveData {\r\n\r\n    constructor() {\r\n        // This constructor intentionally left blank\r\n    }\r\n}\r\n","import {SaveData} from \"@/engine/features/saving/SaveData\";\r\n\r\nexport class ScrapSaveData extends SaveData {\r\n\r\n}\r\n","export class UpgradeListSaveData<UpgradeSaveDataType> {\r\n    upgrades: UpgradeSaveDataType[]\r\n\r\n    constructor() {\r\n        this.upgrades = [];\r\n    }\r\n\r\n    addUpgrade(upgrade: UpgradeSaveDataType): void {\r\n        this.upgrades.push(upgrade);\r\n    }\r\n}\r\n","import {Upgrade} from \"@/engine/features/upgrades/Upgrade\";\r\nimport {Saveable} from \"@/engine/features/saving/Saveable\";\r\nimport {UpgradeListSaveData} from \"@/engine/features/upgrades/UpgradeListSaveData\";\r\nimport {UpgradeSaveData} from \"@/engine/features/upgrades/UpgradeSaveData\";\r\nimport {UpgradeType} from \"@/engine/features/upgrades/UpgradeType\";\r\n\r\nexport class UpgradeList<GenericUpgrade extends Upgrade, GenericUpgradeSaveData extends UpgradeSaveData> implements Saveable {\r\n    list: GenericUpgrade[];\r\n\r\n\r\n    constructor(list: GenericUpgrade[]) {\r\n        this.list = list;\r\n    }\r\n\r\n    addUpgrade(upgrade: GenericUpgrade): void {\r\n        this.list.push(upgrade)\r\n    }\r\n\r\n    getUpgrade(key: string): Upgrade | null {\r\n        for (const upgrade of this.list) {\r\n            if (upgrade.id === key) {\r\n                return upgrade;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getTotalMultiplierForType(type: UpgradeType): number {\r\n        let multiplier = 1;\r\n        for (const upgrade of this.list.filter(upgrade => upgrade.type === type)) {\r\n            multiplier *= upgrade.getBonus(upgrade.level);\r\n        }\r\n        return multiplier;\r\n    }\r\n\r\n    saveKey: string = \"upgrades\";\r\n\r\n    load(data: UpgradeListSaveData<GenericUpgradeSaveData>): void {\r\n        for (const upgradeSave of data.upgrades) {\r\n            const upgrade = this.getUpgrade(upgradeSave.key);\r\n            if (upgrade == null) {\r\n                console.warn(`Could not load upgrade ${upgradeSave.key}`);\r\n            } else {\r\n                upgrade.load(upgradeSave);\r\n            }\r\n        }\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): UpgradeListSaveData<GenericUpgradeSaveData> {\r\n        const data = new UpgradeListSaveData<GenericUpgradeSaveData>();\r\n        const list = json?.upgrades as GenericUpgradeSaveData[];\r\n        if (list == null) {\r\n            return data;\r\n        }\r\n        for (const key of list) {\r\n            data.addUpgrade(key);\r\n        }\r\n        return data;\r\n    }\r\n\r\n    save(): UpgradeListSaveData<GenericUpgradeSaveData> {\r\n        const data = new UpgradeListSaveData<GenericUpgradeSaveData>();\r\n        for (const upgrade of this.list) {\r\n            data.addUpgrade(upgrade.save() as GenericUpgradeSaveData);\r\n        }\r\n        return data;\r\n    }\r\n\r\n\r\n}\r\n","import {CurrencyType} from \"./CurrencyType\";\r\n\r\n/**\r\n * A class to store currency amounts\r\n */\r\nexport class Currency {\r\n    amount: number;\r\n    type: CurrencyType;\r\n\r\n    constructor(amount: number, type: CurrencyType) {\r\n        this.amount = amount;\r\n        this.type = type;\r\n    }\r\n\r\n    /**\r\n     * Whether or not this currency is valid. Your game can have different rules\r\n     */\r\n    public isValid(): boolean {\r\n        if (isNaN(this.amount)) {\r\n            return false;\r\n        }\r\n        return this.amount >= 0;\r\n    }\r\n\r\n    public toString(): string {\r\n        return `${this.amount} ${this.type}`;\r\n    }\r\n\r\n    // Math methods as TS does not support operator overloading\r\n    public add(amount: number) {\r\n        this.amount += amount;\r\n    }\r\n\r\n    public subtract(amount: number) {\r\n        this.amount -= amount;\r\n    }\r\n\r\n    public multiply(amount: number) {\r\n        this.amount *= amount;\r\n    }\r\n\r\n    public divide(amount: number) {\r\n        if (amount === 0) {\r\n            console.error(`Cannot divide ${this} by 0`);\r\n            return;\r\n        }\r\n        this.amount /= amount;\r\n    }\r\n}\r\n","export enum TimeLineState {\r\n    Scrap,\r\n    Gasoline,\r\n    Lightning,\r\n    FluxCapacitor\r\n}\r\n","import {Currency} from \"./Currency\";\r\nimport {CurrencyType} from \"./CurrencyType\";\r\n\r\nexport abstract class CurrencyBuilder {\r\n\r\n    static createArray(amounts: number[], type: CurrencyType): Currency[] {\r\n        return amounts.map(amount => new Currency(amount, type));\r\n    }\r\n}\r\n","export class UpgradeSaveData {\r\n    key: string;\r\n    level: number;\r\n\r\n    constructor(key: string, level: number) {\r\n        this.key = key;\r\n        this.level = level;\r\n    }\r\n}\r\n","import {Saveable} from \"@/engine/features/saving/Saveable\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {App} from \"@/App\";\r\nimport {UpgradeSaveData} from \"@/engine/features/upgrades/UpgradeSaveData\";\r\nimport {UpgradeType} from \"@/engine/features/upgrades/UpgradeType\";\r\nimport { random } from \"lodash-es\";\r\n\r\n/**\r\n * Generic upgrade class\r\n */\r\n\r\nexport abstract class Upgrade implements Saveable {\r\n    id: string = String(Math.random());\r\n    type: UpgradeType;\r\n    displayName: string;\r\n    maxLevel: number;\r\n    level: number;\r\n\r\n    // Describes whether this upgrade increases or decreases a number.\r\n    // (e.g. power is increasing, time is decreasing).\r\n    increasing: boolean;\r\n\r\n\r\n    protected constructor(id: string, type: UpgradeType, displayName: string, maxLevel: number, increasing = true) {\r\n        this.id = id;\r\n        this.type = type;\r\n        this.displayName = displayName;\r\n        this.maxLevel = maxLevel;\r\n        this.level = 0;\r\n        this.increasing = increasing;\r\n\r\n    }\r\n\r\n    abstract getCost(): Currency;\r\n\r\n    abstract getBonus(level: number): number;\r\n\r\n    getUpgradeBonus(): number {\r\n        if (!this.isMaxLevel()) {\r\n            return this.getBonus(this.level + 1) - this.getBonus(this.level);\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    isMaxLevel(): boolean {\r\n        return this.level >= this.maxLevel;\r\n    }\r\n\r\n    canAfford(): boolean {\r\n        return App.game.features.wallet.hasCurrency(this.getCost());\r\n    }\r\n\r\n    // Override in subclass when other requirements exist.\r\n    canBuy(): boolean {\r\n        return this.level < this.maxLevel && this.canAfford();\r\n    }\r\n\r\n    buy(): void {\r\n        if (this.canBuy()) {\r\n            App.game.features.wallet.loseCurrency(this.getCost());\r\n            this.levelUp();\r\n        }\r\n    }\r\n\r\n    levelUp(): void {\r\n        this.level = this.level + 1;\r\n    }\r\n\r\n\r\n    // Save logic\r\n    saveKey: string = this.id;\r\n\r\n    load(data: UpgradeSaveData): void {\r\n        this.level = data.level;\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): UpgradeSaveData {\r\n        return new UpgradeSaveData(json?.id as string, json?.level as number ?? 0)\r\n    }\r\n\r\n    save(): UpgradeSaveData {\r\n        return new UpgradeSaveData(this.id, this.level)\r\n    }\r\n\r\n}\r\n","import {Upgrade} from \"@/engine/features/upgrades/Upgrade\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {UpgradeType} from \"@/engine/features/upgrades/UpgradeType\";\r\n\r\nexport class DiscreteUpgrade extends Upgrade {\r\n\r\n    costList: Currency[] = [];\r\n    bonusList: number[] = []\r\n\r\n    constructor(id: string, type: UpgradeType, displayName: string, maxLevel: number, costList: Currency[], bonusList: number[], increasing: boolean) {\r\n        super(id, type, displayName, maxLevel, increasing);\r\n        this.costList = costList;\r\n        this.bonusList = bonusList;\r\n    }\r\n\r\n    getCost(): Currency {\r\n        if (this.isMaxLevel()) {\r\n            return new Currency(Infinity, CurrencyType.Scrap);\r\n        }\r\n        return this.costList[this.level];\r\n    }\r\n\r\n\r\n    getBonus(level: number = this.level): number {\r\n        return this.bonusList[level];\r\n    }\r\n\r\n}\r\n","import {DiscreteUpgrade} from \"@/engine/features/upgrades/DiscreteUpgrade\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {UpgradeType} from \"@/engine/features/upgrades/UpgradeType\";\r\n\r\n/**\r\n * An upgrade with a max level of 1\r\n */\r\nexport class SingleLevelUpgrade extends DiscreteUpgrade {\r\n\r\n    constructor(id: string, type: UpgradeType, displayName: string, cost: Currency, bonus: number) {\r\n        super(id, type, displayName, 1, [cost], [0, bonus], true);\r\n    }\r\n\r\n    isBought(): boolean {\r\n        return this.isMaxLevel();\r\n    }\r\n\r\n}\r\n","import {MultiRequirement} from \"@/engine/tools/requirements/MultiRequirement\";\r\n\r\nexport abstract class ProgressBar {\r\n    value: number;\r\n    goal: number;\r\n\r\n    isStarted: boolean;\r\n    requirements: MultiRequirement;\r\n\r\n    protected constructor(goal: number, requirements: MultiRequirement) {\r\n        this.value = 0;\r\n        this.goal = goal;\r\n        this.isStarted = false;\r\n        this.requirements = requirements;\r\n    }\r\n\r\n    public start() {\r\n        if (this.isStarted) {\r\n            console.warn(\"Cannot start twice\");\r\n            return;\r\n        }\r\n        this.isStarted = true;\r\n        this.value = 0;\r\n    }\r\n\r\n    public progress(delta: number) {\r\n        if (!this.isStarted) {\r\n            if (this.canRepeat()) {\r\n                this.start();\r\n            }\r\n            return;\r\n        }\r\n        this.value = Math.min(this.goal, this.value + delta);\r\n\r\n        if (this.isCompleted()) {\r\n            this.complete();\r\n        }\r\n    }\r\n\r\n    get percentage() {\r\n        return this.value / this.goal;\r\n    }\r\n\r\n    public abstract canRepeat(): boolean;\r\n\r\n    public repeat() {\r\n        this.value = 0;\r\n    }\r\n\r\n    public isCompleted() {\r\n        return this.value >= this.goal;\r\n    }\r\n\r\n    public complete() {\r\n        this.gainReward();\r\n        if (this.canRepeat()) {\r\n            this.repeat();\r\n        } else {\r\n            this.value = 0;\r\n            this.isStarted = false;\r\n        }\r\n\r\n    }\r\n\r\n    abstract gainReward(): void;\r\n}\r\n","import {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\n\r\n/**\r\n * All requirements in the provided list need to be completed for this requirement to be completed.\r\n */\r\nexport class MultiRequirement extends Requirement {\r\n    requirements: Requirement[];\r\n\r\n    constructor(requirements: Requirement[]) {\r\n        super();\r\n        this.requirements = requirements;\r\n    }\r\n\r\n    get isCompleted() {\r\n        return this.requirements.every(requirement => {\r\n            return requirement.isCompleted;\r\n        });\r\n    }\r\n\r\n    get hint(): string {\r\n        let hint = \"Complete the following requirements:\\n\";\r\n        for (const req of this.requirements) {\r\n            hint += req.hint + \"\\n\";\r\n        }\r\n        return hint;\r\n    }\r\n\r\n    get actualValue(): number {\r\n        let completed = 0;\r\n\r\n        for (const req of this.requirements) {\r\n            if (req.isCompleted) {\r\n                completed++;\r\n            }\r\n        }\r\n        return completed;\r\n    }\r\n\r\n    get targetValue(): number {\r\n        return this.requirements.length;\r\n    }\r\n\r\n\r\n}\r\n","import {ProgressBar} from \"@/engine/progressbars/ProgressBar\";\r\nimport {App} from \"@/App\";\r\nimport {MultiRequirement} from \"@/engine/tools/requirements/MultiRequirement\";\r\nimport {SingleLevelUpgrade} from \"@/engine/features/upgrades/SingleLevelUpgrade\";\r\nimport {DiscreteUpgrade} from \"@/engine/features/upgrades/DiscreteUpgrade\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\n\r\nexport class ScrapAction extends ProgressBar {\r\n    description: string;\r\n    automationUpgrade: string;\r\n    valueUpgrade: string;\r\n\r\n    constructor(description: string, goal: number, automationUpgrade: string, valueUpgrade: string, requirements: MultiRequirement = new MultiRequirement([])) {\r\n        super(goal, requirements);\r\n        this.description = description;\r\n        this.automationUpgrade = automationUpgrade;\r\n        this.valueUpgrade = valueUpgrade\r\n    }\r\n\r\n    canRepeat(): boolean {\r\n        return (App.game.features.scrap.upgrades.getUpgrade(this.automationUpgrade) as SingleLevelUpgrade).isBought();\r\n    }\r\n\r\n    scrapReward(): number {\r\n        const upgrade = (App.game.features.scrap.upgrades.getUpgrade(this.valueUpgrade) as DiscreteUpgrade);\r\n        return upgrade.getBonus();\r\n    }\r\n\r\n    gainReward(): void {\r\n        return App.game.features.wallet.gainCurrency(new Currency(this.scrapReward(), CurrencyType.Scrap));\r\n\r\n    }\r\n\r\n}\r\n","import {App} from \"@/App\";\r\nimport {Requirement} from \"@/engine/tools/requirements/Requirement\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\n\r\nexport class StatisticRequirement extends Requirement {\r\n    id: StatisticId;\r\n    targetValue: number;\r\n\r\n\r\n    constructor(id: StatisticId, targetValue: number) {\r\n        super();\r\n        this.id = id;\r\n        this.targetValue = targetValue;\r\n    }\r\n\r\n    lockedReason(): string {\r\n        return `The statistic ${App.game.features.statistics.getStatistic(this.id)?.id} needs to be at least ${this.targetValue}`;\r\n    }\r\n\r\n    getActualValue(): number {\r\n        return App.game.features.statistics.getStatistic(this.id)?.value as number;\r\n    }\r\n\r\n    getTargetValue(): number {\r\n        return this.targetValue;\r\n    }\r\n    \r\n    get actualValue(): number {\r\n        return App.game.features.statistics.getStatistic(this.id)?.value as number;\r\n    }\r\n\r\n    get hint(): string {\r\n        return `The statistic ${App.game.features.statistics.getStatistic(this.id)?.description} needs to be at least ${this.targetValue}`;\r\n    }\r\n}\r\n","import {Feature} from \"@/engine/features/Feature\";\r\nimport {ScrapSaveData} from \"@/engine/features/scrap/ScrapSaveData\";\r\nimport {App} from \"@/App\";\r\nimport {UpgradeList} from \"@/engine/features/upgrades/UpgradeList\";\r\nimport {Upgrade} from \"@/engine/features/upgrades/Upgrade\";\r\nimport {UpgradeSaveData} from \"@/engine/features/upgrades/UpgradeSaveData\";\r\nimport {UpgradeType} from \"@/engine/features/upgrades/UpgradeType\";\r\nimport {CurrencyBuilder} from \"@/engine/features/wallet/CurrencyBuilder\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {DiscreteUpgrade} from \"@/engine/features/upgrades/DiscreteUpgrade\";\r\nimport {SingleLevelUpgrade} from \"@/engine/features/upgrades/SingleLevelUpgrade\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {ScrapAction} from \"@/engine/features/scrap/ScrapAction\";\r\nimport {MultiRequirement} from \"@/engine/tools/requirements/MultiRequirement\";\r\nimport {StatisticRequirement} from \"@/engine/features/statistics/requirements/StatisticRequirement\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\n\r\nexport class Scrap extends Feature {\r\n    name: string = \"Scrap\";\r\n    saveKey: string = \"scrap\";\r\n\r\n    upgrades: UpgradeList<Upgrade, UpgradeSaveData>;\r\n\r\n    actions: ScrapAction[]\r\n\r\n    constructor() {\r\n        super(\"scrap\");\r\n        this.upgrades = new UpgradeList<Upgrade, UpgradeSaveData>(\r\n            [\r\n                new SingleLevelUpgrade(\"scrap-unlock-dig-automation\", UpgradeType.ScrapAutomation, \"Automatically dig for scraps\", new Currency(30, CurrencyType.Scrap), 1),\r\n                new SingleLevelUpgrade(\"scrap-unlock-metal-detector-automation\", UpgradeType.ScrapAutomation, \"Automate your metal detector\", new Currency(150, CurrencyType.Scrap), 1),\r\n                new SingleLevelUpgrade(\"scrap-unlock-recycle-automation\", UpgradeType.ScrapAutomation, \"Automatically recycle stuff\", new Currency(500, CurrencyType.Scrap), 1),\r\n                new SingleLevelUpgrade(\"scrap-unlock-plunder-copper-automation\", UpgradeType.ScrapAutomation, \"Automatically plunder copper\", new Currency(1000, CurrencyType.Scrap), 1),\r\n\r\n                new DiscreteUpgrade(\"scrap-dig-value\", UpgradeType.ScrapValue, \"Dig value\", 9,\r\n                    CurrencyBuilder.createArray([5, 10, 25, 50, 100, 250, 500, 750, 1000, 2500], CurrencyType.Scrap),\r\n                    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], true),\r\n                new DiscreteUpgrade(\"scrap-metal-detector-value\", UpgradeType.ScrapValue, \"Metal detector value\", 9,\r\n                    CurrencyBuilder.createArray([25, 50, 100, 250, 500, 750, 1000, 2500, 5000, 10000], CurrencyType.Scrap),\r\n                    [5, 10, 15, 20, 25, 30, 35, 40, 45, 50], true),\r\n                new DiscreteUpgrade(\"scrap-recycle-value\", UpgradeType.ScrapValue, \"Recycle value\", 9,\r\n                    CurrencyBuilder.createArray([500, 1000, 1500, 2000, 2500, 3000, 3500, 4000, 4500], CurrencyType.Scrap),\r\n                    [25, 50, 75, 100, 125, 150, 175, 200, 225, 250], true),\r\n                new DiscreteUpgrade(\"scrap-plunder-copper-value\", UpgradeType.ScrapValue, \"Copper value\", 9,\r\n                    CurrencyBuilder.createArray([1000, 2000, 3000, 4000, 5000, 6000, 7000, 8000, 9000], CurrencyType.Scrap),\r\n                    [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000], true),\r\n                new DiscreteUpgrade(\"scrap-automation-speed\", UpgradeType.ScrapAutomationSpeed, \"Speedup all actions\", 10,\r\n                    CurrencyBuilder.createArray([50, 100, 250, 500, 750, 1000, 2500, 5000, 7500, 10000], CurrencyType.Scrap),\r\n                    [1, 1.5, 2.0, 2.5, 3, 4, 5, 7.5, 10, 12.5, 15, 20], true),\r\n            ]\r\n        );\r\n\r\n        this.actions = [\r\n            new ScrapAction(\"Dig for scraps\", 2, \"scrap-unlock-dig-automation\", \"scrap-dig-value\"),\r\n            new ScrapAction(\"Metal detector\", 6, \"scrap-unlock-metal-detector-automation\", \"scrap-metal-detector-value\", new MultiRequirement([new StatisticRequirement(StatisticId.TotalScrapGainedThisPrestige, 8)])),\r\n            new ScrapAction(\"Recycle stuff\", 20, \"scrap-unlock-recycle-automation\", \"scrap-recycle-value\", new MultiRequirement([new StatisticRequirement(StatisticId.TotalScrapGainedThisPrestige, 100)])),\r\n            new ScrapAction(\"Plunder copper \", 50, \"scrap-unlock-plunder-copper-automation\", \"scrap-plunder-copper-value\", new MultiRequirement([new StatisticRequirement(StatisticId.TotalScrapGainedThisPrestige, 1000)])),\r\n        ]\r\n    }\r\n\r\n\r\n    update(delta: number) {\r\n        if (!this.canAccess()) {\r\n            return;\r\n        }\r\n\r\n        const speedMultiplier = (this.upgrades.getUpgrade(\"scrap-automation-speed\") as DiscreteUpgrade).getBonus();\r\n        for (const action of this.actions) {\r\n            action.progress(delta * speedMultiplier);\r\n        }\r\n    }\r\n\r\n    load(data: ScrapSaveData): void {\r\n        // Empty\r\n    }\r\n\r\n\r\n    canAccess(): boolean {\r\n        // return App.game.features.timeLine.canAccessScrap;\r\n        return true;\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): ScrapSaveData {\r\n        return new ScrapSaveData();\r\n    }\r\n\r\n    save(): ScrapSaveData {\r\n        return new ScrapSaveData();\r\n    }\r\n\r\n    reset() {\r\n        for (const upgrade of this.upgrades.list) {\r\n            upgrade.level = 0;\r\n        }\r\n        for (const action of this.actions) {\r\n            action.isStarted = false;\r\n            action.value = 0;\r\n        }\r\n    }\r\n}\r\n","import {SaveData} from \"@/engine/features/saving/SaveData\";\r\nimport {TimeLineState} from \"@/engine/features/timeline/TimeLineState\";\r\n\r\nexport class TimeLineSaveData extends SaveData {\r\n    state: TimeLineState;\r\n\r\n\r\n    constructor(state: TimeLineState) {\r\n        super();\r\n        this.state = state;\r\n    }\r\n}\r\n","import {Feature} from \"@/engine/features/Feature\";\r\nimport {TimeLineState} from \"@/engine/features/timeline/TimeLineState\";\r\nimport {TimeLineSaveData} from \"@/engine/features/timeline/TimeLineSaveData\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {App} from \"@/App\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\nimport {NumberStatistic} from \"@/engine/features/statistics/NumberStatistic\";\r\n\r\n\r\nexport class TimeLine extends Feature {\r\n    name: string = \"Timeline\";\r\n    saveKey: string = \"timeline\";\r\n\r\n    state: TimeLineState;\r\n\r\n    canAccessScrap: boolean = false;\r\n    canAccessGasoline: boolean = false;\r\n    canAccessLightning: boolean = false;\r\n    canAccessPlutonium: boolean = false;\r\n\r\n    public readonly SCRAP_GOAL: number = 10000;\r\n    public readonly GASOLINE_GOAL: number = 10000;\r\n    public readonly OIL_GOAL: number = 100;\r\n\r\n\r\n    public readonly START_STATE: TimeLineState = TimeLineState.Scrap;\r\n\r\n    constructor() {\r\n        super(\"timeline\");\r\n        this.state = this.START_STATE;\r\n    }\r\n\r\n\r\n    initialize() {\r\n        this.giveStartingCurrency();\r\n    }\r\n\r\n    update(delta: number) {\r\n        if (App.game.features.wallet.getAmount(CurrencyType.Scrap) > 0) {\r\n            this.canAccessScrap = true;\r\n        }\r\n    }\r\n\r\n    timeTravel() {\r\n        if (!this.canTimeTravel()) {\r\n            return;\r\n        }\r\n\r\n\r\n        App.game.features.wallet.loseAll();\r\n        App.game.features.scrap.reset();\r\n\r\n        // Reset prestige statistics\r\n        (App.game.features.statistics.getStatistic(StatisticId.TotalScrapGainedThisPrestige) as NumberStatistic).value = 0;\r\n\r\n        this.canAccessScrap = false;\r\n        this.canAccessGasoline = false;\r\n        this.canAccessLightning = false;\r\n        this.canAccessPlutonium = false;\r\n\r\n        this.state = Math.min(TimeLineState.FluxCapacitor, this.state + 1);\r\n        this.giveStartingCurrency();\r\n    }\r\n\r\n    canTimeTravel() {\r\n        return App.game.features.wallet.hasCurrency(new Currency(this.SCRAP_GOAL, CurrencyType.Scrap));\r\n    }\r\n\r\n    load(data: TimeLineSaveData): void {\r\n        this.state = data.state;\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): TimeLineSaveData {\r\n        return new TimeLineSaveData(json.state as TimeLineState ?? this.START_STATE);\r\n    }\r\n\r\n    save(): TimeLineSaveData {\r\n        return new TimeLineSaveData(this.state);\r\n    }\r\n\r\n    private giveStartingCurrency() {\r\n        switch (this.state) {\r\n            case TimeLineState.Scrap:\r\n                App.game.features.wallet.gainCurrency(new Currency(1, CurrencyType.Scrap));\r\n                break;\r\n        }\r\n    }\r\n}\r\n","import {Game} from \"@/engine/Game\";\r\nimport {Wallet} from \"@/engine/features/wallet/Wallet\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Settings} from \"@/engine/features/settings/Settings\";\r\nimport { Statistics } from \"@/engine/features/statistics/Statistics\";\r\nimport { Achievements } from \"@/engine/features/achievements/Achievements\";\r\nimport { Scrap } from \"@/engine/features/scrap/Scrap\";\r\nimport { TimeLine } from \"@/engine/features/timeline/TimeLine\";\r\n\r\nexport class App {\r\n    static inProduction: boolean = (process.env.NODE_ENV === \"production\");\r\n\r\n    static game: Game;\r\n\r\n    static start(): void {\r\n        this.game = this.getDefaultGame();\r\n        this.game.initialize();\r\n        this.game.load();\r\n        this.game.start();\r\n    }\r\n\r\n    public static getDefaultGame(): Game {\r\n        const game = new Game(\r\n            {\r\n                settings: new Settings(),\r\n                wallet: new Wallet([\r\n                    CurrencyType.Money,\r\n                    CurrencyType.Diamond,\r\n                    CurrencyType.Scrap,\r\n                ]),\r\n                statistics: new Statistics(),\r\n                achievements: new Achievements(),\r\n                scrap: new Scrap(),\r\n                timeLine: new TimeLine(),\r\n            }\r\n        );\r\n        return game;\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('notificationGroup',{attrs:{\"group\":\"top-left\"}},[_c('div',{staticClass:\"z-50 fixed inset-0 flex px-4 py-6 pointer-events-none p-6 items-start justify-start\"},[_c('div',{staticClass:\"max-w-sm w-full\"},[_c('notification',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar notifications = ref.notifications;\nreturn _vm._l((notifications),function(notification){return _c('div',{key:notification.id,staticClass:\"max-w-sm w-full mx-auto bg-white shadow-md rounded-lg overflow-hidden mt-4\"},[_c('igt-notification',{attrs:{\"notification\":notification}})],1)})}}])})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"flex justify-center items-center w-12\",class:_vm.backgroundColor},[_c('div',{staticClass:\"text-xl fa\",class:_vm.icon})]),_c('div',{staticClass:\"-mx-3 py-2 px-4\"},[_c('div',{staticClass:\"mx-3\"},[_c('span',{staticClass:\"font-semibold\",class:_vm.textColor},[_vm._v(_vm._s(_vm.notification.title))]),_c('p',{staticClass:\"text-gray-600 text-sm\"},[_vm._v(_vm._s(_vm.notification.text))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"flex\">\r\n    <div class=\"flex justify-center items-center w-12\" :class=\"backgroundColor\">\r\n      <div class=\"text-xl fa\" :class=\"icon\"></div>\r\n    </div>\r\n\r\n    <div class=\"-mx-3 py-2 px-4\">\r\n      <div class=\"mx-3\">\r\n        <span class=\"font-semibold\" :class=\"textColor\">{{ notification.title }}</span>\r\n        <p class=\"text-gray-600 text-sm\">{{ notification.text }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"igt-notification\",\r\n  props: {\r\n    notification: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    textColor() {\r\n      switch (this.notification.type) {\r\n        case 'success':\r\n          return 'text-green-500'\r\n        case 'error':\r\n          return 'text-red-500'\r\n        default:\r\n          return 'text-gray-500';\r\n      }\r\n    },\r\n    backgroundColor() {\r\n      switch (this.notification.type) {\r\n        case 'success':\r\n          return 'bg-green-500'\r\n        case 'error':\r\n          return 'bg-red-500'\r\n        default:\r\n          return 'bg-gray-500';\r\n      }\r\n    },\r\n    icon() {\r\n      switch (this.notification.type) {\r\n        case 'success':\r\n          return 'fa-check'\r\n        case 'error':\r\n          return 'fa-times'\r\n        default:\r\n          return 'fa-question';\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./igt-notification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./igt-notification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./igt-notification.vue?vue&type=template&id=15afe98b&scoped=true&\"\nimport script from \"./igt-notification.vue?vue&type=script&lang=js&\"\nexport * from \"./igt-notification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15afe98b\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <notificationGroup group=\"top-left\">\r\n    <div\r\n        class=\"z-50 fixed inset-0 flex px-4 py-6 pointer-events-none p-6 items-start justify-start\"\r\n    >\r\n      <div class=\"max-w-sm w-full\">\r\n        <notification v-slot=\"{notifications}\">\r\n          <div\r\n              class=\"max-w-sm w-full mx-auto bg-white shadow-md rounded-lg overflow-hidden mt-4\"\r\n              v-for=\"notification in notifications\"\r\n              :key=\"notification.id\"\r\n          >\r\n            <igt-notification :notification=\"notification\"></igt-notification>\r\n          </div>\r\n        </notification>\r\n      </div>\r\n    </div>\r\n  </notificationGroup>\r\n</template>\r\n\r\n<script>\r\n\r\nimport IgtNotification from \"@/components/util/igt-notification\";\r\n\r\nexport default {\r\n  name: \"igt-notifications\",\r\n  components: {IgtNotification},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./igt-notifications.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./igt-notifications.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./igt-notifications.vue?vue&type=template&id=c1296ae4&scoped=true&\"\nimport script from \"./igt-notifications.vue?vue&type=script&lang=js&\"\nexport * from \"./igt-notifications.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c1296ae4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.canAccess)?_c('div',{staticClass:\"container\"},[_c('h3',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.scrapAmount)+\" Scrap\")]),_c('div',{staticClass:\"action-list\"},_vm._l((_vm.availableActions),function(action){return _c('scrap-action',{key:action.description,attrs:{\"action\":action}})}),1),_c('br'),_c('div',{staticClass:\"upgrade-list\"},_vm._l((_vm.upgrades),function(upgrade){return _c('upgrade-component',{key:upgrade.id,attrs:{\"upgrade\":upgrade}})}),1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"btn btn-primary upgrade\",class:{'disabled': !_vm.canBuy},on:{\"click\":_vm.buy}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.upgrade.displayName)+\" \")]),(_vm.upgrade.isMaxLevel())?_c('div',[_vm._v(\"MAX\")]):_c('div',[_c('currency',{attrs:{\"currency\":_vm.cost}}),(_vm.upgrade.maxLevel !== 1)?_c('div',[_vm._v(\" Currently \"+_vm._s(_vm._f(\"twoDigits\")(_vm.upgrade.getBonus(_vm.upgrade.level)))+\" (\"+_vm._s(_vm.upgrade.increasing ? '+' : '-')+_vm._s(_vm._f(\"twoDigits\")(Math.abs(_vm.upgrade.getUpgradeBonus())))+\") \")]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._t(\"before\"),(_vm.brackets)?_c('span',[_vm._v(\"(\")]):_vm._e(),_vm._v(_vm._s(_vm.currency.amount)+\" \"+_vm._s(_vm.currencyType)),(_vm.brackets)?_c('span',[_vm._v(\")\")]):_vm._e(),_vm._t(\"after\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <p>\r\n      <slot name=\"before\">\r\n      </slot>\r\n\r\n      <span v-if=\"brackets\">(</span>{{ currency.amount }} {{ currencyType }}<span v-if=\"brackets\">)</span>\r\n\r\n      <slot name=\"after\">\r\n      </slot>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\n\r\nexport default {\r\n  name: \"CurrencyComponent\",\r\n\r\n  props: {\r\n    currency: {\r\n      type: Currency,\r\n      required: true,\r\n    },\r\n    brackets: {\r\n      type: Boolean,\r\n      required: false,\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    currencyType() {\r\n      return CurrencyType[this.currency.type];\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Currency.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Currency.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Currency.vue?vue&type=template&id=1efcdb68&scoped=true&\"\nimport script from \"./Currency.vue?vue&type=script&lang=js&\"\nexport * from \"./Currency.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1efcdb68\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <button v-show=\"show\" @click=\"buy\" class=\"btn btn-primary upgrade\" :class=\"{'disabled': !canBuy}\">\r\n    <p> {{ upgrade.displayName }} </p>\r\n    <div v-if=\"upgrade.isMaxLevel()\">MAX</div>\r\n    <div v-else>\r\n      <currency :currency=\"cost\"></currency>\r\n      <div v-if=\"upgrade.maxLevel !== 1\">\r\n        Currently {{ upgrade.getBonus(upgrade.level) | twoDigits }}\r\n        ({{ upgrade.increasing ? '+' : '-' }}{{ Math.abs(upgrade.getUpgradeBonus()) | twoDigits }})\r\n      </div>\r\n    </div>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nimport {Upgrade} from \"@/engine/features/upgrades/Upgrade\";\r\nimport CurrencyComponent from \"@/components/Currency.vue\";\r\nimport {App} from \"@/App\";\r\n\r\nexport default {\r\n  name: \"UpgradeComponent\",\r\n  components: {\r\n    'currency': CurrencyComponent\r\n  },\r\n  props: {\r\n    upgrade: {\r\n      type: Upgrade,\r\n      required: true\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    buy() {\r\n      this.upgrade.buy();\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    show() {\r\n      const statistic = App.game.features.statistics.getCurrencyStatisticThisPrestige(this.cost.type);\r\n      return this.upgrade.level > 0 || statistic.value >= this.cost.amount / 2;\r\n    },\r\n    cost() {\r\n      return this.upgrade.getCost();\r\n    },\r\n\r\n    canBuy() {\r\n      return this.upgrade.canBuy();\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.upgrade {\r\n  margin-right: 10px;\r\n  width: 200px;\r\n  flex-grow: 1;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Upgrade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Upgrade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upgrade.vue?vue&type=template&id=1d07ca04&scoped=true&\"\nimport script from \"./Upgrade.vue?vue&type=script&lang=js&\"\nexport * from \"./Upgrade.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Upgrade.vue?vue&type=style&index=0&id=1d07ca04&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d07ca04\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn scrap\",attrs:{\"data-progress-style\":\"fill-back\",\"disabled\":_vm.action.isStarted},on:{\"click\":_vm.start}},[_vm._v(\" \"+_vm._s(_vm.action.description)+\" (+\"+_vm._s(this.action.scrapReward())+\") \"),_c('div',{staticClass:\"progress\"},[_c('div',{staticClass:\"progress-bar\",style:({'width': _vm.action.percentage * 100 + '%'}),attrs:{\"role\":\"progressbar\",\"aria-valuenow\":_vm.action.percentage * 100,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <button @click=\"start\" class=\"btn scrap\" data-progress-style=\"fill-back\" :disabled=\"action.isStarted\">\r\n    {{ action.description }}\r\n    (+{{ this.action.scrapReward() }})\r\n    <div class=\"progress\">\r\n      <div class=\"progress-bar\" role=\"progressbar\" :aria-valuenow=\"action.percentage * 100\"\r\n           :style=\"{'width': action.percentage * 100 + '%'}\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n    </div>\r\n  </button>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport {ScrapAction} from \"@/engine/features/scrap/ScrapAction\";\r\n\r\nexport default {\r\n  name: \"ScrapAction\",\r\n  props: {\r\n    action: {\r\n      type: ScrapAction,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    start() {\r\n      this.action.start();\r\n    }\r\n  },\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.scrap {\r\n  background-color: saddlebrown;\r\n  color: #e8e8e8;\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n  width: 200px;\r\n  flex-grow: 1;\r\n}\r\n\r\n.progress-bar {\r\n  transition: none;\r\n}\r\n\r\n.progress {\r\n  margin-bottom: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ScrapAction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ScrapAction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScrapAction.vue?vue&type=template&id=6241cfc8&scoped=true&\"\nimport script from \"./ScrapAction.vue?vue&type=script&lang=js&\"\nexport * from \"./ScrapAction.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScrapAction.vue?vue&type=style&index=0&id=6241cfc8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6241cfc8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\" v-if=\"canAccess\">\r\n    <!-- <h3 style=\"text-align: center\">{{ scrapAmount | twoDigits }} Scrap</h3> -->\r\n    <h3 style=\"text-align: center\">{{ scrapAmount }} Scrap</h3>\r\n    <div class=\"action-list\">\r\n      <scrap-action v-for=\"action in availableActions\" :key=\"action.description\" :action=\"action\">\r\n      </scrap-action>\r\n    </div>\r\n    <br>\r\n    <div class=\"upgrade-list\">\r\n      <upgrade-component v-for=\"upgrade in upgrades\" :key=\"upgrade.id\" :upgrade=\"upgrade\"></upgrade-component>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {App} from \"@/App\";\r\nimport UpgradeComponent from \"@/components/Upgrade\";\r\nimport ScrapAction from \"@/components/ScrapAction\";\r\n\r\nexport default {\r\n\r\n  name: \"ScrapComponent\",\r\n  components: {ScrapAction, UpgradeComponent},\r\n  data() {\r\n    return {\r\n      statistic: App.game.features.statistics,\r\n      scrap: App.game.features.scrap,\r\n      wallet: App.game.features.wallet,\r\n    }\r\n  },\r\n  methods: {},\r\n\r\n  computed: {\r\n    canAccess() {\r\n      return this.scrap.canAccess();\r\n    },\r\n\r\n    upgrades() {\r\n      return this.scrap.upgrades.list;\r\n    },\r\n    availableActions() {\r\n      return this.scrap.actions.filter(action => action.requirements.isCompleted);\r\n    },\r\n    scrapAmount() {\r\n      return this.wallet.scrap;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  border: 1px solid black;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.action-list {\r\n  display: flex;\r\n}\r\n\r\n.upgrade-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Scrap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Scrap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scrap.vue?vue&type=template&id=6066889e&scoped=true&\"\nimport script from \"./Scrap.vue?vue&type=script&lang=js&\"\nexport * from \"./Scrap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Scrap.vue?vue&type=style&index=0&id=6066889e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6066889e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('br'),_c('div',{staticClass:\"vefs-milestone-wrapper\"},[_c('div',{staticClass:\"milestone-container\"},[_c('div',{staticClass:\"chart-container\"},[_c('div',{staticClass:\"line-container\"},[_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"line left\",style:({'width': _vm.percentage * 100 + '%'})})]),_c('div',{staticClass:\"dot-container\"},[_c('div',{staticClass:\"milestones milestone__0\"},[_c('div',{staticClass:\"dot\",class:{'completed': _vm.percentage >= 0, 'colored': _vm.percentage >= 0}})]),_c('div',{staticClass:\"milestones milestone__40\"},[_c('div',{staticClass:\"dot\",class:{'completed': _vm.percentage >= 0.4, 'colored': _vm.percentage >= 0.4}})]),_c('div',{staticClass:\"milestones milestone__60\"},[_c('div',{staticClass:\"dot\",class:{'completed': _vm.percentage >= 0.6, 'colored': _vm.percentage >= 0.6}})]),_c('div',{staticClass:\"milestones milestone__80\"},[_c('div',{staticClass:\"dot\",class:{'completed': _vm.percentage >= 0.8, 'colored': _vm.percentage >= 0.8}})]),_c('div',{staticClass:\"milestones milestone__100\"},[_c('div',{staticClass:\"dot\",class:{'completed': _vm.percentage >= 1, 'colored': _vm.percentage >= 1}})])])]),_c('div',{staticClass:\"label-container\"},[_c('div',{staticClass:\"milestones milestone__0\"},[_c('div',{staticClass:\"label colored\"},[_vm._v(_vm._s(_vm.timeLine.state >= _vm.timeLineState.FluxCapacitor ? 'Flux Capacitor' : '???')+\" \")])]),_c('div',{staticClass:\"milestones milestone__40\"},[_c('div',{staticClass:\"label colored\"},[_vm._v(_vm._s(_vm.timeLine.state >= _vm.timeLineState.Lightning ? 'Lightning' : '???'))])]),_c('div',{staticClass:\"milestones milestone__60\"},[_c('div',{staticClass:\"label colored\"},[_vm._v(_vm._s(_vm.timeLine.state >= _vm.timeLineState.Gasoline ? 'Gasoline' : '???'))])]),_c('div',{staticClass:\"milestones milestone__80\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.timeLine.state >= _vm.timeLineState.Scrap ? 'Scrap' : '???'))])]),_vm._m(0)])])]),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"}},[(_vm.timeLine.state !== _vm.timeLineState.FluxCapacitor)?_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"padding\":\"20px\",\"margin\":\"20px\"},attrs:{\"disabled\":!_vm.canTimeTravel},on:{\"click\":_vm.timeTravel}},[_vm._v(\" Reach \"+_vm._s(_vm.timeLine.SCRAP_GOAL)+\" Scrap to \"),(_vm.timeLine.state === _vm.timeLineState.Lightning)?_c('span',[_vm._v(\"Complete the game\")]):_c('span',[_vm._v(\"Time travel\")])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"milestones milestone__100\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Time Travel\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <br>\r\n    <div class=\"vefs-milestone-wrapper\">\r\n      <div class=\"milestone-container\">\r\n\r\n        <div class=\"chart-container\">\r\n          <div class=\"line-container\">\r\n            <div class=\"line\"></div>\r\n            <div class=\"line left\" :style=\"{'width': percentage * 100 + '%'}\"></div>\r\n          </div>\r\n\r\n          <div class=\"dot-container\">\r\n            <div class=\"milestones milestone__0\">\r\n              <div class=\"dot\" :class=\"{'completed': percentage >= 0, 'colored': percentage >= 0}\"></div>\r\n            </div>\r\n<!--            <div class=\"milestones milestone__20\">-->\r\n<!--              <div class=\"dot\" :class=\"{'completed': percentage >= 0.2, 'colored': percentage >= 0.2}\"></div>-->\r\n<!--            </div>-->\r\n            <div class=\"milestones milestone__40\">\r\n              <div class=\"dot\" :class=\"{'completed': percentage >= 0.4, 'colored': percentage >= 0.4}\"></div>\r\n            </div>\r\n            <div class=\"milestones milestone__60\">\r\n              <div class=\"dot\" :class=\"{'completed': percentage >= 0.6, 'colored': percentage >= 0.6}\"></div>\r\n            </div>\r\n            <div class=\"milestones milestone__80\">\r\n              <div class=\"dot\" :class=\"{'completed': percentage >= 0.8, 'colored': percentage >= 0.8}\"></div>\r\n            </div>\r\n            <div class=\"milestones milestone__100\">\r\n              <div class=\"dot\" :class=\"{'completed': percentage >= 1, 'colored': percentage >= 1}\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"label-container\">\r\n          <div class=\"milestones milestone__0\">\r\n            <div class=\"label colored\">{{ timeLine.state >= timeLineState.FluxCapacitor ? 'Flux Capacitor' : '???' }}\r\n            </div>\r\n          </div>\r\n<!--          <div class=\"milestones milestone__20\">-->\r\n<!--            <div class=\"label colored\">{{ timeLine.state >= timeLineState.Plutonium ? 'Plutonium' : '???' }}</div>-->\r\n<!--          </div>-->\r\n          <div class=\"milestones milestone__40\">\r\n            <div class=\"label colored\">{{ timeLine.state >= timeLineState.Lightning ? 'Lightning' : '???' }}</div>\r\n          </div>\r\n          <div class=\"milestones milestone__60\">\r\n            <div class=\"label colored\">{{ timeLine.state >= timeLineState.Gasoline ? 'Gasoline' : '???' }}</div>\r\n          </div>\r\n          <div class=\"milestones milestone__80\">\r\n            <div class=\"label\">{{ timeLine.state >= timeLineState.Scrap ? 'Scrap' : '???' }}</div>\r\n          </div>\r\n          <div class=\"milestones milestone__100\">\r\n            <div class=\"label\">Time Travel</div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div style=\"display: flex; justify-content: center;\">\r\n      <button v-if=\"timeLine.state !== timeLineState.FluxCapacitor\"\r\n          class=\"btn btn-primary\" @click=\"timeTravel\" :disabled=\"!canTimeTravel\" style=\"padding:20px; margin:20px\">\r\n        Reach {{ timeLine.SCRAP_GOAL }} Scrap to <span v-if=\"timeLine.state === timeLineState.Lightning\">Complete the game</span>\r\n        <span v-else>Time travel</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {App} from \"@/App\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {TimeLineState} from \"@/engine/features/timeline/TimeLineState\";\r\n\r\nexport default {\r\n\r\n  name: \"TimeLine\",\r\n  data() {\r\n    return {\r\n      timeLine: App.game.features.timeLine,\r\n      wallet: App.game.features.wallet,\r\n      timeLineState: TimeLineState,\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    timeTravel() {\r\n      this.timeLine.timeTravel();\r\n    },\r\n\r\n    logProgress(current, goal) {\r\n      if (current <= 1)\r\n        return 0;\r\n      return Math.log(current) / Math.log(goal);\r\n    }\r\n  },\r\n  computed: {\r\n    canTimeTravel() {\r\n      return this.timeLine.canTimeTravel();\r\n    },\r\n    percentage() {\r\n      if (this.timeLine.canAccessScrap) {\r\n        return Math.min(1, 0.8 + 0.2 * this.logProgress(App.game.features.wallet.getAmount(CurrencyType.Scrap), this.timeLine.SCRAP_GOAL));\r\n      } \r\n      return 0;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.progress-before {\r\n  float: left;\r\n}\r\n\r\n.progress-after {\r\n  float: right;\r\n}\r\n\r\n$milestone-base-color: #cccccc;\r\n$milestone-progress-color: #ffffff;\r\n$milestone-0-color: #ff0000;\r\n$milestone-20-color: #55ff00;\r\n$milestone-40-color: #FDD023;\r\n$milestone-60-color: #242020;\r\n$milestone-80-color: #825700;\r\n$milestone-100-color: #73d2de;\r\n\r\n\r\n.vefs-milestone-wrapper {\r\n  $component-height: 80px;\r\n  $line-height: 15px;\r\n  $dot-size: $line-height * 2.5;\r\n\r\n  .milestone-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    height: $component-height;\r\n\r\n    .chart-container {\r\n      display: flex;\r\n      flex-flow: column;\r\n      align-items: center;\r\n      flex: 1 75%;\r\n\r\n      .line-container {\r\n        position: absolute;\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        height: $dot-size;\r\n\r\n        .line {\r\n          align-self: center;\r\n          position: absolute;\r\n          top: calc($dot-size / 2);\r\n          transform: translateY(-50%);\r\n          order: 1;\r\n          width: 100%;\r\n          height: $line-height;\r\n          background-color: $milestone-base-color;\r\n          background-color: rgba($milestone-base-color, 0.5);\r\n\r\n          &.left {\r\n            order: 0;\r\n            background-color: $milestone-progress-color;\r\n          }\r\n        }\r\n      }\r\n\r\n      .dot-container {\r\n        position: absolute;\r\n        height: $dot-size;\r\n        width: 100%;\r\n\r\n        .dot {\r\n          position: absolute;\r\n          width: $dot-size;\r\n          height: $dot-size;\r\n          border-radius: 50%;\r\n          background-color: $milestone-base-color;\r\n          transform: translateX(-50%);\r\n          transition: all 0.25s ease-out;\r\n\r\n          &.completed {\r\n            background-color: $milestone-progress-color;\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    .label-container {\r\n      display: flex;\r\n      flex-flow: column nowrap;\r\n      align-items: flex-start;\r\n      flex: 1 50%;\r\n\r\n      .label {\r\n        position: relative;\r\n        font-size: 2rem;\r\n        font-weight: 600;\r\n        color: $milestone-base-color;\r\n\r\n        &.colored {\r\n          color: $milestone-progress-color;\r\n        }\r\n      }\r\n    }\r\n\r\n    .milestones {\r\n      position: absolute;\r\n      transform: translate(-50%, 0);\r\n\r\n      @mixin milestone( $mark, $color) {\r\n        &__#{$mark} {\r\n          left: #{$mark + '%'};\r\n\r\n          .dot {\r\n            &.colored {\r\n              background-color: rgba($color, 1);\r\n              transition: all 0.25s ease-out;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      &.milestone {\r\n        // generate position and color of each milestone value\r\n        @for $i from 0 to 101 {\r\n          @if $i == 0 {\r\n            @include milestone($i, $milestone-0-color);\r\n          }\r\n          @if $i > 0 and $i <= 20 {\r\n            @include milestone($i, $milestone-20-color);\r\n          }\r\n          @if $i > 20 and $i <= 40 {\r\n            @include milestone($i, $milestone-40-color);\r\n          }\r\n          @if $i > 40 and $i <= 60 {\r\n            @include milestone($i, $milestone-60-color);\r\n          }\r\n          @if $i > 60 and $i <= 80 {\r\n            @include milestone($i, $milestone-80-color);\r\n          }\r\n          @if $i > 80 and $i <= 100 {\r\n            @include milestone($i, $milestone-100-color);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TimeLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeLine.vue?vue&type=template&id=4ee22b2e&scoped=true&\"\nimport script from \"./TimeLine.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeLine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeLine.vue?vue&type=style&index=0&id=4ee22b2e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ee22b2e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <!-- <div :class=\"{'dark': darkMode}\"> -->\r\n    <div class=\"container\">\r\n      <!-- <igt-notifications></igt-notifications> -->\r\n      <!-- <ih-header></ih-header> -->\r\n      <time-line></time-line>\r\n      <div class=\"column\">\r\n        <div class=\"row\">\r\n          <scrap></scrap>\r\n        </div>\r\n      </div>\r\n      <!-- <ih-footer></ih-footer> -->\r\n    </div>\r\n  <!-- </div> -->\r\n\r\n</template>\r\n\r\n<script>\r\nimport {App} from \"@/App.ts\"\r\nimport IgtNotifications from \"@/components/util/igt-notifications\";\r\n// import IhHeader from \"@/components/ih-header\";\r\n// import IhFooter from \"@/components/ih-footer\";\r\nimport Scrap from \"@/components/features/Scrap\";\r\nimport TimeLine from \"@/components/features/TimeLine\"\r\n\r\nexport default {\r\n  components: {\r\n    // IgtNotifications,\r\n    // IhHeader,\r\n    // IhFooter,\r\n    TimeLine,\r\n    Scrap,\r\n  },\r\n  data() {\r\n    return {\r\n      game: App.game\r\n    }\r\n  },\r\n  computed: {\r\n    showDevPanel() {\r\n      return !App.inProduction;\r\n    },\r\n    darkMode() {\r\n      return true;\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VueApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./VueApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VueApp.vue?vue&type=template&id=074d6958&\"\nimport script from \"./VueApp.vue?vue&type=script&lang=js&\"\nexport * from \"./VueApp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VueApp.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\n\r\nVue.filter('numberFormat', function (value: number) {\r\n    if (value == undefined) {\r\n        return \"\";\r\n    }\r\n    return value.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n})\r\n\r\nVue.filter('dateFormat', function (date: Date) {\r\n    if (date == undefined) {\r\n        return \"\";\r\n    }\r\n\r\n    const year = new Intl.DateTimeFormat('en', {year: 'numeric'}).format(date);\r\n    const month = new Intl.DateTimeFormat('en', {month: 'long'}).format(date);\r\n    const day = new Intl.DateTimeFormat('en', {day: '2-digit'}).format(date);\r\n\r\n    const hours = date.getHours();\r\n    const hoursString = hours < 10 ? `0${hours}` : `${hours}`;\r\n    const minutes = date.getMinutes();\r\n    const minutesString = minutes < 10 ? `0${minutes}` : `${minutes}`;\r\n\r\n    return `${day} ${month} ${year} ${hoursString}:${minutesString}`;\r\n\r\n})\r\n\r\nVue.filter('humanizeString', function (string: string) {\r\n    if (string == undefined) {\r\n        return \"\";\r\n    }\r\n    string = string.charAt(0).toUpperCase() + string.slice(1);\r\n    string.replace(\"_\", \" \").replace(\"-\", \" \");\r\n    return string;\r\n})\r\n\r\nVue.filter('twoDigits', function (value: number) {\r\n    return value.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n})\r\n","import Vue from 'vue'\r\nimport VueApp from './VueApp.vue'\r\nimport {App} from \"./App\";\r\n\r\nimport Notifications from \"vt-notifications\";\r\n\r\nimport './VueFilters';\r\n\r\n// import \"./index.css\";\r\nimport \"./index.scss\";\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.use(Notifications);\r\n\r\ndeclare global {\r\n    interface Window {\r\n        App: App;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Start the application when all html elements are loaded.\r\n */\r\nwindow.onload = function () {\r\n    App.start();\r\n\r\n    // Expose the App class to the window (and the console)\r\n    if (!App.inProduction && typeof window !== undefined) {\r\n        console.log('Exposing App to console');\r\n        window.App = App;\r\n    }\r\n\r\n\r\n    console.log(\"Launched\");\r\n\r\n    new Vue({\r\n        render: h => h(VueApp),\r\n    }).$mount('#app')\r\n\r\n\r\n};\r\n\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkigt_vue\"] = self[\"webpackChunkigt_vue\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(247); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["GameState","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","CurrencyType","LocalStorage","key","data","localStorage","setItem","JSON","stringify","parse","getItem","removeItem","DeveloperPanel","tabs","DeveloperPanelTab","label","children","length","AbstractField","propertyName","cssClass","undefined","object","console","warn","value","name","componentName","FunctionField","func","setComponentName","DisplayField","ChoiceField","options","Game","features","SAVE_INTERVAL","SignalDispatcher","state","Launching","_onSave","asEvent","setObject","start","setCssClass","pause","resume","stop","featureList","feature","fields","getDeveloperPanelFields","field","tab","saveKey","isEmpty","push","now","Date","getTime","timeDifference","_lastUpdate","Playing","delta","gameSpeed","update","_nextSave","save","type","multiplier","getTotalCurrencyMultiplier","initialize","Stopped","_tickInterval","Number","setInterval","TICK_DURATION","debug","printStateWarning","clearInterval","Paused","res","store","SAVE_KEY","dispatch","saveData","get","featureSaveData","load","reason","Object","values","SettingId","Feature","NumberField","RangeField","min","max","step","Wallet","supportedCurrencies","SimpleEventDispatcher","_supportedCurrencies","_currencies","_multipliers","Wood","Grain","Souls","Bronze","Silver","Gold","supportsCurrencyType","currency","multiply","getCurrencyMultiplier","isValid","_onCurrencyGain","amount","toString","costs","cost","hasCurrency","Money","Scrap","Salt","Diamond","currencies","loseCurrency","hasCurrencies","loseMultipleCurrencies","isNaN","includes","money","Diamonds","StatisticId","Progress","actual","target","Requirement","actualValue","targetValue","Math","NoRequirement","Setting","id","displayName","defaultValue","requirement","canAccess","validValue","option","find","isCompleted","SettingOption","displayText","BooleanSetting","Settings","list","setting","getSetting","add","ShowSaveMessage","set","i","settingSave","map","alert","AchievementId","AbstractStatistic","description","NumberStatistic","StatisticsSaveData","ArrayStatistic","Statistics","registerStatistic","TotalMoneyGained","TotalScrapGained","TotalScrapGainedThisPrestige","wallet","onCurrencyGain","subscribe","incrementNumberStatistic","getStatistic","hasStatistic","statistic","index","newValue","splice","prototype","hasOwnProperty","call","json","addStatistic","Achievement","title","image","unlocked","progress","UpgradeType","AchievementsSaveData","ManualRequirement","isSet","CustomAchievement","forceCompletion","NumberStatisticRequirement","Achievements","_onUnlock","registerAchievement","AtLeastOneSuperPower","TotalMoney100","statistics","TotalMoney1000","TotalMoney10000","checkCounter","ACHIEVEMENT_CHECK_TIME","checkForAchievementsCompleted","achievement","requirementsCompleted","isJustUnlocked","unlock","hasAchievement","getAchievement","addAchievement","SaveData","ScrapSaveData","UpgradeListSaveData","upgrades","upgrade","UpgradeList","filter","getBonus","level","upgradeSave","getUpgrade","addUpgrade","TimeLineState","Currency","error","CurrencyBuilder","amounts","UpgradeSaveData","Upgrade","maxLevel","increasing","String","random","isMaxLevel","App","game","getCost","canAfford","canBuy","levelUp","DiscreteUpgrade","costList","bonusList","Infinity","SingleLevelUpgrade","bonus","ProgressBar","goal","requirements","isStarted","complete","canRepeat","gainReward","repeat","MultiRequirement","every","hint","req","completed","ScrapAction","automationUpgrade","valueUpgrade","scrap","isBought","gainCurrency","scrapReward","StatisticRequirement","ScrapAutomation","ScrapValue","createArray","ScrapAutomationSpeed","actions","speedMultiplier","action","TimeLineSaveData","TimeLine","START_STATE","giveStartingCurrency","getAmount","canAccessScrap","canTimeTravel","loseAll","reset","canAccessGasoline","canAccessLightning","canAccessPlutonium","FluxCapacitor","SCRAP_GOAL","getDefaultGame","settings","achievements","timeLine","process","attrs","scopedSlots","_u","fn","ref","notifications","_l","notification","class","backgroundColor","icon","textColor","_v","_s","text","props","required","computed","component","components","IgtNotification","staticStyle","scrapAmount","_e","directives","rawName","expression","on","buy","_f","abs","getUpgradeBonus","_t","currencyType","brackets","methods","show","style","percentage","UpgradeComponent","availableActions","timeLineState","Lightning","Gasoline","_m","timeTravel","logProgress","current","showDevPanel","darkMode","Vue","toFixed","replace","date","year","Intl","DateTimeFormat","format","month","day","hours","getHours","hoursString","minutes","getMinutes","minutesString","string","charAt","toUpperCase","slice","Notifications","window","onload","inProduction","log","h","VueApp","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","priority","notFulfilled","fulfilled","j","keys","r","d","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}