{"remainingRequest":"C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\node_modules\\ts-loader\\index.js??ref--14-3!C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\src\\engine\\features\\timeline\\TimeLine.ts","dependencies":[{"path":"C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\src\\engine\\features\\timeline\\TimeLine.ts","mtime":1655100970134},{"path":"C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655271851080},{"path":"C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1655271851050},{"path":"C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\node_modules\\babel-loader\\lib\\index.js","mtime":1655271854201},{"path":"C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\node_modules\\ts-loader\\index.js","mtime":1655271854628},{"path":"C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\node_modules\\eslint-loader\\index.js","mtime":1655271851823}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9MZWUvRG9jdW1lbnRzL0dpdEh1Yi9pbmNyZW1lbnRhbC1oZWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzovVXNlcnMvTGVlL0RvY3VtZW50cy9HaXRIdWIvaW5jcmVtZW50YWwtaGVsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkM6L1VzZXJzL0xlZS9Eb2N1bWVudHMvR2l0SHViL2luY3JlbWVudGFsLWhlbGwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICJDOi9Vc2Vycy9MZWUvRG9jdW1lbnRzL0dpdEh1Yi9pbmNyZW1lbnRhbC1oZWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgeyBGZWF0dXJlIH0gZnJvbSAiQC9lbmdpbmUvZmVhdHVyZXMvRmVhdHVyZSI7CmltcG9ydCB7IFRpbWVMaW5lU3RhdGUgfSBmcm9tICJAL2VuZ2luZS9mZWF0dXJlcy90aW1lbGluZS9UaW1lTGluZVN0YXRlIjsKaW1wb3J0IHsgVGltZUxpbmVTYXZlRGF0YSB9IGZyb20gIkAvZW5naW5lL2ZlYXR1cmVzL3RpbWVsaW5lL1RpbWVMaW5lU2F2ZURhdGEiOwppbXBvcnQgeyBDdXJyZW5jeVR5cGUgfSBmcm9tICJAL2VuZ2luZS9mZWF0dXJlcy93YWxsZXQvQ3VycmVuY3lUeXBlIjsKaW1wb3J0IHsgQ3VycmVuY3kgfSBmcm9tICJAL2VuZ2luZS9mZWF0dXJlcy93YWxsZXQvQ3VycmVuY3kiOwppbXBvcnQgeyBBcHAgfSBmcm9tICJAL0FwcCI7CmltcG9ydCB7IFN0YXRpc3RpY0lkIH0gZnJvbSAiQC9lbmdpbmUvZmVhdHVyZXMvc3RhdGlzdGljcy9TdGF0aXN0aWNJZCI7CmV4cG9ydCB2YXIgVGltZUxpbmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9GZWF0dXJlKSB7CiAgX2luaGVyaXRzKFRpbWVMaW5lLCBfRmVhdHVyZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoVGltZUxpbmUpOwoKICBmdW5jdGlvbiBUaW1lTGluZSgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZUxpbmUpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgInRpbWVsaW5lIik7CiAgICBfdGhpcy5uYW1lID0gIlRpbWVsaW5lIjsKICAgIF90aGlzLnNhdmVLZXkgPSAidGltZWxpbmUiOwogICAgX3RoaXMuY2FuQWNjZXNzU2NyYXAgPSBmYWxzZTsKICAgIF90aGlzLmNhbkFjY2Vzc0dhc29saW5lID0gZmFsc2U7CiAgICBfdGhpcy5jYW5BY2Nlc3NMaWdodG5pbmcgPSBmYWxzZTsKICAgIF90aGlzLmNhbkFjY2Vzc1BsdXRvbml1bSA9IGZhbHNlOwogICAgX3RoaXMuU0NSQVBfR09BTCA9IDEwMDAwOwogICAgX3RoaXMuR0FTT0xJTkVfR09BTCA9IDEwMDAwOwogICAgX3RoaXMuT0lMX0dPQUwgPSAxMDA7CiAgICBfdGhpcy5TVEFSVF9TVEFURSA9IFRpbWVMaW5lU3RhdGUuU2NyYXA7CiAgICBfdGhpcy5zdGF0ZSA9IF90aGlzLlNUQVJUX1NUQVRFOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFRpbWVMaW5lLCBbewogICAga2V5OiAiaW5pdGlhbGl6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHsKICAgICAgdGhpcy5naXZlU3RhcnRpbmdDdXJyZW5jeSgpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGRlbHRhKSB7CiAgICAgIGlmIChBcHAuZ2FtZS5mZWF0dXJlcy53YWxsZXQuZ2V0QW1vdW50KEN1cnJlbmN5VHlwZS5TY3JhcCkgPiAwKSB7CiAgICAgICAgdGhpcy5jYW5BY2Nlc3NTY3JhcCA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0aW1lVHJhdmVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0aW1lVHJhdmVsKCkgewogICAgICBpZiAoIXRoaXMuY2FuVGltZVRyYXZlbCgpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBBcHAuZ2FtZS5mZWF0dXJlcy53YWxsZXQubG9zZUFsbCgpOwogICAgICBBcHAuZ2FtZS5mZWF0dXJlcy5zY3JhcC5yZXNldCgpOyAvLyBSZXNldCBwcmVzdGlnZSBzdGF0aXN0aWNzCgogICAgICBBcHAuZ2FtZS5mZWF0dXJlcy5zdGF0aXN0aWNzLmdldFN0YXRpc3RpYyhTdGF0aXN0aWNJZC5Ub3RhbFNjcmFwR2FpbmVkVGhpc1ByZXN0aWdlKS52YWx1ZSA9IDA7CiAgICAgIHRoaXMuY2FuQWNjZXNzU2NyYXAgPSBmYWxzZTsKICAgICAgdGhpcy5jYW5BY2Nlc3NHYXNvbGluZSA9IGZhbHNlOwogICAgICB0aGlzLmNhbkFjY2Vzc0xpZ2h0bmluZyA9IGZhbHNlOwogICAgICB0aGlzLmNhbkFjY2Vzc1BsdXRvbml1bSA9IGZhbHNlOwogICAgICB0aGlzLnN0YXRlID0gTWF0aC5taW4oVGltZUxpbmVTdGF0ZS5GbHV4Q2FwYWNpdG9yLCB0aGlzLnN0YXRlICsgMSk7CiAgICAgIHRoaXMuZ2l2ZVN0YXJ0aW5nQ3VycmVuY3koKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5UaW1lVHJhdmVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5UaW1lVHJhdmVsKCkgewogICAgICByZXR1cm4gQXBwLmdhbWUuZmVhdHVyZXMud2FsbGV0Lmhhc0N1cnJlbmN5KG5ldyBDdXJyZW5jeSh0aGlzLlNDUkFQX0dPQUwsIEN1cnJlbmN5VHlwZS5TY3JhcCkpOwogICAgfQogIH0sIHsKICAgIGtleTogImxvYWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWQoZGF0YSkgewogICAgICB0aGlzLnN0YXRlID0gZGF0YS5zdGF0ZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwYXJzZVNhdmVEYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZVNhdmVEYXRhKGpzb24pIHsKICAgICAgdmFyIF9qc29uJHN0YXRlOwoKICAgICAgcmV0dXJuIG5ldyBUaW1lTGluZVNhdmVEYXRhKChfanNvbiRzdGF0ZSA9IGpzb24uc3RhdGUpICE9PSBudWxsICYmIF9qc29uJHN0YXRlICE9PSB2b2lkIDAgPyBfanNvbiRzdGF0ZSA6IHRoaXMuU1RBUlRfU1RBVEUpOwogICAgfQogIH0sIHsKICAgIGtleTogInNhdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHJldHVybiBuZXcgVGltZUxpbmVTYXZlRGF0YSh0aGlzLnN0YXRlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnaXZlU3RhcnRpbmdDdXJyZW5jeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2l2ZVN0YXJ0aW5nQ3VycmVuY3koKSB7CiAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkgewogICAgICAgIGNhc2UgVGltZUxpbmVTdGF0ZS5TY3JhcDoKICAgICAgICAgIEFwcC5nYW1lLmZlYXR1cmVzLndhbGxldC5nYWluQ3VycmVuY3kobmV3IEN1cnJlbmN5KDEsIEN1cnJlbmN5VHlwZS5TY3JhcCkpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBUaW1lTGluZTsKfShGZWF0dXJlKTs="},{"version":3,"sources":["C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Lee\\Documents\\GitHub\\incremental-hell\\src\\engine\\features\\timeline\\TimeLine.ts"],"names":[],"mappings":"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","sourcesContent":["import {Feature} from \"@/engine/features/Feature\";\r\nimport {TimeLineState} from \"@/engine/features/timeline/TimeLineState\";\r\nimport {TimeLineSaveData} from \"@/engine/features/timeline/TimeLineSaveData\";\r\nimport {CurrencyType} from \"@/engine/features/wallet/CurrencyType\";\r\nimport {Currency} from \"@/engine/features/wallet/Currency\";\r\nimport {App} from \"@/App\";\r\nimport {StatisticId} from \"@/engine/features/statistics/StatisticId\";\r\nimport {NumberStatistic} from \"@/engine/features/statistics/NumberStatistic\";\r\n\r\n\r\nexport class TimeLine extends Feature {\r\n    name: string = \"Timeline\";\r\n    saveKey: string = \"timeline\";\r\n\r\n    state: TimeLineState;\r\n\r\n    canAccessScrap: boolean = false;\r\n    canAccessGasoline: boolean = false;\r\n    canAccessLightning: boolean = false;\r\n    canAccessPlutonium: boolean = false;\r\n\r\n    public readonly SCRAP_GOAL: number = 10000;\r\n    public readonly GASOLINE_GOAL: number = 10000;\r\n    public readonly OIL_GOAL: number = 100;\r\n\r\n\r\n    public readonly START_STATE: TimeLineState = TimeLineState.Scrap;\r\n\r\n    constructor() {\r\n        super(\"timeline\");\r\n        this.state = this.START_STATE;\r\n    }\r\n\r\n\r\n    initialize() {\r\n        this.giveStartingCurrency();\r\n    }\r\n\r\n    update(delta: number) {\r\n        if (App.game.features.wallet.getAmount(CurrencyType.Scrap) > 0) {\r\n            this.canAccessScrap = true;\r\n        }\r\n    }\r\n\r\n    timeTravel() {\r\n        if (!this.canTimeTravel()) {\r\n            return;\r\n        }\r\n\r\n\r\n        App.game.features.wallet.loseAll();\r\n        App.game.features.scrap.reset();\r\n\r\n        // Reset prestige statistics\r\n        (App.game.features.statistics.getStatistic(StatisticId.TotalScrapGainedThisPrestige) as NumberStatistic).value = 0;\r\n\r\n        this.canAccessScrap = false;\r\n        this.canAccessGasoline = false;\r\n        this.canAccessLightning = false;\r\n        this.canAccessPlutonium = false;\r\n\r\n        this.state = Math.min(TimeLineState.FluxCapacitor, this.state + 1);\r\n        this.giveStartingCurrency();\r\n    }\r\n\r\n    canTimeTravel() {\r\n        return App.game.features.wallet.hasCurrency(new Currency(this.SCRAP_GOAL, CurrencyType.Scrap));\r\n    }\r\n\r\n    load(data: TimeLineSaveData): void {\r\n        this.state = data.state;\r\n    }\r\n\r\n    parseSaveData(json: Record<string, unknown>): TimeLineSaveData {\r\n        return new TimeLineSaveData(json.state as TimeLineState ?? this.START_STATE);\r\n    }\r\n\r\n    save(): TimeLineSaveData {\r\n        return new TimeLineSaveData(this.state);\r\n    }\r\n\r\n    private giveStartingCurrency() {\r\n        switch (this.state) {\r\n            case TimeLineState.Scrap:\r\n                App.game.features.wallet.gainCurrency(new Currency(1, CurrencyType.Scrap));\r\n                break;\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":""}]}